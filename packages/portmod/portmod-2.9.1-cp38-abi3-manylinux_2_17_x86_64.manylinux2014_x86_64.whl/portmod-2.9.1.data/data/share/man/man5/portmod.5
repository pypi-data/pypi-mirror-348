.\" Man page generated from reStructuredText.
.
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.TH "PORTMOD" "5" "May 16, 2025" "Portmod 2.9.1" "Portmod"
.SH NAME
portmod \- Configuration files for portmod
.sp
These files are found in the \fBCONFIG_DIR\fP (as displayed by \fBportmod <prefix> info\fP).
This is typically one of the following locations, depending on your platform.
.TS
center;
|l|l|.
_
T{
\fI\%package.accept_license\fP
T}	T{
The file \fB{CONFIG_DIR}/package.accept_license\fP can be used to allow the installation of packages with a license which is not accepted using the global \fBACCEPT_LICENSE\fP setting.
T}
_
T{
\fI\%package.accept_keywords\fP
T}	T{
The file \fB{CONFIG_DIR}/package.accept_keywords\fP can be used to configure the visibility of packages via their \fI\%Keywords\fP\&.
T}
_
T{
\fI\%package.mask\fP
T}	T{
The file \fB{CONFIG_DIR}/package.mask\fP can be used to prevent certain packages from being installed.
T}
_
T{
\fI\%package.use\fP
T}	T{
The file \fB{CONFIG_DIR}/package.use\fP can be used to configure \fI\%Use Flags\fP for individual packages or package versions.
T}
_
T{
\fI\%portmod.conf\fP
T}	T{
The \fB{CONFIG_DIR}/portmod.conf\fP file is used for configuring Portmod’s global options.
T}
_
T{
profile
T}	T{
The profile symlink points to the first directory of your \fI\%Profile\fP\&.
T}
_
T{
\fI\%profile.user\fP
T}	T{
The user profile directory can be used to customize your \fI\%Profile\fP\&. This is recommended only for advanced users.
T}
_
T{
\fI\%repos.cfg\fP
T}	T{
The repos.cfg file in the portmod config directory (See \fI\%portmod.conf\fP)
can be used to specify the various repositories that Portmod pulls information
from.
T}
_
T{
\fI\%sets\fP
T}	T{
You can create your own \fI\%Sets\fP by adding set files to the \fBsets\fP
directory in the \fBCONFIG_DIR\fP\&. A set file is a file where the
filename (no file extension) corresponds to the set name, and the
contents are a newline\-separated list of mod atoms. Set files can also
include comments (lines starting with \fB#\fP).
T}
_
.TE
.SH PACKAGE.ACCEPT_LICENSE
.sp
The file \fB{CONFIG_DIR}/package.accept_license\fP can be used to allow the installation of packages with a license which is not accepted using the global \fBACCEPT_LICENSE\fP setting.
.sp
E.g.:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
# This license is not accepted by default
>category/foo\-1.2.3\-r1 license_name
.ft P
.fi
.UNINDENT
.UNINDENT
.SS Syntax
.sp
\fBpackage.accept_license\fP should contain a list of package atoms, one per line, followed by the accepted license. The atoms must specify the package category, but other components such as the version are optional. The special \fB*\fP keyword can also be used to accept all licenses for a package, and license groups (see \fI\%Package Repositories\fP) can be specified by prefixing them with a \fB@\fP\&.
.sp
The file can also include comments, beginning with a \fB#\fP\&.
.SH PACKAGE.ACCEPT_KEYWORDS
.sp
The file \fB{CONFIG_DIR}/package.accept_keywords\fP can be used to configure the visibility of packages via their \fI\%Keywords\fP\&.
.sp
E.g.:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
# This is a custom option
>category/foo\-1.2.3\-r1 ~arch
.ft P
.fi
.UNINDENT
.UNINDENT
.SS Syntax
.sp
\fBpackage.accept_keywords\fP should contain a list of package atoms, one per line, followed by the accepted \fI\%Keywords\fP\&. The atoms must specify the package category, but other components such as the version are optional. The special \fB**\fP keyword can also be used to make a package visible regardless of keywords.
.sp
The file can also include comments, beginning with a \fB#\fP\&.
.SH PACKAGE.MASK
.sp
The file \fB{CONFIG_DIR}/package.mask\fP can be used to prevent certain packages from being installed.
.sp
If a package is broken, and you want to skip that version, you can add the exact version to the file:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
# Version is broken
=category/foo\-1.2.3\-r1
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
This can also be useful for packages where you need a particular version so that your savegame doesn\(aqt break.
E.g.:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
# Newer versions break savegame
>category/foo\-1.2.3\-r1
.ft P
.fi
.UNINDENT
.UNINDENT
.SS Syntax
.sp
\fIpackage.mask\fP should contain a list of package atoms, one per line. These atoms must specify the package category, but other components such as the version are optional.
.sp
The file can also include comments, beginning with a \fI#\fP\&. Any comments immediately preceding an atom will be treated as descriptive comments and will be displayed if the package mask causes any error messages. Descriptive comments are also linked to atoms which follow, until a newline is encountered.
.SH PACKAGE.USE
.sp
The file \fB{CONFIG_DIR}/package.use\fP can be used to configure \fI\%Use Flags\fP for individual packages or package versions.
.sp
E.g.:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
# This is a custom option
>category/foo\-1.2.3\-r1 flag \-otherflag
.ft P
.fi
.UNINDENT
.UNINDENT
.SS Syntax
.sp
\fBpackage.use\fP should contain a list of package atoms, one per line, followed by flags. The atoms must specify the package category, but other components such as the version are optional. Flags prefixed with a \fB\-\fP are considered disabled, otherwise they are considered enabled.
.sp
The file can also include comments, beginning with a \fB#\fP\&.
.SH PORTMOD.CONF
.sp
The \fB{CONFIG_DIR}/portmod.conf\fP file is used for configuring Portmod’s global options.
.sp
It can be found in the portmod config directory, found in one of the
following locations:
.TS
center;
|l|l|.
_
T{
Linux
T}	T{
\fB~/.config/portmod\fP
T}
_
T{
macOS
T}	T{
\fB~/Library/Application\e Support/portmod\fP
T}
_
T{
Windows
T}	T{
\fBC:\eDocuments and Settings\e<User>\eApplication Data\eLocal Settings\eportmod\eportmod\fP
or
\fBC:\eDocuments and Settings\e<User>\eApplication Data\eportmod\eportmod\fP
T}
_
.TE
.sp
All config entries can be overridden using environment variables of the
same name. In the case of USE, ACCEPT_LICENSE and ACCEPT_KEYWORDS, this
will extend the value, rather than override it. E.g. setting the
environment variable \fBUSE=foo\fP will use all use flags in your config
file (and profile) and also set the \fBfoo\fP flag. Similarly,
\fBUSE=\-foo\fP will disable foo if it is set in your config file or
profile.
.sp
You can also create a prefix\-specific version of portmod.conf which will
apply the same options just to one prefix. This can be done by creating or
modifying the \fBportmod.conf\fP in the subdirectory of the portmod config
directory with the name of the prefix. E.g. \fB~/.config/portmod/<prefix>/portmod.conf\fP
.SS Format
.sp
The portmod config file uses a restricted subset of python with
extremely limited support for builtins. No imports are allowed.
.sp
Available builtins:
.INDENT 0.0
.IP \(bu 2
\fBjoin\fP: equivalent to \fBos.path.join\fP and can be
used for specifying paths in a platform independant manner.
.IP \(bu 2
\fBPLATFORM\fP: equivalent to \fBsys.platform\fP\&.
.UNINDENT
.SS Variables used by Portmod
.sp
You may define arbitrary variables, but there are several that are
reserved for the use of Portmod and have a special meaning
.sp
All variables defined in portmod.conf are set as environment variables
during portmod execution.
.SS ACCEPT_KEYWORDS
.sp
A string of whitespace separated keywords that indicate stability of
mods that you allow to be installed. By default this is generally the
stable keyword (equal to your arch, e.g.\ \fBopenmw\fP or \fBtes3mp\fP
without qualifiers).
.sp
If you also want to include unstable mods, prefix the keyword with a
\fB~\fP\&. E.g. \fBACCEPT_KEYWORDS = ~openmw\fP or
\fBACCEPT_KEYWORDS = ~tes3mp\fP\&.
.sp
ACCEPT_KEYWORDS can also contain versioned keywords.
See \fI\%Keywords\fP for details.
.SS PORTMOD_MIRRORS
.sp
Specifies a list of mirrors to use to fetch source files (mod archives).
Currently the only mirror is the default:
\fBhttps://gitlab.com/portmod/mirror/raw/master/\fP
.SS ACCEPT_LICENSE
.sp
Specifies the globally accepted licenses. By default this is all except
EULA licenses, i.e.\ a value of \fB* \-@EULA\fP\&. If you want to only install
mods with Free licenses, you could, for example set this to
\fBACCEPT_LICENSE = \-* @FREE\fP\&.
.sp
See \fBprofiles/license_groups.yaml\fP in the repo for details on the
available license groups.
.SS TEXTURE_SIZE
.sp
Specifies a function for choosing between texture size options. This
must contain an operator \fBmin\fP or \fBmax\fP, followed by an optional
inequality.
.INDENT 0.0
.IP \(bu 2
\fBmin\fP: Chooses the smallest texture size available
.IP \(bu 2
\fBmax\fP: Chooses the largest texture size available
.IP \(bu 2
\fBmin >= NUM\fP: Chooses the smallest texture size available that is
larger than NUM.
.IP \(bu 2
\fBmax <= NUM\fP: Chooses the largest texture size available that is
smaller than NUM.
.UNINDENT
.SS USE
.sp
Sets global use flags. See \fI\%Use Flags\fP for details.
.SS OMWMERGE_DEFAULT_OPTS
.sp
The default options passed to \fBportmod <prefix> merge\fP (e.g flags such
as \fB\-\-verbose\fP, \fB\-\-no\-confirm\fP, etc.). Will be ignored if
\fB\-\-ignore\-default\-opts\fP is passed.
.SS REPOS
.sp
The list of repositories (as a whitespace\-separated string) which are
enabled for this prefix. Only packages from these repositories will
be found when installing or searching for packages.
.SS MERGE_TOOL
.sp
A command to be used to merge updates to configuration files.
.sp
The placeholders \fB${orig}\fP, \fB${new}\fP and \fB${merged}\fP should be used
to specify the input files.
.sp
E.g.
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
MERGE_TOOL = \(dqkdiff3 ${orig} ${new} \-\-output ${merged}\(dq
.ft P
.fi
.UNINDENT
.UNINDENT
.INDENT 0.0
.INDENT 3.5
.IP "Version"
.sp
Added in portmod 2.3
.UNINDENT
.UNINDENT
.SS Use Expand Variables
.sp
Use expand variables represent categories of global use flags for
enabling features across all packages that support them.
.sp
They can be enabled similarly to USE flags, but use a custom field. E.g.
for L10N flags, you can set
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
L10N = \(dqru\(dq
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
Which will enable the flag \fBl10n_ru\fP globally, building support for
Russian localization into packages.
.sp
Note that supported use expand flags vary depending on your profile and architecture.
.SH PROFILE.USER
.sp
The user profile directory can be used to customize your \fI\%Profile\fP\&. This is recommended only for advanced users.
.sp
You can place configuration files which are restricted to profiles (see \fI\%Profiles\fP in the developer guide) inside this directory, which is treated as a profile directory. It loads last, so any profile configuration here will override prior settings from your profile.
.sp
Note that changing certain profile settings can break your prefix as some settings are not designed to be changed on the fly (such as those which control the filesystem layout).
.SH REPOS.CFG
.sp
The repos.cfg file in the portmod config directory (See \fI\%portmod.conf\fP)
can be used to specify the various repositories that Portmod pulls information
from.
.sp
The following entry is for the meta repository which is automatically
included and does not need to be specified in \fBrepos.cfg\fP\&.
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
[meta]
location = ${PORTMOD_LOCAL_DIR}/repos/meta
auto_sync = True
sync_type = git
sync_uri = https://gitlab.com/portmod/meta.git
priority = \-1000
.ft P
.fi
.UNINDENT
.UNINDENT
.SS Local Repository
.sp
A local repository can be specified by setting \fBauto_sync = False\fP (or
omitting it, as it is false by default).
.sp
E.g. to create a custom repository where you can add your own pybuilds,
add the following entry to repos.cfg.
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
[user]
location = /path/to/repo
auto_sync = False
priority = 0
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
You also likely want to create the file \fB/metadata/layout.conf\fP within
the repository, and specify a parent repository using
\fBmasters = \(dq<repo>\(dq\fP\&. This makes your custom repo inherit metadata
from the other repo, such as categories and global use flags.
If you omit this then portmod won’t be able to find your packages without
you ensuring that their category exists in the \fBprofiles/categories\fP
file in your repo.
.sp
\fBmetadata/layout.conf\fP:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
masters = \(dq<repo>\(dq
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
The priority needs to be higher than the priority of the default
repository if you have packages with the same name as those in the main
repo, as if a package is otherwise identical to the loader (i.e.\ the packages
have the same name and version) Portmod will attempt to load the package in
the higher priority repo.
.sp
The only required file that must exist in a repo is
\fBprofiles/repo_name\fP, which should include a single line containing
the name of your repository.
.SH USER SETS
.sp
You can create your own \fI\%Sets\fP by adding set files to the \fBsets\fP
directory in the \fBCONFIG_DIR\fP\&. A set file is a file where the
filename (no file extension) corresponds to the set name, and the
contents are a newline\-separated list of mod atoms. Set files can also
include comments (lines starting with \fB#\fP).
.sp
E.g. \fBCONFIG_DIR/sets/mymods\fP
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
# This is a list of mods
gameplay\-advancement/ncgd
assets\-meshes/rr\-better\-meshes
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
User sets with the same name as a builtin set will be ignored in favour of the
builtin sets, as user sets have the lowest priority when loading.
.SH AUTHOR
Benjamin Winger, Roma Tentser, PopeRigby, Hristos N. Triantafillou, lumbo7332, Pope_Rigby, marius david, marius851000, Basile Thullen, Joel, Nords Morrow, Anonymous, Paul Infield-Harm, Qazaaq, Tenchi, Weblate, gbtb, louisabraham, ultramink
.SH COPYRIGHT
2019-2025, Portmod Authors
.\" Generated by docutils manpage writer.
.
