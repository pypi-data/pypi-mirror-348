.\" Man page generated from reStructuredText.
.
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.TH "PORTMOD" "1" "May 16, 2025" "Portmod 2.9.1" "Portmod"
.SH NAME
portmod \- Main portmod CLI interface
.sp
CLI Package manager designed for packaging game mods

.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
usage: portmod [\-h] [\-q] [\-v] [\-\-no\-confirm] [\-\-version]
               {<example>,mirror,init,sync} ...
.ft P
.fi
.UNINDENT
.UNINDENT
.SH POSITIONAL ARGUMENTS
.INDENT 0.0
.TP
.B subcommand_name
Possible choices: <example>, mirror, init, sync
.UNINDENT
.SH NAMED ARGUMENTS
.INDENT 0.0
.TP
.B \-q, \-\-quiet
Don\(aqt display anything but the most important information.
.TP
.B \-v, \-\-verbose
Increase verbosity of output.
.TP
.B \-\-no\-confirm
Don\(aqt prompt for confirmation and always select the default option instead.
.TP
.B \-\-version
Displays the version number of Portmod.
.UNINDENT
.SH SUB-COMMANDS
.SS <example>
.sp
Interact with the <example> prefix
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
portmod <example> [\-h]
                  {merge,search,select,query,use,info,validate,destroy,run,cfg\-update,module\-update}
                  ...
.ft P
.fi
.UNINDENT
.UNINDENT
.SS Positional Arguments
.INDENT 0.0
.TP
.B prefix_subcommand_name
Possible choices: merge, search, select, query, use, info, validate, destroy, run, cfg\-update, module\-update
.UNINDENT
.SS Sub\-commands
.SS merge
.sp
Install or remove packages
.sp
Packages passed as arguments will always be installed (or re\-installed) unless the \fB\-\-update\fP flag is used, and will be selected (tracked as explicitly installed and not removed unless explicitly removed) unless the \fB\-\-oneshot\fP flag is used.
.sp
Package changes are displayed using a transaction list of the following form:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
[XX] category/package\-name USE=\(dqflag \-disabled\-flag\(dq
.ft P
.fi
.UNINDENT
.UNINDENT
.INDENT 0.0
.TP
.B X is a placeholder for one of the following:
.INDENT 7.0
.IP \(bu 2
f   fetch\-restricted, but already available in the download cache
.IP \(bu 2
F   fetch\-restricted, but unavailable in the download cache (must be downloaded manually)
.IP \(bu 2
N   (new) indicates the package was not previously installed
.IP \(bu 2
R   (reinstall) indicates that the same version of the package is being re\-installed.
.IP \(bu 2
U   (update) indicates that the package is being updated to new version
.IP \(bu 2
D   (downgrade) indicates that the package is being downgraded to an older version
.IP \(bu 2
d   (delete) indicates that the package is being removed
.UNINDENT
.TP
.B USE flags:
.INDENT 7.0
.IP \(bu 2
Enabled flags are displayed bold red.
.IP \(bu 2
Disabled flags are displayed blue.
.IP \(bu 2
Flags which have changed since the last time the package was installed are displayed bold green.
.IP \(bu 2
Flags in use expand categories are displayed in the form CATEGORY=\(dqflag\(dq (for the flag \(aqcategory_flag\(aq)
.UNINDENT
.UNINDENT
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
portmod <example> merge [\-h] [\-\-ignore\-default\-opts] [\-c] [\-x] [\-C] [\-1] [\-O]
                        [\-u] [\-n] [\-N] [\-e] [\-D] [\-w [Yes/No]]
                        [\-\-deselect [Yes/No]] [\-\-debug]
                        [ATOM | ARCHIVE | @SET [ATOM | ARCHIVE | @SET ...]]
.ft P
.fi
.UNINDENT
.UNINDENT
.SS Positional Arguments
.INDENT 0.0
.TP
.B ATOM | ARCHIVE | @SET
Packages to install. Can be either a package atom (\(dqcategory/name\(dq) set (\(dq@set_name\(dq) or source archive path (\(dqpath/to/archive.ext\(dq).
If an archive path is passed as an argument, portmod will search for matching archives used by packages it is aware of. Portmod cannot install from arbitrary archives.
.UNINDENT
.SS Named Arguments
.INDENT 0.0
.TP
.B \-\-ignore\-default\-opts
Causes the OMWMERGE_DEFAULT_OPTS environment variable to be ignored
.TP
.B \-c, \-\-depclean
Removes packages and their dependencies. Packages dependent
on the given packages will also be removed. If no arguments are given, this will
remove packages that aren\(aqt needed by other packages and aren\(aqt in the world file
or system set.
.TP
.B \-x, \-\-auto\-depclean
Automatically remove unneeded dependencies before finishing.
Equivalent to running \fIportmod <prefix> merge \-\-depclean\fP after other operations.
.TP
.B \-C, \-\-unmerge
Removes the given packages without checking dependencies.
.TP
.B \-1, \-\-oneshot
Do not make any changes to the world set when installing or removing packages
.TP
.B \-O, \-\-nodeps
Ignore dependencies when installing specified packages. Note: This may
cause packages to fail to install if their build dependencies aren\(aqt satisfied,
and fail to work if their runtime dependencies aren\(aqt satisfied.
.TP
.B \-u, \-\-update
Updates packages to the best version available and excludes packages
if they are already up to date.
.TP
.B \-n, \-\-noreplace
This option has been merged into \-\-update and is now deprecated.
.TP
.B \-N, \-\-newuse
This option has been merged into \-\-update and is now deprecated.
.TP
.B \-e, \-\-emptytree
Reinstalls target packages and their entire deep dependency tree, as
if no packages are currently installed.
.TP
.B \-D, \-\-deep
Consider the entire dependency tree when doing updates
instead of just the packages specified on the command line.
.TP
.B \-w, \-\-select
Adds specified packages to the world set (unused. This is the default
if deselect is not provided).
.TP
.B \-\-deselect
Removes specified packages from the world set. This is implied by
uninstall actions such as \-\-depclean and \-\-unmerge. Use \-\-deselect=n to prevent
uninstalls from removing packages from the world set.
.TP
.B \-\-debug
Skips the cleanup stage after installation so that the contents of temporary directories can be inspected.
Note that you will need to clean up leftover files manually.
.UNINDENT
.SS search
.sp
Searches the repository for packages with a name or atom matching the given search terms
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
portmod <example> search [\-h] QUERY [QUERY ...]
.ft P
.fi
.UNINDENT
.UNINDENT
.SS Positional Arguments
.INDENT 0.0
.TP
.B QUERY
Search query phrases to match against
.UNINDENT
.SS select
.sp
Select between configuration options
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
portmod <example> select [\-h] {profile,news,repo} ...
.ft P
.fi
.UNINDENT
.UNINDENT
.SS Sub\-commands
.SS profile
.sp
Manage the profile symlink
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
portmod <example> select profile [\-h] {list,set,show,debug} ...
.ft P
.fi
.UNINDENT
.UNINDENT
.SS Sub\-commands
.SS list
.sp
List available profiles
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
portmod <example> select profile list [\-h]
.ft P
.fi
.UNINDENT
.UNINDENT
.SS set
.sp
Set a new profile symlink target
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
portmod <example> select profile set [\-h] NUMBER
.ft P
.fi
.UNINDENT
.UNINDENT
.SS Positional Arguments
.INDENT 0.0
.TP
.B NUMBER
Profile number
.UNINDENT
.SS show
.sp
Show the current profile symlink target
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
portmod <example> select profile show [\-h]
.ft P
.fi
.UNINDENT
.UNINDENT
.SS debug
.sp
Show debug information about the current profile
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
portmod <example> select profile debug [\-h]
.ft P
.fi
.UNINDENT
.UNINDENT
.SS news
.sp
Manage news
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
portmod <example> select news [\-h] {list,read,unread} ...
.ft P
.fi
.UNINDENT
.UNINDENT
.SS Sub\-commands
.SS list
.sp
List all news articles
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
portmod <example> select news list [\-h]
.ft P
.fi
.UNINDENT
.UNINDENT
.SS read
.sp
Displays news article and marks as read
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
portmod <example> select news read [\-h] [<item>]
.ft P
.fi
.UNINDENT
.UNINDENT
.SS Positional Arguments
.INDENT 0.0
.TP
.B <item>
new (default) all or item number
.sp
Default: \(dqnew\(dq
.UNINDENT
.SS unread
.sp
Marks news article as unread
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
portmod <example> select news unread [\-h] <item>
.ft P
.fi
.UNINDENT
.UNINDENT
.SS Positional Arguments
.INDENT 0.0
.TP
.B <item>
all or item number
.UNINDENT
.SS repo
.sp
Configure the repositories associated with this prefix
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
portmod <example> select repo [\-h] {list,add,remove} ...
.ft P
.fi
.UNINDENT
.UNINDENT
.SS Sub\-commands
.SS list
.sp
List available package repositories
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
portmod <example> select repo list [\-h]
.ft P
.fi
.UNINDENT
.UNINDENT
.SS add
.sp
Add a package repository to this prefix
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
portmod <example> select repo add [\-h] REPO
.ft P
.fi
.UNINDENT
.UNINDENT
.SS Positional Arguments
.INDENT 0.0
.TP
.B REPO
Identifier for the repository. Either the repository name, or its index in the list.
.UNINDENT
.SS remove
.sp
Remove a package repository from this prefix
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
portmod <example> select repo remove [\-h] REPO
.ft P
.fi
.UNINDENT
.UNINDENT
.SS Positional Arguments
.INDENT 0.0
.TP
.B REPO
Identifier for the repository. Either the repository name, or its index in the list.
.UNINDENT
.SS query
.sp
Query information about packages
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
portmod <example> query [\-h] [\-a]
                        {list,depends,has,hasuse,uses,meta,depgraph,vfsfind,vfslist}
                        ...
.ft P
.fi
.UNINDENT
.UNINDENT
.SS Named Arguments
.INDENT 0.0
.TP
.B \-a, \-\-all
Also query packages which are not installed
.UNINDENT
.SS Sub\-commands
.SS list
.sp
List all packages matching ATOM.
.sp
By default only lists installed packages.
.sp
Produces output in the form of:
.sp
[IR] category/package\-version
.sp
The Presence of the I flag indicates that the package is installed
The Presence of the R flag indicates that the package is available in a repository
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
portmod <example> query list [\-h] [\-r] ATOM | @SET [ATOM | @SET ...]
.ft P
.fi
.UNINDENT
.UNINDENT
.SS Positional Arguments
.INDENT 0.0
.TP
.B ATOM | @SET
Atoms specifying the packages to list
.UNINDENT
.SS Named Arguments
.INDENT 0.0
.TP
.B \-r, \-\-remote
If specified, also list packages in the remote repositories
.UNINDENT
.SS depends
.sp
List all packages directly depending on ATOM
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
portmod <example> query depends [\-h] ATOM
.ft P
.fi
.UNINDENT
.UNINDENT
.SS Positional Arguments
.INDENT 0.0
.TP
.B ATOM
Package atom to query
.UNINDENT
.SS has
.sp
List all packages matching variable.
.sp
This can only be used to scan variables in the base Pybuild spec, not custom
fields declared by specific Pybuilds or their superclasses.
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
portmod <example> query has [\-h] [\-\-invert] FIELD [VALUE]
.ft P
.fi
.UNINDENT
.UNINDENT
.SS Positional Arguments
.INDENT 0.0
.TP
.B FIELD
Pybuild field to search
.TP
.B VALUE
Value to match in field
.sp
Default: \(dq\(dq
.UNINDENT
.SS Named Arguments
.INDENT 0.0
.TP
.B \-\-invert
If set, returns packages which do not match the query
.UNINDENT
.SS hasuse
.sp
List all packages that declare the given use flag.
.sp
Note that this only includes those with the flag in their IUSE
field and inherited flags through IUSE_EFFECTIVE will not be counted
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
portmod <example> query hasuse [\-h] FLAG
.ft P
.fi
.UNINDENT
.UNINDENT
.SS Positional Arguments
.INDENT 0.0
.TP
.B FLAG
Use flag to match against
.UNINDENT
.SS uses
.sp
Display use flags and their descriptions
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
portmod <example> query uses [\-h] ATOM
.ft P
.fi
.UNINDENT
.UNINDENT
.SS Positional Arguments
.INDENT 0.0
.TP
.B ATOM
Atom specifying the package whose flags are to be displayed
.UNINDENT
.SS meta
.sp
Display metadata for a package
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
portmod <example> query meta [\-h] ATOM
.ft P
.fi
.UNINDENT
.UNINDENT
.SS Positional Arguments
.INDENT 0.0
.TP
.B ATOM
Atom specifying the package whose metadata is to be displayed
.UNINDENT
.SS depgraph
.sp
Display dependency graph for package
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
portmod <example> query depgraph [\-h] [\-\-depth DEPTH] ATOM
.ft P
.fi
.UNINDENT
.UNINDENT
.SS Positional Arguments
.INDENT 0.0
.TP
.B ATOM
Atom specifying package whose dependency graph is to be displayed
.UNINDENT
.SS Named Arguments
.INDENT 0.0
.TP
.B \-\-depth
Maximum depth of the tree to be displayed. Default is 10
.UNINDENT
.SS vfsfind
.sp
Display the full path of the given file/directory in the VFS
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
portmod <example> query vfsfind [\-h] name
.ft P
.fi
.UNINDENT
.UNINDENT
.SS Positional Arguments
.INDENT 0.0
.TP
.B name
Display the full path of the given file/directory in the VFS
.UNINDENT
.SS vfslist
.sp
Display the contents of the given directory in the VFS
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
portmod <example> query vfslist [\-h] [directory_path]
.ft P
.fi
.UNINDENT
.UNINDENT
.SS Positional Arguments
.INDENT 0.0
.TP
.B directory_path
Display the contents of the given directory in the VFS
.UNINDENT
.SS use
.sp
Enable and disable use flags
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
portmod <example> use [\-h] [\-E FLAG] [\-D FLAG] [\-R FLAG] [\-p ATOM]
.ft P
.fi
.UNINDENT
.UNINDENT
.SS Named Arguments
.INDENT 0.0
.TP
.B \-E
Enable use flag
.TP
.B \-D
Explicitly disable use flag
.TP
.B \-R
Remove references to the given use flag (enabled or disabled)
.TP
.B \-p
Package atom for setting local use flag. If not set, enables/disables global use flags.
.UNINDENT
.SS info
.sp
Displays the values of several global variables for debugging purposes.
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
portmod <example> info [\-h]
.ft P
.fi
.UNINDENT
.UNINDENT
.SS validate
.sp
Check if the packages in the package directory are installed, and that the
directories in the config all exist.
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
portmod <example> validate [\-h]
.ft P
.fi
.UNINDENT
.UNINDENT
.SS destroy
.sp
Destroy this prefix
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
portmod <example> destroy [\-h] [\-\-preserve\-root] [\-\-remove\-config]
.ft P
.fi
.UNINDENT
.UNINDENT
.SS Named Arguments
.INDENT 0.0
.TP
.B \-\-preserve\-root
Don\(aqt remove the prefix ROOT when destroyign the prefix (removed by default)
.TP
.B \-\-remove\-config
Remove the prefix config directory when destroyign the prefix (not removed by default)
.UNINDENT
.SS run
.sp
Run commands within the sandbox for the prefix
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
portmod <example> run [\-h] COMMAND [COMMAND ...]
.ft P
.fi
.UNINDENT
.UNINDENT
.SS Positional Arguments
.INDENT 0.0
.TP
.B COMMAND
Command to execute. If the command contains arguments beginning with \(dq\-\(dq,
then it must be prefixed with \-\- to separate it from the arguments to portmod.
.UNINDENT
.SS cfg\-update
.sp
Interactively applies pending updates to protected config files.
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
portmod <example> cfg\-update [\-h]
.ft P
.fi
.UNINDENT
.UNINDENT
.SS module\-update
.sp
Runs module updates.
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
portmod <example> module\-update [\-h]
.ft P
.fi
.UNINDENT
.UNINDENT
.SS mirror
.sp
Update a local mirror
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
portmod mirror [\-h] DIRECTORY REPO
.ft P
.fi
.UNINDENT
.UNINDENT
.SS Positional Arguments
.INDENT 0.0
.TP
.B DIRECTORY
Directory to mirror into
.TP
.B REPO
Repository with the files to mirror. Mirroring will be limited to this repository and its masters.
.UNINDENT
.SS init
.sp
Create a new prefix
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
portmod init [\-h] PREFIX arch [DIRECTORY]
.ft P
.fi
.UNINDENT
.UNINDENT
.SS Positional Arguments
.INDENT 0.0
.TP
.B PREFIX
Prefix name which will be used in commands that interact with the prefix
.TP
.B arch
Game engine Architecture of the prefix
.TP
.B DIRECTORY
Directory in which to create the prefix. If omitted, portmod will create the prefix within a new directory in /tmp/portmod7a0ndw6r/local.
.sp
If files already exist in the directory, they will be left alone to allow portmod to work with existing game data.
Portmod may install over top of these files, however the original versions will be preserved and restored if the package overwriting those files is removed, or the prefix is removed.
.UNINDENT
.SS sync
.sp
Fetch and update remote package repositories
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
portmod sync [\-h] [repository [repository ...]]
.ft P
.fi
.UNINDENT
.UNINDENT
.SS Positional Arguments
.INDENT 0.0
.TP
.B repository
Repositories to sync. If omitted, all repositories in repos.cfg will be synched.
.UNINDENT
.SH AUTHOR
Benjamin Winger, Roma Tentser, PopeRigby, Hristos N. Triantafillou, lumbo7332, Pope_Rigby, marius david, marius851000, Basile Thullen, Joel, Nords Morrow, Anonymous, Paul Infield-Harm, Qazaaq, Tenchi, Weblate, gbtb, louisabraham, ultramink
.SH COPYRIGHT
2019-2025, Portmod Authors
.\" Generated by docutils manpage writer.
.
