(()=>{var e={};e.id=488,e.ids=[488],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14143:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>C});var r=a(1176),s=a(93929),n=a(84322),l=a(36259);let o=(0,l.A)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var i=a(58792);function d({...e}){return(0,r.jsx)("nav",{"aria-label":"breadcrumb","data-slot":"breadcrumb",...e})}function c({className:e,...t}){return(0,r.jsx)("ol",{"data-slot":"breadcrumb-list",className:(0,i.cn)("text-muted-foreground flex flex-wrap items-center gap-1.5 text-sm break-words sm:gap-2.5",e),...t})}function u({className:e,...t}){return(0,r.jsx)("li",{"data-slot":"breadcrumb-item",className:(0,i.cn)("inline-flex items-center gap-1.5",e),...t})}function x({asChild:e,className:t,...a}){let s=e?n.Slot:"a";return(0,r.jsx)(s,{"data-slot":"breadcrumb-link",className:(0,i.cn)("hover:text-foreground transition-colors",t),...a})}function f({className:e,...t}){return(0,r.jsx)("span",{"data-slot":"breadcrumb-page",role:"link","aria-disabled":"true","aria-current":"page",className:(0,i.cn)("text-foreground font-normal",e),...t})}function p({children:e,className:t,...a}){return(0,r.jsx)("li",{"data-slot":"breadcrumb-separator",role:"presentation","aria-hidden":"true",className:(0,i.cn)("[&>svg]:size-3.5",t),...a,children:e??(0,r.jsx)(o,{})})}var m=a(44377),h=a(55729);function v({className:e,value:t,...a}){return(0,r.jsx)(h.Root,{"data-slot":"progress",className:(0,i.cn)("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",e),...a,children:(0,r.jsx)(h.Indicator,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})})}function g({className:e,...t}){return(0,r.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,r.jsx)("table",{"data-slot":"table",className:(0,i.cn)("w-full caption-bottom text-sm",e),...t})})}function b({className:e,...t}){return(0,r.jsx)("thead",{"data-slot":"table-header",className:(0,i.cn)("[&_tr]:border-b",e),...t})}function j({className:e,...t}){return(0,r.jsx)("tbody",{"data-slot":"table-body",className:(0,i.cn)("[&_tr:last-child]:border-0",e),...t})}function y({className:e,...t}){return(0,r.jsx)("tr",{"data-slot":"table-row",className:(0,i.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...t})}function w({className:e,...t}){return(0,r.jsx)("th",{"data-slot":"table-head",className:(0,i.cn)("text-muted-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function N({className:e,...t}){return(0,r.jsx)("td",{"data-slot":"table-cell",className:(0,i.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}var k=a(20386),A=a(3391);let R=(0,l.A)("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);var P=a(73816);let _=(0,P.createServerReference)("40fa94bd962bdd26e513015ce75a6e8747eb35134b",P.callServer,void 0,P.findSourceMapURL,"abortTask");var D=a(53552);function C(){let[e,t]=(0,s.useState)(!0),[a,n]=(0,s.useState)([]),l=async()=>{t(!0),n(await (0,k.d1)()),t(!1)},o=async e=>{(await _(e)).success&&l()};return(0,r.jsxs)("main",{className:"container flex w-full flex-1 flex-col items-center justify-center gap-8",children:[(0,r.jsx)(d,{className:"w-full pt-4",children:(0,r.jsxs)(c,{children:[(0,r.jsx)(u,{children:(0,r.jsx)(x,{href:"/",children:"Home"})}),(0,r.jsx)(p,{}),(0,r.jsx)(u,{children:(0,r.jsx)(f,{children:"Background Tasks"})})]})}),(0,r.jsxs)("div",{className:"w-full flex flex-col gap-2",children:[(0,r.jsx)("div",{className:"text-lg",children:"Background Tasks"}),(0,r.jsx)("div",{className:"flex flex-row gap-2",children:(0,r.jsxs)(A.$,{variant:"outline",onClick:l,children:[(0,r.jsx)(R,{className:"w-4 h-4"}),"Refresh"]})}),e?(0,r.jsx)("div",{className:"text-center text-muted-foreground m-8",children:"Loading..."}):a.length>0?(0,r.jsx)(m.Zp,{className:"w-full",children:(0,r.jsx)(m.Wu,{children:(0,r.jsxs)(g,{children:[(0,r.jsx)(b,{children:(0,r.jsxs)(y,{children:[(0,r.jsx)(w,{children:"ID"}),(0,r.jsx)(w,{className:"min-w-[200px]",children:"Name"}),(0,r.jsx)(w,{children:"Created"}),(0,r.jsx)(w,{children:"Status"}),(0,r.jsx)(w,{children:"Actions"})]})}),(0,r.jsx)(j,{children:a.map(e=>{var t;return(0,r.jsxs)(y,{children:[(0,r.jsx)(N,{className:"font-mono text-xs",children:e.uid}),(0,r.jsx)(N,{children:e.name}),(0,r.jsx)(N,{children:new Date((t=e.start_time)+(t.endsWith("Z")?"":"Z")).toLocaleString()}),(0,r.jsx)(N,{children:e.status?(0,r.jsxs)("div",{className:"grid grid-cols-[120px_1fr] gap-2 items-center w-[300px]",children:[(0,r.jsx)(v,{className:"w-full",value:e.status.total>0?100*e.status.current/e.status.total:0}),(0,r.jsxs)("div",{className:"text-sm text-muted-foreground",children:[e.status.total>0?`${e.status.current} / ${e.status.total} `:"",e.status.status]})]}):"Unknown"}),(0,r.jsx)(N,{children:(0,r.jsxs)(D.Lt,{children:[(0,r.jsx)(D.tv,{asChild:!0,children:(0,r.jsx)(A.$,{variant:"destructive",children:"Abort"})}),(0,r.jsxs)(D.EO,{children:[(0,r.jsxs)(D.wd,{children:[(0,r.jsx)(D.r7,{children:"Are you sure?"}),(0,r.jsx)(D.$v,{children:"This action cannot be undone."})]}),(0,r.jsxs)(D.ck,{children:[(0,r.jsx)(D.Zr,{children:"Cancel"}),(0,r.jsx)(D.Rx,{onClick:()=>o(e.uid),children:"Continue"})]})]})]})})]},e.uid)})})]})})}):(0,r.jsx)("div",{className:"text-center text-muted-foreground m-8",children:"Nothing here yet."})]})]})}},17338:(e,t,a)=>{"use strict";a.d(t,{UC:()=>I,VY:()=>O,ZD:()=>Z,ZL:()=>U,bL:()=>$,hE:()=>q,hJ:()=>E,l9:()=>L,rc:()=>S});var r=a(93929),s=a(55107),n=a(83403),l=a(38830),o=a(79326),i=a(84322),d=a(1176),c="AlertDialog",[u,x]=(0,s.A)(c,[l.Hs]),f=(0,l.Hs)(),p=e=>{let{__scopeAlertDialog:t,...a}=e,r=f(t);return(0,d.jsx)(l.bL,{...r,...a,modal:!0})};p.displayName=c;var m=r.forwardRef((e,t)=>{let{__scopeAlertDialog:a,...r}=e,s=f(a);return(0,d.jsx)(l.l9,{...s,...r,ref:t})});m.displayName="AlertDialogTrigger";var h=e=>{let{__scopeAlertDialog:t,...a}=e,r=f(t);return(0,d.jsx)(l.ZL,{...r,...a})};h.displayName="AlertDialogPortal";var v=r.forwardRef((e,t)=>{let{__scopeAlertDialog:a,...r}=e,s=f(a);return(0,d.jsx)(l.hJ,{...s,...r,ref:t})});v.displayName="AlertDialogOverlay";var g="AlertDialogContent",[b,j]=u(g),y=(0,i.createSlottable)("AlertDialogContent"),w=r.forwardRef((e,t)=>{let{__scopeAlertDialog:a,children:s,...i}=e,c=f(a),u=r.useRef(null),x=(0,n.s)(t,u),p=r.useRef(null);return(0,d.jsx)(l.G$,{contentName:g,titleName:N,docsSlug:"alert-dialog",children:(0,d.jsx)(b,{scope:a,cancelRef:p,children:(0,d.jsxs)(l.UC,{role:"alertdialog",...c,...i,ref:x,onOpenAutoFocus:(0,o.m)(i.onOpenAutoFocus,e=>{e.preventDefault(),p.current?.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,d.jsx)(y,{children:s}),(0,d.jsx)(C,{contentRef:u})]})})})});w.displayName=g;var N="AlertDialogTitle",k=r.forwardRef((e,t)=>{let{__scopeAlertDialog:a,...r}=e,s=f(a);return(0,d.jsx)(l.hE,{...s,...r,ref:t})});k.displayName=N;var A="AlertDialogDescription",R=r.forwardRef((e,t)=>{let{__scopeAlertDialog:a,...r}=e,s=f(a);return(0,d.jsx)(l.VY,{...s,...r,ref:t})});R.displayName=A;var P=r.forwardRef((e,t)=>{let{__scopeAlertDialog:a,...r}=e,s=f(a);return(0,d.jsx)(l.bm,{...s,...r,ref:t})});P.displayName="AlertDialogAction";var _="AlertDialogCancel",D=r.forwardRef((e,t)=>{let{__scopeAlertDialog:a,...r}=e,{cancelRef:s}=j(_,a),o=f(a),i=(0,n.s)(t,s);return(0,d.jsx)(l.bm,{...o,...r,ref:i})});D.displayName=_;var C=({contentRef:e})=>{let t=`\`${g}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${g}\` by passing a \`${A}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${g}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return r.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},$=p,L=m,U=h,E=v,I=w,S=P,Z=D,q=k,O=R},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19765:(e,t,a)=>{"use strict";a.d(t,{K:()=>l,m:()=>o});var r=a(84282),s=a(72647),n=a(85374);let l=async()=>{let e=process.env.API_URL||"http://localhost:8000",t=await (0,s.UL)(),a=t.get("lavender-data-api-key")?.value;return(0,r.Ay)({baseUrl:e,headers:a?{Authorization:`Basic ${a}`}:{},fetch:async e=>{let t=await fetch(e,{cache:"no-store"});return(401===t.status||403===t.status)&&(0,n.redirect)("/set-api-key"),t}})},o=async e=>{let t=process.env.API_URL||"http://localhost:8000";return(0,r.Ay)({baseUrl:t,headers:{Authorization:`Basic ${e}`},fetch:async e=>fetch(e,{cache:"no-store"})})}},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},30261:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>l.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>d});var r=a(29666),s=a(3733),n=a(17837),l=a.n(n),o=a(93410),i={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>o[e]);a.d(t,i);let d={children:["",{children:["background-tasks",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,84048)),"/Users/hanch/fal/lavender-data/ui/src/app/background-tasks/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,38471)),"/Users/hanch/fal/lavender-data/ui/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,27795,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(a.t.bind(a,80782,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(a.t.bind(a,92311,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["/Users/hanch/fal/lavender-data/ui/src/app/background-tasks/page.tsx"],u={require:a,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/background-tasks/page",pathname:"/background-tasks",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},33873:e=>{"use strict";e.exports=require("path")},35367:(e,t,a)=>{Promise.resolve().then(a.bind(a,84048))},44377:(e,t,a)=>{"use strict";a.d(t,{BT:()=>i,Wu:()=>d,ZB:()=>o,Zp:()=>n,aR:()=>l,wL:()=>c});var r=a(1176);a(93929);var s=a(58792);function n({className:e,...t}){return(0,r.jsx)("div",{"data-slot":"card",className:(0,s.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function l({className:e,...t}){return(0,r.jsx)("div",{"data-slot":"card-header",className:(0,s.cn)("flex flex-col gap-1.5 px-6",e),...t})}function o({className:e,...t}){return(0,r.jsx)("div",{"data-slot":"card-title",className:(0,s.cn)("leading-none font-semibold",e),...t})}function i({className:e,...t}){return(0,r.jsx)("div",{"data-slot":"card-description",className:(0,s.cn)("text-muted-foreground text-sm",e),...t})}function d({className:e,...t}){return(0,r.jsx)("div",{"data-slot":"card-content",className:(0,s.cn)("px-6",e),...t})}function c({className:e,...t}){return(0,r.jsx)("div",{"data-slot":"card-footer",className:(0,s.cn)("flex items-center px-6",e),...t})}},53552:(e,t,a)=>{"use strict";a.d(t,{$v:()=>m,EO:()=>u,Lt:()=>o,Rx:()=>h,Zr:()=>v,ck:()=>f,r7:()=>p,tv:()=>i,wd:()=>x});var r=a(1176);a(93929);var s=a(17338),n=a(58792),l=a(3391);function o({...e}){return(0,r.jsx)(s.bL,{"data-slot":"alert-dialog",...e})}function i({...e}){return(0,r.jsx)(s.l9,{"data-slot":"alert-dialog-trigger",...e})}function d({...e}){return(0,r.jsx)(s.ZL,{"data-slot":"alert-dialog-portal",...e})}function c({className:e,...t}){return(0,r.jsx)(s.hJ,{"data-slot":"alert-dialog-overlay",className:(0,n.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function u({className:e,...t}){return(0,r.jsxs)(d,{children:[(0,r.jsx)(c,{}),(0,r.jsx)(s.UC,{"data-slot":"alert-dialog-content",className:(0,n.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...t})]})}function x({className:e,...t}){return(0,r.jsx)("div",{"data-slot":"alert-dialog-header",className:(0,n.cn)("flex flex-col gap-2 text-center sm:text-left",e),...t})}function f({className:e,...t}){return(0,r.jsx)("div",{"data-slot":"alert-dialog-footer",className:(0,n.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function p({className:e,...t}){return(0,r.jsx)(s.hE,{"data-slot":"alert-dialog-title",className:(0,n.cn)("text-lg font-semibold",e),...t})}function m({className:e,...t}){return(0,r.jsx)(s.VY,{"data-slot":"alert-dialog-description",className:(0,n.cn)("text-muted-foreground text-sm",e),...t})}function h({className:e,...t}){return(0,r.jsx)(s.rc,{className:(0,n.cn)((0,l.r)(),e),...t})}function v({className:e,...t}){return(0,r.jsx)(s.ZD,{className:(0,n.cn)((0,l.r)({variant:"outline"}),e),...t})}},55729:(e,t,a)=>{"use strict";a.d(t,{Indicator:()=>y,Root:()=>j});var r=a(93929),s=a(14504),n=a(47948),l=a(1176),o="Progress",[i,d]=(0,s.A)(o),[c,u]=i(o),x=r.forwardRef((e,t)=>{var a,r;let{__scopeProgress:s,value:o=null,max:i,getValueLabel:d=m,...u}=e;(i||0===i)&&!g(i)&&console.error((a=`${i}`,`Invalid prop \`max\` of value \`${a}\` supplied to \`Progress\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`));let x=g(i)?i:100;null===o||b(o,x)||console.error((r=`${o}`,`Invalid prop \`value\` of value \`${r}\` supplied to \`Progress\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`));let f=b(o,x)?o:null,p=v(f)?d(f,x):void 0;return(0,l.jsx)(c,{scope:s,value:f,max:x,children:(0,l.jsx)(n.sG.div,{"aria-valuemax":x,"aria-valuemin":0,"aria-valuenow":v(f)?f:void 0,"aria-valuetext":p,role:"progressbar","data-state":h(f,x),"data-value":f??void 0,"data-max":x,...u,ref:t})})});x.displayName=o;var f="ProgressIndicator",p=r.forwardRef((e,t)=>{let{__scopeProgress:a,...r}=e,s=u(f,a);return(0,l.jsx)(n.sG.div,{"data-state":h(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:t})});function m(e,t){return`${Math.round(e/t*100)}%`}function h(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function v(e){return"number"==typeof e}function g(e){return v(e)&&!isNaN(e)&&e>0}function b(e,t){return v(e)&&!isNaN(e)&&e<=t&&e>=0}p.displayName=f;var j=x,y=p},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},65631:(e,t,a)=>{Promise.resolve().then(a.bind(a,14143))},84048:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});let r=(0,a(97666).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/hanch/fal/lavender-data/ui/src/app/background-tasks/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/hanch/fal/lavender-data/ui/src/app/background-tasks/page.tsx","default")},92048:(e,t,a)=>{"use strict";a.r(t),a.d(t,{"40fa94bd962bdd26e513015ce75a6e8747eb35134b":()=>n});var r=a(6104);a(86678);var s=a(19765);async function n(e){try{let t=await (await (0,s.K)()).POST("/background-tasks/{task_uid}/abort",{params:{path:{task_uid:e}}});if(t.error){let e="Unknown error";return"string"==typeof t.error.detail&&(e=t.error.detail),{success:!1,error:e}}return{success:!0,data:t.data}}catch(e){return{success:!1,error:e instanceof Error?e.message:"An unexpected error occurred"}}}(0,a(46594).D)([n]),(0,r.A)(n,"40fa94bd962bdd26e513015ce75a6e8747eb35134b",null)}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[829,559,723,861],()=>a(30261));module.exports=r})();