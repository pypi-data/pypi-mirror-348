(()=>{var e={};e.id=892,e.ids=[892],e.modules={820:(e,s,r)=>{"use strict";r.d(s,{DeleteShardsetDialog:()=>t});let t=(0,r(97666).registerClientReference)(function(){throw Error("Attempted to call DeleteShardsetDialog() from the server but DeleteShardsetDialog is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/hanch/fal/lavender-data/ui/src/app/datasets/[dataset_id]/shardsets/[shardset_id]/delete-shardset-dialog.tsx","DeleteShardsetDialog")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},22381:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>n.a,__next_app__:()=>h,pages:()=>o,routeModule:()=>x,tree:()=>c});var t=r(29666),a=r(3733),d=r(17837),n=r.n(d),i=r(93410),l={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(s,l);let c={children:["",{children:["datasets",{children:["[dataset_id]",{children:["shardsets",{children:["[shardset_id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,82881)),"/Users/hanch/fal/lavender-data/ui/src/app/datasets/[dataset_id]/shardsets/[shardset_id]/page.tsx"]}]},{}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,38471)),"/Users/hanch/fal/lavender-data/ui/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,27795,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,80782,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,92311,23)),"next/dist/client/components/unauthorized-error"]}]}.children,o=["/Users/hanch/fal/lavender-data/ui/src/app/datasets/[dataset_id]/shardsets/[shardset_id]/page.tsx"],h={require:r,loadChunk:()=>Promise.resolve()},x=new t.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/datasets/[dataset_id]/shardsets/[shardset_id]/page",pathname:"/datasets/[dataset_id]/shardsets/[shardset_id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},27720:(e,s,r)=>{"use strict";r.d(s,{DeleteShardsetDialog:()=>o});var t=r(1176),a=r(16659),d=r(3391),n=r(53552),i=r(73816);let l=(0,i.createServerReference)("602dd91fbc49400290d5a93e6f2327f551c385e871",i.callServer,void 0,i.findSourceMapURL,"deleteShardset");var c=r(54006);function o({datasetId:e,shardsetId:s}){let r=(0,c.useRouter)(),i=async()=>{let t=await l(e,s);t.success?(a.oR.success("Shardset deleted successfully"),r.push(`/datasets/${e}`)):a.oR.error(`Failed to delete shardset: ${t.error}`)};return(0,t.jsxs)(n.Lt,{children:[(0,t.jsx)(n.tv,{asChild:!0,children:(0,t.jsx)(d.$,{variant:"destructive",children:"Delete this shardset"})}),(0,t.jsxs)(n.EO,{children:[(0,t.jsxs)(n.wd,{children:[(0,t.jsx)(n.r7,{children:"Are you absolutely sure?"}),(0,t.jsx)(n.$v,{children:"This action cannot be undone. This will permanently delete your shardset and related shards. Of course, actual data will not be affected."})]}),(0,t.jsxs)(n.ck,{children:[(0,t.jsx)(n.Zr,{children:"Cancel"}),(0,t.jsx)(n.Rx,{onClick:i,children:"Continue"})]})]})]})}},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},31645:(e,s)=>{"use strict";function r(e){for(let s=0;s<e.length;s++){let r=e[s];if("function"!=typeof r)throw Object.defineProperty(Error(`A "use server" file can only export async functions, found ${typeof r}.
Read more: https://nextjs.org/docs/messages/invalid-use-server-value`),"__NEXT_ERROR_CODE",{value:"E352",enumerable:!1,configurable:!0})}}Object.defineProperty(s,"D",{enumerable:!0,get:function(){return r}})},31814:(e,s,r)=>{"use strict";r.r(s),r.d(s,{"602dd91fbc49400290d5a93e6f2327f551c385e871":()=>d});var t=r(6104);r(86678);var a=r(19765);async function d(e,s){try{let r=await (await (0,a.K)()).DELETE("/datasets/{dataset_id}/shardsets/{shardset_id}",{params:{path:{dataset_id:e,shardset_id:s}}});if(r.error)return{success:!1,error:r.error.detail};return{success:!0}}catch(e){return{success:!1,error:e instanceof Error?e.message:"An unexpected error occurred"}}}(0,r(46594).D)([d]),(0,t.A)(d,"602dd91fbc49400290d5a93e6f2327f551c385e871",null)},31854:(e,s,r)=>{"use strict";r.d(s,{A:()=>n});var t=r(86143);r(98193);var a=r(24324),d=r(95844);async function n(e,s,r){try{let t=await (await (0,a.K)()).POST("/datasets/{dataset_id}/shardsets/{shardset_id}/sync",{params:{path:{dataset_id:e,shardset_id:s}},body:{overwrite:r}});if(t.error){let e="Unknown error";return"string"==typeof t.error.detail&&(e=t.error.detail),{success:!1,error:e}}return(0,d.revalidatePath)(`/datasets/${e}/shardsets/${s}`),{success:!0,data:t.data}}catch(e){return{success:!1,error:e instanceof Error?e.message:"An unexpected error occurred"}}}(0,r(31645).D)([n]),(0,t.A)(n,"705fbfaea628b412eabefc5cd66a3914dcdcc7383e",null)},33107:(e,s,r)=>{"use strict";r.d(s,{x:()=>h,U:()=>x});var t=r(63762),a=r(86143),d=r(98193),n=r(53941);let i=(0,r(42669).A)("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);var l=r(31854),c=r(24324),o=r(74201);let h=async function(e){var[s,r]=await (0,d.decryptActionBoundArgs)("40160d6a21ae04e64fbdb5ed4077e3ce1f04882a93",e);await (0,l.A)(s,r,!0),(0,o.redirect)("/background-tasks/")};async function x({dataset_id:e,shardset_id:s}){let r=await (await (0,c.K)()).GET("/datasets/{dataset_id}/shardsets/{shardset_id}/sync",{params:{path:{dataset_id:e,shardset_id:s}}}),l=r.data?r.data:null,o=(0,a.A)(h,"40160d6a21ae04e64fbdb5ed4077e3ce1f04882a93",null).bind(null,(0,d.encryptActionBoundArgs)("40160d6a21ae04e64fbdb5ed4077e3ce1f04882a93",e,s));return(0,t.jsx)("div",{className:"w-full flex flex-col gap-1",children:(0,t.jsx)("form",{action:o,children:(0,t.jsxs)(n.$,{type:"submit",className:"w-full",disabled:!!l&&"completed"!==l.status,children:[(0,t.jsx)(i,{className:"w-4 h-4"}),"Sync"]})})})}},33873:e=>{"use strict";e.exports=require("path")},34169:(e,s,r)=>{let{createProxy:t}=r(33853);e.exports=t("/Users/hanch/fal/lavender-data/node_modules/.pnpm/next@15.2.3_@babel+core@7.26.9_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/app-dir/link.js")},53011:(e,s,r)=>{Promise.resolve().then(r.bind(r,84322)),Promise.resolve().then(r.bind(r,78950)),Promise.resolve().then(r.t.bind(r,78019,23)),Promise.resolve().then(r.bind(r,27720)),Promise.resolve().then(r.bind(r,15649))},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},82881:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>j});var t=r(63762),a=r(37337),d=r(24324),n=r(74723),i=r(34169),l=r.n(i),c=r(33107),o=r(63259),h=r(38338),x=r(60056);let u=(0,r(42669).A)("FileStack",[["path",{d:"M21 7h-3a2 2 0 0 1-2-2V2",key:"9rb54x"}],["path",{d:"M21 6v6.5c0 .8-.7 1.5-1.5 1.5h-7c-.8 0-1.5-.7-1.5-1.5v-9c0-.8.7-1.5 1.5-1.5H17Z",key:"1059l0"}],["path",{d:"M7 8v8.8c0 .3.2.6.4.8.2.2.5.4.8.4H15",key:"16874u"}],["path",{d:"M3 12v8.8c0 .3.2.6.4.8.2.2.5.4.8.4H11",key:"k2ox98"}]]);var f=r(92875),p=r(26193),m=r(820);async function j({params:e,searchParams:s}){let{dataset_id:r,shardset_id:i}=await e,{tab:j="columns"}=await s,v=await (await (0,d.K)()).GET("/datasets/{dataset_id}/shardsets/{shardset_id}",{params:{path:{dataset_id:r,shardset_id:i}}});if(v.error)return(0,t.jsx)(n.ErrorCard,{error:v.error.detail});let b=v.data;return(0,t.jsxs)("main",{className:"container flex w-full flex-1 flex-col items-center justify-center gap-8",children:[(0,t.jsx)(h.Qp,{className:"w-full pt-4",children:(0,t.jsxs)(h.AB,{children:[(0,t.jsx)(h.J5,{children:(0,t.jsx)(h.w1,{href:"/",children:"Home"})}),(0,t.jsx)(h.tH,{}),(0,t.jsx)(h.J5,{children:(0,t.jsx)(h.w1,{href:"/datasets",children:"Datasets"})}),(0,t.jsx)(h.tH,{}),(0,t.jsx)(h.J5,{children:(0,t.jsx)(h.w1,{href:`/datasets/${b.dataset_id}`,children:b.dataset_id})}),(0,t.jsx)(h.tH,{}),(0,t.jsx)(h.J5,{children:(0,t.jsx)(h.w1,{href:`/datasets/${b.dataset_id}`,children:"Shardsets"})}),(0,t.jsx)(h.tH,{}),(0,t.jsx)(h.J5,{children:(0,t.jsx)(h.tJ,{children:b.id})})]})}),(0,t.jsxs)("div",{className:"w-full flex flex-col gap-1",children:[(0,t.jsx)("div",{className:"text-lg",children:b.location}),(0,t.jsx)("div",{className:"text-xs text-muted-foreground",children:b.id})]}),(0,t.jsxs)(p.tU,{defaultValue:j,className:"w-full",children:[(0,t.jsxs)(p.j7,{children:[(0,t.jsx)(l(),{href:`/datasets/${r}/shardsets/${i}?tab=columns`,children:(0,t.jsx)(p.Xi,{value:"columns",children:(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(x.A,{className:"w-4 h-4"}),"Columns"]})})}),(0,t.jsx)(l(),{href:`/datasets/${r}/shardsets/${i}?tab=shards`,children:(0,t.jsx)(p.Xi,{value:"shards",children:(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(u,{className:"w-4 h-4"}),"Shards"]})})}),(0,t.jsx)(l(),{href:`/datasets/${r}/shardsets/${i}?tab=settings`,children:(0,t.jsx)(p.Xi,{value:"settings",children:(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(f.A,{className:"w-4 h-4"}),"Settings"]})})})]}),(0,t.jsxs)(p.av,{value:"columns",className:"flex flex-col gap-2",children:[(0,t.jsxs)("div",{className:"text-xs text-muted-foreground",children:[b.columns.length," columns"]}),(0,t.jsx)(o.Zp,{className:"w-full",children:(0,t.jsx)(o.Wu,{children:(0,t.jsxs)(a.XI,{children:[(0,t.jsx)(a.A0,{children:(0,t.jsxs)(a.Hj,{children:[(0,t.jsx)(a.nd,{className:"w-[100px]",children:"Name"}),(0,t.jsx)(a.nd,{children:"Type"}),(0,t.jsx)(a.nd,{children:"Description"})]})}),(0,t.jsx)(a.BF,{children:b.columns.map(e=>(0,t.jsxs)(a.Hj,{children:[(0,t.jsx)(a.nA,{className:"font-mono text-xs",children:e.name}),(0,t.jsx)(a.nA,{children:e.type}),(0,t.jsx)(a.nA,{children:e.description})]},e.id))})]})})})]}),(0,t.jsxs)(p.av,{value:"shards",className:"flex flex-col gap-2",children:[(0,t.jsxs)("div",{className:"text-xs text-muted-foreground",children:[b.shard_count," shards, ",b.total_samples," samples"]}),(0,t.jsx)(o.Zp,{className:"w-full",children:(0,t.jsx)(o.Wu,{children:(0,t.jsxs)(a.XI,{children:[(0,t.jsx)(a.A0,{children:(0,t.jsxs)(a.Hj,{children:[(0,t.jsx)(a.nd,{className:"w-[100px]",children:"ID"}),(0,t.jsx)(a.nd,{children:"Index"}),(0,t.jsx)(a.nd,{children:"Location"}),(0,t.jsx)(a.nd,{children:"Format"}),(0,t.jsx)(a.nd,{children:"Samples"}),(0,t.jsx)(a.nd,{children:"Filesize"})]})}),(0,t.jsx)(a.BF,{children:b.shards.sort((e,s)=>e.index-s.index).map(e=>(0,t.jsxs)(a.Hj,{children:[(0,t.jsx)(a.nA,{className:"font-mono text-xs",children:e.id}),(0,t.jsx)(a.nA,{children:e.index}),(0,t.jsx)(a.nA,{children:e.location}),(0,t.jsx)(a.nA,{children:e.format}),(0,t.jsx)(a.nA,{children:e.samples}),(0,t.jsx)(a.nA,{children:e.filesize})]},e.id))})]})})})]}),(0,t.jsx)(p.av,{value:"settings",className:"w-full max-w-[720px] flex flex-col gap-2 items-start",children:(0,t.jsx)(o.Zp,{className:"w-full",children:(0,t.jsxs)(o.Wu,{className:"flex flex-col gap-2",children:[(0,t.jsxs)("div",{className:"grid grid-cols-[1fr_200px] gap-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-md",children:"Sync shardset"}),(0,t.jsx)("div",{className:"text-xs text-muted-foreground",children:"Sync the shardset to its location."})]}),(0,t.jsx)(c.U,{dataset_id:r,shardset_id:i})]}),(0,t.jsxs)("div",{className:"grid grid-cols-[1fr_200px] gap-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-md",children:"Delete this shardset"}),(0,t.jsx)("div",{className:"text-xs text-muted-foreground",children:"This action is irreversible."})]}),(0,t.jsx)(m.DeleteShardsetDialog,{datasetId:r,shardsetId:i})]})]})})})]})]})}},99006:(e,s,r)=>{"use strict";r.r(s),r.d(s,{"40160d6a21ae04e64fbdb5ed4077e3ce1f04882a93":()=>t.x,"705fbfaea628b412eabefc5cd66a3914dcdcc7383e":()=>a.A});var t=r(33107),a=r(31854)},99867:(e,s,r)=>{Promise.resolve().then(r.bind(r,85107)),Promise.resolve().then(r.bind(r,94729)),Promise.resolve().then(r.t.bind(r,34169,23)),Promise.resolve().then(r.bind(r,820)),Promise.resolve().then(r.bind(r,74723))}};var s=require("../../../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),t=s.X(0,[829,559,762,723,376,859,586,861,900],()=>r(22381));module.exports=t})();