#!/usr/bin/env python
# -*- coding: UTF-8 -*-
import os
from setuptools import setup
from setuptools import Extension
from Cython.Build import cythonize


print(r"Start compiling: {{ name }}")
extensions = [Extension(name="{{ name }}", sources=[r"{{ source }}"])]
setup(
    ext_modules=cythonize(
        extensions,
        compiler_directives={
            "language_level": "3",
            "boundscheck": False,
            "initializedcheck": False,
            "embedsignature": True,
        },
        force=True,
        annotate=True,
        build_dir=r"{{ build_dir }}"
    ),
    options={
        "build_ext": {
            "build_temp": r"{{ build_dir }}",
            "build_lib": r"{{ build_lib }}",
        }
    }
)
print(r"Compilation completed! The generated module is here: {{ completed_path }}")
