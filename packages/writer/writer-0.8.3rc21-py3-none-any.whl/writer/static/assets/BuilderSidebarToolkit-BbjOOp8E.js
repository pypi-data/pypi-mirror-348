import{B as x}from"./BuilderSidebarPanel-BMJVzhd3.js";import{d as E,i as m,a as v,r as I,c as u,aV as q,aW as y,w as A,o as c,b as O,x as W,e as d,z as _,A as h,f as p,t as b,s as F,aE as N,aX as P,an as R,_ as U}from"./index-ChWW_c_j.js";const z={class:"header"},K={class:"tools"},M=["data-writer-tooltip","data-component-type","onDragstart"],X={class:"name"},G=E({__name:"BuilderSidebarToolkit",setup(H){const k=m(v.core),f=m(v.builderManager),{removeInsertionCandidacy:C}=R(k),l=I(""),w=["Layout","Content","Input","Embed","Writer","Logic","Triggers","Other"],s=u(()=>f.mode.value=="blueprints"?"blueprints":"core"),g=u(()=>{const t=w.map(e=>[e,D(e)]).filter(([e,o])=>o.length>0);return Object.fromEntries(t)}),T=u(()=>{if(l.value)return Object.values(g.value).reduce((t,e)=>t+e.length,0)}),B=u(()=>s.value=="core"?"Core toolkit":s.value=="blueprints"?"Blueprints toolkit":"Toolkit");function D(t){const o=q().filter(a=>{const n=y(a);return!(n.category!=t||!n.toolkit&&s.value!=="core"||n.toolkit&&n.toolkit!==s.value||n.deprecated)}).map(a=>{const{name:n,description:$,category:j}=y(a);return{type:a,name:n,description:$,category:j??"Other"}}),i=l.value.toLocaleLowerCase();return o.filter(a=>!i||a.name.toLocaleLowerCase().includes(i))}function L(t,e){f.setSelection(null),t.dataTransfer.setData(`application/json;writer=${e},`,"{}")}function S(t){C(t)}function V(t){return[`/components/${t.type}.svg`,`/components/${s.value=="blueprints"?"blueprints_":""}category_${t.category}.svg`].map(e=>P(e))}return A(s,()=>{l.value=""}),(t,e)=>(c(),O(x,{modelValue:l.value,"onUpdate:modelValue":e[1]||(e[1]=o=>l.value=o),class:"BuilderSidebarToolkit",placeholder:B.value,"search-count":T.value},{default:W(()=>[(c(!0),d(_,null,h(g.value,(o,i)=>(c(),d("div",{key:i,class:"category"},[p("div",z,b(i),1),p("div",K,[(c(!0),d(_,null,h(o,r=>(c(),d("div",{key:r.type,class:"tool","data-writer-tooltip":r.description,"data-writer-tooltip-placement":"right","data-writer-tooltip-gap":"8",draggable:"true","data-component-type":r.type,onDragend:e[0]||(e[0]=a=>S(a)),onDragstart:a=>L(a,r.type)},[F(N,{alt:`(Icon for ${r.name})`,draggable:"false",urls:V(r)},null,8,["alt","urls"]),p("div",X,b(r.name),1)],40,M))),128))])]))),128))]),_:1},8,["modelValue","placeholder","search-count"]))}}),Y=U(G,[["__scopeId","data-v-a4b0299e"]]);export{Y as default};
