import{d as C,aJ as w,r as g,l as H,n as $,I as O,S as q,o as A,e as P,G as W,H as X,_ as b}from"./index-ChWW_c_j.js";const N=200,L=36,Y=C({__name:"BuilderInstanceTracker",props:{instancePath:{},matchSize:{type:Boolean},verticalOffsetPixels:{},isOffBoundsAllowed:{type:Boolean},preventSettingsBarOverlap:{type:Boolean}},setup(y){const v=y,{instancePath:B,matchSize:l,verticalOffsetPixels:r,isOffBoundsAllowed:S,preventSettingsBarOverlap:_}=w(v),c=g(null),i=g(0),d=H("rootEl"),k=e=>{const n=document.querySelector(".ComponentRenderer"),{top:T,left:R}=e.getBoundingClientRect(),{clientHeight:I}=document.body,{clientWidth:E}=n,{left:f}=n.getBoundingClientRect(),s=document.querySelector(".BuilderSettings"),{left:p}=(s==null?void 0:s.getBoundingClientRect())||{left:1/0};let{clientHeight:m,clientWidth:a}=l!=null&&l.value?e:d.value,M=r!=null&&r.value?r.value:0,t=R,o=T+M;if(S.value||(t=Math.max(f,t),t=Math.min(f+E-a,t),o=Math.max(L,o),o=Math.min(I-m,o)),_.value){let h=0;t+a>p&&(h=Math.max(t-(p-a),0)),t-=h}c.value={top:`${o}px`,left:`${t}px`,width:`${a}px`,height:`${m}px`}},u=()=>{let e=document.querySelector(`.ComponentRenderer [data-writer-instance-path="${B.value}"]`);if(x(),!e)return;const n=getComputedStyle(e);n&&(n.display=="contents"&&(e=e.querySelector("[data-writer-id]")),e&&k(e))},x=()=>{i.value=setTimeout(u,N)};return $(async()=>{await O(),u()}),q(()=>{clearTimeout(i.value)}),(e,n)=>(A(),P("div",{ref_key:"rootEl",ref:d,class:"BuilderInstanceTracker",style:X(c.value)},[W(e.$slots,"default",{},void 0,!0)],4))}}),z=b(Y,[["__scopeId","data-v-ebe1f179"]]);export{z as default};
