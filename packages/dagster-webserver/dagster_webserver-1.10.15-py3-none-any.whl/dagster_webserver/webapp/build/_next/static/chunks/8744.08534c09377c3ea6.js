"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8744],{95568:function(e,n,t){t.r(n),t.d(n,{INSTANCE_CONFIG_QUERY:function(){return C},InstanceConfigContent:function(){return w},InstanceConfigRoot:function(){return b}});var o=t(73235),i=t(52322);t(19757);var r=t(3217),l=t(48177),s=t(74741),a=t(18984),c=t(71018),d=t(11170),x=t(2784),h=t(35505),u=t(283),p=t(98834),j=t(4760),m=t(98933),g=t(96798),f=t(93781);function y(){let e=(0,o._)(["\n  query InstanceConfigQuery {\n    version\n    instance {\n      id\n      info\n    }\n  }\n"]);return y=function(){return e},e}let v=(0,h.vJ)([".CodeMirror.cm-s-instance-config.cm-s-instance-config{background-color:",";box-shadow:0 1px 0 ",";color:",";height:100%;.config-highlight.config-highlight{background-color:",";}}"],r.v8(),r.wL(),r.Ep(),r.WA()),w=(0,x.memo)(()=>{(0,g.Px)(),(0,f.j)("Configuration");let e=(0,j.aM)(C,{notifyOnNetworkStatusChange:!0}),n=(0,m.C4)(e,m.dT),{data:t}=e,o=null==t?void 0:t.instance.info,r=(0,x.useMemo)(()=>({onReady:e=>{let n=document.location.hash;if(n){let t=new RegExp("^".concat(n.slice(1),":")),o=e.getSearchCursor(t);o.findNext()&&(e.markText(o.from(),o.to(),{className:"config-highlight"}),e.scrollIntoView(o.from()))}}}),[]);return t?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(v,{}),(0,i.jsxs)(l.x,{padding:{vertical:16,horizontal:24},border:"bottom",flex:{direction:"row",alignItems:"center",justifyContent:"space-between"},children:[(0,i.jsxs)(a.pm,{children:["Dagster version: ",(0,i.jsx)(a.EK,{style:{fontSize:"16px"},children:t.version})]}),(0,i.jsx)(m.xi,{refreshState:n})]}),(0,i.jsx)("div",{style:{flex:1,overflow:"hidden"},children:(0,i.jsx)(d.u,{value:o||"",options:{readOnly:!0,lineNumbers:!0,mode:"yaml"},handlers:r,theme:["instance-config"]})})]}):(0,i.jsx)(l.x,{padding:{vertical:64},children:(0,i.jsx)(s.$,{purpose:"section"})})}),b=()=>{let{pageTitle:e}=(0,x.useContext)(u.N);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.m,{title:(0,i.jsx)(a.X6,{children:e}),tabs:(0,i.jsx)(p.Z,{tab:"config"})}),(0,i.jsx)(w,{})]})};n.default=b;let C=(0,j.Ps)(y())},87392:function(e,n,t){t.r(n),t.d(n,{InstanceHealthPage:function(){return v},InstanceHealthPageContent:function(){return y}});var o=t(73235),i=t(52322),r=t(48177),l=t(3217),s=t(18984),a=t(71018),c=t(2784),d=t(63479),x=t(80439),h=t(283),u=t(98834),p=t(4760),j=t(98933),m=t(96798),g=t(93781);function f(){let e=(0,o._)(["\n  query InstanceHealthQuery {\n    instance {\n      id\n      ...InstanceHealthFragment\n    }\n  }\n\n  ","\n"]);return f=function(){return e},e}let y=()=>{(0,m.Px)(),(0,g.j)("Daemons");let e=(0,p.aM)(w,{notifyOnNetworkStatusChange:!0}),n=(0,j.C4)(e,j.dT),{loading:t,data:o}=e;return(0,i.jsxs)("div",{style:{overflowY:"auto"},children:[(0,i.jsxs)(r.x,{padding:{vertical:16,horizontal:24},flex:{direction:"row",alignItems:"center",justifyContent:"space-between"},children:[(0,i.jsx)(s.pm,{children:"Daemon statuses"}),(0,i.jsx)("div",{children:(0,i.jsx)(j.xi,{refreshState:n})})]}),!t||(null==o?void 0:o.instance)?(null==o?void 0:o.instance)?(0,i.jsx)(d.W,{daemonStatuses:o.instance.daemonHealth.allDaemonStatuses}):null:(0,i.jsx)(r.x,{padding:{horizontal:24},style:{color:l.$()},children:"Loading…"})]})},v=()=>{let{pageTitle:e}=(0,c.useContext)(h.N);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.m,{title:(0,i.jsx)(s.X6,{children:e}),tabs:(0,i.jsx)(u.Z,{tab:"health"})}),(0,i.jsx)(y,{})]})};n.default=v;let w=(0,p.Ps)(f(),x.O)},78744:function(e,n,t){t.r(n),t.d(n,{SettingsRoot:function(){return ey},default:function(){return ev}});var o=t(52322),i=t(48177),r=t(71018),l=t(18984),s=t(37398);let a=e=>{let{left:n,main:t}=e;return(0,o.jsxs)(i.x,{style:{height:"100%",overflow:"hidden"},flex:{direction:"column"},children:[(0,o.jsx)(r.m,{title:(0,o.jsx)(l.X6,{children:"Deployment"}),right:(0,o.jsx)(s.i,{label:"Reload definitions"})}),(0,o.jsxs)(i.x,{style:{overflow:"hidden"},flex:{direction:"row",grow:1},children:[(0,o.jsx)(i.x,{style:{flex:"0 0 292px",overflowY:"auto"},border:"right",children:n}),(0,o.jsx)(i.x,{flex:{direction:"column",alignItems:"stretch"},style:{flex:1,overflow:"hidden"},children:t})]})]})};var c=t(30604),d=t(2784),x=t(7267),h=t(49723),u=t(31908),p=t(29476);let j=[{key:"code-locations",type:"link",icon:(0,o.jsx)(c.JO,{name:"code_location"}),label:"Code locations",path:"/deployment/locations"},{key:"daemons",type:"link",icon:(0,o.jsx)(c.JO,{name:"daemon"}),label:"Daemons",path:"/deployment/daemons"},{key:"concurrency",type:"link",icon:(0,o.jsx)(c.JO,{name:"concurrency"}),label:"Concurrency",path:"/deployment/concurrency"},{key:"config",type:"link",icon:(0,o.jsx)(c.JO,{name:"tune"}),label:"Configuration (read-only)",path:"/deployment/config"}],m=()=>{let{pathname:e}=(0,x.TH)(),[n,t]=(0,d.useState)(!1),r={key:"user-settings",type:"button",icon:(0,o.jsx)(c.JO,{name:"account_circle"}),label:"User settings",onClick:()=>t(!0)};return(0,o.jsxs)(i.x,{padding:12,children:[(0,o.jsx)(i.x,{padding:{bottom:12},children:j.map(n=>(0,o.jsx)(p.y,{item:n,active:"link"===n.type&&e.startsWith(n.path)},n.key))}),(0,o.jsx)(i.x,{padding:{top:16},border:"top",children:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(p.y,{item:r}),(0,o.jsx)(u.h,{isOpen:n,onClose:()=>t(!1),visibleFlags:(0,h.O)()})]})})]})};var g=t(98768),f=t(50683),y=t(4760),v=t(73235);function w(){let e=(0,v._)(["\n  query CodeLocationPageDocsQuery {\n    repositoriesOrError {\n      ... on RepositoryConnection {\n        nodes {\n          ... on Repository {\n            id\n            name\n            location {\n              name\n              id\n            }\n            hasLocationDocs\n          }\n        }\n      }\n    }\n  }\n"]);return w=function(){return e},e}let b=(0,y.Ps)(w());t(283),t(98834);var C=t(53476),k=t(85467);let S=(e,n)=>{let t=[],o=n.reduce((e,n)=>(e[n.name]=n,e),{});for(let n of e){var i,r;let e;let l=o[n.name];e="LOADING"===n.loadStatus?k.Y.Updating:(null==l?void 0:l.versionKey)!==n.versionKey?k.Y.Loading:(null==l?void 0:null===(i=l.locationOrLoadError)||void 0===i?void 0:i.__typename)==="PythonError"?k.Y.Failed:k.Y.Loaded,(null==l?void 0:null===(r=l.locationOrLoadError)||void 0===r?void 0:r.__typename)==="RepositoryLocation"?l.locationOrLoadError.repositories.forEach(o=>{t.push({type:"repository",locationStatus:n,locationEntry:l,repository:o,status:e})}):t.push({type:"location",locationStatus:n,locationEntry:l||null,status:e})}return t},E=(e,n,t)=>{let o=n.toLocaleLowerCase();return e.filter(e=>{var n;return(null===(n=t.status)||void 0===n||!n.length||!!t.status.includes(e.status))&&("repository"!==e.type?e.locationStatus.name.toLocaleLowerCase().includes(o):e.locationStatus.name.toLocaleLowerCase().includes(o)||e.repository.name.toLocaleLowerCase().includes(o))})},O=function(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{status:[]},i=S(e,n),r=E(i,t,o);return{flattened:i,filtered:r}};var N=t(22710),I=t(76188),L=t(97674),_=t(12286),D=t(40299),A=t(630);let z=new Set(Object.values(k.Y)),V=()=>{let{loading:e,locationEntries:n}=(0,d.useContext)(A.C5),t=(0,C.sJ)(L.n),[i,r]=(0,d.useState)(""),l=(0,d.useCallback)(e=>{r(e.target.value)},[]),s=i.toLocaleLowerCase(),[a,c]=(0,N.q)({encode:e=>{let{status:n}=e;return{status:Array.isArray(n)?n:void 0}},decode:e=>({status:(Array.isArray(null==e?void 0:e.status)?e.status:[]).filter(e=>"string"==typeof e&&z.has(e))})}),{flattened:x,filtered:h}=(0,d.useMemo)(()=>{var e;return O((null==t?void 0:null===(e=t.locationStatusesOrError)||void 0===e?void 0:e.__typename)==="WorkspaceLocationStatusEntries"?t.locationStatusesOrError.entries:[],n,s,a)},[n,s,a,t]),u=(0,D.im)({name:"Status",icon:"tag",allValues:(0,d.useMemo)(()=>Object.values(k.Y).map(e=>({key:e,value:e,match:[e]})),[]),menuWidth:"300px",renderLabel:e=>{let{value:n}=e;return(0,o.jsx)(I.rd,{text:n})},getStringValue:e=>e,state:a.status,onStateChanged:e=>{c({status:Array.from(e)})},matchType:"all-of",canSelectAll:!1,allowMultipleSelections:!0}),{button:p,activeFiltersJsx:j}=(0,_.m)({filters:[u]});return{button:p,activeFiltersJsx:j,onChangeSearch:l,loading:e,flattened:x,filtered:h,searchValue:i}};var R=t(96798),U=t(93781),$=t(74741),P=t(15997),T=t(73528),F=t(88510),M=t(2636),J=t(3217),q=t(94466),W=t(47933),H=t(13543),Y=t(35505),Z=t(41570),K=t(66690),Q=t(26834),G=t(54854),X=t(18328),B=t(9628);let ee=e=>{let{repo:n,repoAddress:t}=e,r=n.assetGroups.length,l=n.pipelines.filter(e=>{let{name:n}=e;return!(0,B.pv)(n)}).length,s=n.schedules.length,a=n.sensors.length;return(0,o.jsxs)(i.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,o.jsx)(Q.u,{content:1===r?"1 asset group":"".concat(r," asset groups"),placement:"top",children:(0,o.jsx)(en,{to:(0,X.$U)(t,"/assets"),children:(0,o.jsx)(G.V,{interactive:!0,icon:"asset_group",children:r})})}),(0,o.jsx)(Q.u,{content:1===l?"1 job":"".concat(l," jobs"),placement:"top",children:(0,o.jsx)(en,{to:(0,X.$U)(t,"/jobs"),children:(0,o.jsx)(G.V,{interactive:!0,icon:"job",children:l})})}),(0,o.jsx)(Q.u,{content:1===s?"1 schedule":"".concat(s," schedules"),placement:"top",children:(0,o.jsx)(en,{to:(0,X.$U)(t,"/schedules"),children:(0,o.jsx)(G.V,{interactive:!0,icon:"schedule",children:s})})}),(0,o.jsx)(Q.u,{content:1===a?"1 sensor":"".concat(a," sensors"),placement:"top",children:(0,o.jsx)(en,{to:(0,X.$U)(t,"/sensors"),children:(0,o.jsx)(G.V,{interactive:!0,icon:"sensors",children:a})})})]})},en=(0,Y.ZP)(W.rU).withConfig({componentId:"sc-97d114c1-0"})([":hover,:active{outline:none;text-decoration:none;}"]);var et=t(91987),eo=t(27450),ei=t(71498),er=t(6023),el=t(31630),es=t(97373);let ea=(0,ei.vR)(H.T.flagDocsInApp)?"3fr 1fr 1fr 160px 160px":"3fr 1fr 1fr 160px",ec=d.forwardRef((e,n)=>{let{locationEntry:t,locationStatus:r,hasDocs:l,index:s}=e,{name:a}=r,c=(0,et.kQ)(et.Js,a);return(0,o.jsx)("div",{ref:n,"data-index":s,children:(0,o.jsxs)(eh,{border:"bottom",children:[(0,o.jsx)(es.E5,{children:(0,o.jsx)(i.x,{flex:{direction:"column",gap:4},children:(0,o.jsx)("div",{style:{fontWeight:500},children:(0,o.jsx)(W.rU,{to:(0,X.$U)(c),children:(0,o.jsx)(M.g,{text:a})})})})}),(0,o.jsx)(es.E5,{children:(0,o.jsx)("div",{children:(0,o.jsx)(K._y,{locationStatus:r,locationOrError:t})})}),(0,o.jsx)(es.E5,{children:(0,o.jsx)("div",{style:{whiteSpace:"nowrap"},children:(0,o.jsx)(el.C,{unixTimestamp:r.updateTimestamp})})}),(0,ei.vR)(H.T.flagDocsInApp)?(0,o.jsx)(es.E5,{children:l?(0,o.jsx)("div",{children:(0,o.jsx)(er.A,{to:(0,X.$U)(c,"/docs"),children:"View docs"})}):(0,o.jsx)("span",{style:{color:J.Aw()},children:"None"})}):null,(0,o.jsx)(es.E5,{children:(0,o.jsxs)(q.zH,{children:[(0,o.jsx)(K.hN,{location:a}),t?(0,o.jsx)(Z.c5,{locationNode:t}):null]})})]})})}),ed=d.forwardRef((e,n)=>{let{locationEntry:t,locationStatus:r,repository:l,hasDocs:s,index:a}=e,c=(0,et.kQ)(l.name,l.location.name),d=[...t.displayMetadata,...l.displayMetadata];return(0,o.jsx)("div",{ref:n,"data-index":a,children:(0,o.jsxs)(eh,{border:"bottom",children:[(0,o.jsx)(es.E5,{children:(0,o.jsxs)(i.x,{flex:{direction:"column",gap:4},children:[(0,o.jsx)("div",{style:{fontWeight:500},children:(0,o.jsx)(W.rU,{to:(0,X.$U)(c),children:(0,o.jsx)(M.g,{text:(0,eo.Uz)(c)})})}),(0,o.jsx)(K.OM,{metadata:d}),(0,o.jsx)(K.F8,{metadata:d}),(0,o.jsx)(ee,{repo:l,repoAddress:c})]})}),(0,o.jsx)(es.E5,{children:(0,o.jsx)("div",{children:(0,o.jsx)(K._y,{locationStatus:r,locationOrError:t})})}),(0,o.jsx)(es.E5,{children:(0,o.jsx)("div",{style:{whiteSpace:"nowrap"},children:(0,o.jsx)(el.C,{unixTimestamp:r.updateTimestamp})})}),(0,ei.vR)(H.T.flagDocsInApp)?(0,o.jsx)(es.E5,{children:s?(0,o.jsx)("div",{children:(0,o.jsx)(er.A,{to:(0,X.$U)(c,"/docs"),children:"View docs"})}):(0,o.jsx)("span",{style:{color:J.Aw()},children:"None"})}):null,(0,o.jsx)(es.E5,{style:{alignItems:"flex-end"},children:(0,o.jsxs)(q.zH,{children:[(0,o.jsx)(K.hN,{location:r.name}),(0,o.jsx)(Z.c5,{locationNode:t})]})})]})})}),ex=()=>(0,o.jsxs)(es.VJ,{templateColumns:ea,sticky:!0,children:[(0,o.jsx)(es.qN,{children:"Name"}),(0,o.jsx)(es.qN,{children:"Status"}),(0,o.jsx)(es.qN,{children:"Updated"}),(0,ei.vR)(H.T.flagDocsInApp)?(0,o.jsx)(es.qN,{children:"Docs"}):null,(0,o.jsx)(es.qN,{style:{textAlign:"right"},children:"Actions"})]}),eh=(0,Y.ZP)(i.x).withConfig({componentId:"sc-bb5eb048-0"})(["display:grid;grid-template-columns:",";"],ea),eu=e=>{let{loading:n,codeLocations:t,searchValue:r,isFilteredView:l,locationsWithDocs:s}=e,a=(0,d.useRef)(null),c=(0,F.MG)({count:t.length,getScrollElement:()=>a.current,estimateSize:()=>64,overscan:10}),x=c.getTotalSize(),h=c.getVirtualItems();return n&&!t.length?(0,o.jsxs)(i.x,{flex:{gap:8,alignItems:"center"},padding:{horizontal:24},children:[(0,o.jsx)($.$,{purpose:"body-text"}),(0,o.jsx)("div",{children:"Loading…"})]}):t.length?(0,o.jsxs)(es.W2,{ref:a,children:[(0,o.jsx)(ex,{}),(0,o.jsx)(es.Nh,{$totalHeight:x,children:h.map(e=>{let{index:n,key:i,size:r,start:l}=e,a=t[n];if("location"===a.type){let e=(0,eo.Uz)({location:a.locationStatus.name,name:et.Js}),t=s.has(e);return(0,o.jsx)(T.X2,{$height:r,$start:l,children:(0,o.jsx)(ec,{index:n,locationEntry:a.locationEntry,locationStatus:a.locationStatus,hasDocs:t,ref:c.measureElement})},i)}let d=(0,eo.Uz)({location:a.locationStatus.name,name:a.repository.name}),x=s.has(d);return(0,o.jsx)(T.X2,{$height:r,$start:l,children:(0,o.jsx)(ed,{index:n,locationStatus:a.locationStatus,locationEntry:a.locationEntry,repository:a.repository,hasDocs:x,ref:c.measureElement})},i)})})]}):r?(0,o.jsx)(i.x,{padding:{vertical:32},children:(0,o.jsx)(P.t,{icon:"folder",title:"No matching code locations",description:(0,o.jsxs)("div",{children:["No code locations were found for search query ",(0,o.jsx)("strong",{children:r}),"."]})})}):l?(0,o.jsx)(i.x,{padding:{vertical:32},children:(0,o.jsx)(P.t,{icon:"folder",title:"No matching code locations",description:(0,o.jsx)("div",{children:"No code locations were found for these filter settings."})})}):(0,o.jsx)(i.x,{padding:{vertical:32},children:(0,o.jsx)(P.t,{icon:"folder",title:"No code locations",description:"When you add a code location, your definitions will appear here."})})},ep=()=>{(0,R.Px)(),(0,U.j)("Code locations");let{activeFiltersJsx:e,flattened:n,button:t,loading:r,filtered:a,onChangeSearch:c,searchValue:x}=V(),{data:h}=(0,y.aM)(b),u=(0,d.useMemo)(()=>h&&"RepositoryConnection"===h.repositoriesOrError.__typename?new Set(h.repositoriesOrError.nodes.filter(e=>"Repository"===e.__typename&&e.hasLocationDocs).map(e=>{let n=e.name,t=e.location.name;return(0,eo.Uz)({name:n,location:t})})):new Set,[h]),p=n.length,j=p>10;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(i.x,{padding:{vertical:16,horizontal:24},flex:{direction:"row",justifyContent:"space-between",alignItems:"center"},style:{height:"64px"},children:[(0,o.jsxs)(i.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[t,j?(0,o.jsx)(f.oi,{icon:"search",value:x,onChange:c,placeholder:"Filter code locations by name…",style:{width:"400px"}}):(0,o.jsx)(l.pm,{id:"repository-locations",children:r||!p?"Code locations":1===p?"1 code location":"".concat(p," code locations")})]}),(0,o.jsxs)(i.x,{flex:{direction:"row",gap:12,alignItems:"center"},children:[j?(0,o.jsx)("div",{children:"".concat(p," code locations")}):null,(0,o.jsx)(s.i,{})]})]}),e.length?(0,o.jsx)(i.x,{flex:{direction:"row",alignItems:"center",gap:4},padding:{horizontal:24},children:e}):null,(0,o.jsx)(eu,{loading:r,codeLocations:a,locationsWithDocs:u,isFilteredView:!!e.length,searchValue:x})]})};var ej=t(810),em=t(95568),eg=t(87392);let ef=()=>(0,o.jsx)(i.x,{flex:{direction:"column",alignItems:"stretch"},style:{flex:1,overflow:"hidden"},children:(0,o.jsxs)(x.rs,{children:[(0,o.jsx)(g.A,{path:"/deployment/locations",children:(0,o.jsx)(ep,{})}),(0,o.jsx)(g.A,{path:"/deployment/daemons",children:(0,o.jsx)(eg.InstanceHealthPageContent,{})}),(0,o.jsx)(g.A,{path:"/deployment/concurrency/:concurrencyKey?",children:(0,o.jsx)(ej.InstanceConcurrencyPageContent,{})}),(0,o.jsx)(g.A,{path:"/deployment/config",children:(0,o.jsx)(em.InstanceConfigContent,{})}),(0,o.jsx)(g.A,{path:"*",isNestingRoute:!0,children:(0,o.jsx)(x.l_,{to:"/deployment/locations"})})]})}),ey=()=>(0,o.jsx)(a,{left:(0,o.jsx)(m,{}),main:(0,o.jsx)(ef,{})});var ev=ey},29476:function(e,n,t){t.d(n,{y:function(){return x}});var o=t(52322),i=t(48177),r=t(26834),l=t(3217),s=t(30604),a=t(55408),c=t(47933),d=t(35505);let x=e=>{let{active:n=!1,item:t}=e,{type:l,icon:s,label:a,rightElement:c,tooltip:d="",disabled:x=!1}=t,h=(0,o.jsxs)(i.x,{padding:{vertical:4,left:12,right:8},flex:{direction:"row",gap:8,alignItems:"center",justifyContent:"space-between"},children:[(0,o.jsxs)(i.x,{flex:{direction:"row",gap:8,alignItems:"center"},className:"iconAndLabel",children:[s,a]}),(0,o.jsx)("div",{children:c})]});return"link"!==l||x?(0,o.jsx)(r.u,{canShow:!!d,content:d,placement:"right",display:"block",children:(0,o.jsx)(p,{$active:n,disabled:x,onClick:t.onClick,children:h})}):(0,o.jsx)(r.u,{canShow:!!d,content:d,placement:"right",display:"block",children:(0,o.jsx)(u,{to:t.path,$active:n,children:h})})},h=(0,d.iv)(["background-color:",";border-radius:8px;color:",";display:block;font-size:14px;line-height:20px;text-decoration:none;transition:100ms background-color linear;user-select:none;width:100%;:focus{outline:none;background-color:",";}:hover,:active{background-color:",";color:",";text-decoration:none;}.iconAndLabel{","{background-color:",";}}"],e=>{let{$active:n}=e;return n?l.Dd():"transparent"},e=>{let{$active:n}=e;return n?l.Ne():l.Ep()},e=>{let{$active:n}=e;return n?l.Dd():l.gJ()},e=>{let{$active:n}=e;return n?l.Dd():l._c()},e=>{let{$active:n}=e;return n?l.Ne():l.Ep()},s.a1,e=>{let{$active:n}=e;return n?l.Ne():l.Ep()}),u=(0,d.ZP)(c.rU).withConfig({componentId:"sc-a48d7aeb-0"})(["",""],h),p=(0,d.ZP)(a.k).withConfig({componentId:"sc-a48d7aeb-1"})(["",""],h)},41570:function(e,n,t){t.d(n,{c5:function(){return u}});var o=t(52322),i=t(60206),r=t(76154),l=t(94466),s=t(30604),a=t(39361),c=t(58351),d=t(11170),x=t(2784),h=t(45984);let u=e=>{var n;let{locationNode:t}=e,[a,c]=(0,x.useState)(!1),[d,h]=(0,x.useState)(!1),u=null,m=null;return(null===(n=t.locationOrLoadError)||void 0===n?void 0:n.__typename)==="RepositoryLocation"&&null!==t.locationOrLoadError.dagsterLibraryVersions&&(u=(0,o.jsx)(i.sN,{icon:"info",text:"View Dagster libraries",onClick:()=>h(!0)}),m=(0,o.jsx)(j,{libraries:t.locationOrLoadError.dagsterLibraryVersions,isOpen:d,setIsOpen:h})),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(r.J2,{position:"bottom-left",content:(0,o.jsxs)(i.v2,{children:[(0,o.jsx)(i.sN,{icon:"info",text:"View configuration",onClick:()=>c(!0)}),u]}),children:(0,o.jsx)(l.zx,{icon:(0,o.jsx)(s.JO,{name:"expand_more"})})}),(0,o.jsx)(p,{metadata:t.displayMetadata,isOpen:a,setIsOpen:c}),m]})},p=e=>{let{isOpen:n,setIsOpen:t,metadata:i}=e;return(0,o.jsxs)(a.Vq,{title:"Code location configuration",icon:"info",isOpen:n,onClose:()=>t(!1),style:{width:"600px"},children:[(0,o.jsx)(m,{displayMetadata:i}),(0,o.jsx)(a.cN,{topBorder:!0,children:(0,o.jsx)(l.zx,{onClick:()=>t(!1),intent:"primary",children:"Done"})})]})},j=e=>{let{isOpen:n,setIsOpen:t,libraries:i}=e;return(0,o.jsxs)(a.Vq,{title:"Dagster library versions",icon:"info",isOpen:n,onClose:()=>t(!1),style:{width:"600px"},children:[(0,o.jsxs)(c.i,{children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{children:"Library"}),(0,o.jsx)("th",{children:"Version"})]})}),(0,o.jsx)("tbody",{children:i.map(e=>(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:e.name}),(0,o.jsx)("td",{children:e.version})]},e.name))})]}),(0,o.jsx)(a.cN,{topBorder:!0,children:(0,o.jsx)(l.zx,{onClick:()=>t(!1),intent:"primary",children:"Done"})})]})},m=e=>{let{displayMetadata:n}=e,t=(0,x.useMemo)(()=>{let e=n.reduce((e,n)=>(e[n.key]=n.value,e),{});return h.Pz(e)},[n]);return(0,o.jsx)(d.u,{value:t,options:{readOnly:!0,lineNumbers:!0,mode:"yaml"},theme:["config-editor"]})}},66690:function(e,n,t){t.d(n,{F8:function(){return C},OM:function(){return w},_y:function(){return k},hN:function(){return S}});var o=t(52322),i=t(18984),r=t(26834),l=t(55408),s=t(30604),a=t(48177),c=t(3217),d=t(2636),x=t(54854),h=t(54123),u=t(94466),p=t(56328),j=t(2784),m=t(35505),g=t(73134),f=t(73347),y=t(10195),v=t(17723);let w=e=>{let{metadata:n}=e,t=(0,f.m)(),[a,c]=(0,j.useState)(!1),d=n.find(e=>{let{key:n}=e;return"image"===n}),x=(null==d?void 0:d.value)||"",h=(0,j.useCallback)(async()=>{t(x),c(!0);let e=setTimeout(()=>{c(!1)},3e3);return()=>clearTimeout(e)},[t,x]);return d?(0,o.jsxs)(b,{children:[(0,o.jsx)("span",{style:{fontWeight:500},children:"image: "}),(0,o.jsx)("span",{style:{marginRight:"4px"},children:(0,o.jsx)(i.aU,{children:d.value})}),(0,o.jsx)(r.u,{content:a?"Copied!":"Click to copy image string",placement:"top",children:(0,o.jsx)(l.k,{onClick:h,children:(0,o.jsx)(s.JO,{name:a?"done":"copy",size:12})})})]}):null},b=(0,m.ZP)(a.x).withConfig({componentId:"sc-f88a3cc4-0"})(["width:100%;color:",";font-size:12px;.bp5-popover-target{display:inline;overflow:hidden;position:relative;top:1px;}"],c.$()),C=e=>{let{metadata:n}=e,t=n.find(e=>{let{key:n}=e;return"module_name"===n||"package_name"===n||"python_file"===n});return t?(0,o.jsxs)(a.x,{flex:{direction:"row",gap:4},style:{width:"100%",color:c.$(),fontSize:12},children:[(0,o.jsxs)("span",{style:{fontWeight:500},children:[t.key,":"]}),(0,o.jsx)("div",{style:E,children:(0,o.jsx)(d.g,{text:t.value})})]}):null},k=e=>{var n;let{locationStatus:t,locationOrError:i}=e,[r,l]=(0,j.useState)(!1),s=(0,j.useMemo)(()=>(0,v.je)((null==t?void 0:t.name)||""),[null==t?void 0:t.name]),{reloading:c,tryReload:d}=(0,v.Dc)({scope:"location",reloadFn:s});return(null==t?void 0:t.loadStatus)==="LOADING"?(0,o.jsx)(x.V,{minimal:!0,intent:"primary",children:"Updating…"}):(null==i?void 0:i.versionKey)!==(null==t?void 0:t.versionKey)?(0,o.jsx)(x.V,{minimal:!0,intent:"primary",children:"Loading…"}):t&&(null==i?void 0:null===(n=i.locationOrLoadError)||void 0===n?void 0:n.__typename)==="PythonError"?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(a.x,{flex:{alignItems:"center",gap:12},children:[(0,o.jsx)(x.V,{minimal:!0,intent:"danger",children:"Failed"}),(0,o.jsx)(h.Z,{onClick:()=>l(!0),children:(0,o.jsx)("span",{style:{fontSize:"12px"},children:"View error"})})]}),(0,o.jsx)(g.p,{location:t.name,isOpen:r,error:i.locationOrLoadError,reloading:c,onDismiss:()=>l(!1),onTryReload:()=>d()})]}):(0,o.jsx)(x.V,{minimal:!0,intent:"success",children:"Loaded"})},S=e=>{let{location:n}=e;return(0,o.jsx)(y.s,{location:n,ChildComponent:e=>{let{reloading:n,tryReload:t,hasReloadPermission:i}=e;return(0,o.jsx)(a.x,{flex:{direction:"row",alignItems:"center",gap:4},children:(0,o.jsx)(r.u,{content:i?"":y.H,canShow:!i,useDisabledButtonTooltipFix:!0,children:(0,o.jsx)(u.zx,{icon:(0,o.jsx)(s.JO,{name:"code_location_reload"}),disabled:!i,loading:n,onClick:()=>t(),children:"Reload"})})})}})},E={width:"100%",display:"block",fontFamily:p.b.monospace,fontSize:"12px",color:c.$()}}}]);
//# sourceMappingURL=8744.08534c09377c3ea6.js.map