"use strict";(self.webpackChunk_datalayer_ui=self.webpackChunk_datalayer_ui||[]).push([[5643],{3345:(o,r,e)=>{e.d(r,{K:()=>f,S:()=>g});var t=e(9387),n=e(72447),a=e(41630),i=e(94761),d=e(71623),s=e(27907),u=e(30323),l=e(46186),c=e.n(l),p=e(91957);c()(p.A,{insert:"head",singleton:!1}),p.A.locals;var m=e(18683);const h=({title:o,onClose:r,dialogLabelId:e})=>{const n=(0,t.useCallback)((()=>{r("close-button")}),[r]);return(0,m.jsxs)("div",{className:"prc-ConfirmationDialog-ConfirmationHeader-yiLEc",children:[(0,m.jsx)("h1",{id:e,children:o}),(0,m.jsx)(d.l.CloseButton,{onClose:n})]})};h.displayName="ConfirmationHeader";const v=({children:o})=>(0,m.jsx)("div",{className:"prc-ConfirmationDialog-ConfirmationBody-ht9P-",children:o});v.displayName="ConfirmationBody";const G=({footerButtons:o})=>{const{containerRef:r}=(0,s.G)({bindKeys:i.z0.ArrowHorizontal|i.z0.Tab,focusInStrategy:"closest"});return(0,m.jsx)("div",{ref:r,className:"prc-ConfirmationDialog-ConfirmationFooter-AqKBI",children:(0,m.jsx)(d.l.Buttons,{buttons:null!=o?o:[]})})};G.displayName="ConfirmationFooter";const f=o=>{const{onClose:r,title:e,cancelButtonContent:n="Cancel",confirmButtonContent:a="OK",confirmButtonType:i="normal",children:s}=o,u="danger"===i,l=[{content:n,onClick:(0,t.useCallback)((()=>{r("cancel")}),[r]),autoFocus:u},{content:a,buttonType:i,onClick:(0,t.useCallback)((()=>{r("confirm")}),[r]),autoFocus:!u}];return(0,m.jsx)(d.l,{onClose:r,title:e,footerButtons:l,role:"alertdialog",width:"medium",renderHeader:h,renderBody:v,renderFooter:G,children:s})};f.displayName="ConfirmationDialog";let B=null;function g(){const{theme:o,colorMode:r,dayScheme:e,nightScheme:i}=(0,a.DP)(),d=(0,t.useCallback)((t=>async function(o,r){const{content:e,...t}=r;return new Promise((r=>{B||=document.createElement("div"),B.isConnected||document.body.append(B);const i=(0,n.H)(B);i.render((0,m.jsx)(a.NP,{...o,children:(0,m.jsx)(u.A,{children:(0,m.jsx)(f,{...t,onClose:o=>{i.unmount(),r("confirm"===o)},children:e})})}))}))}({theme:o,colorMode:r,dayScheme:e,nightScheme:i},t)),[o,r,e,i]);return d}},38233:(o,r,e)=>{e.d(r,{A:()=>d});var t=e(52908),n=e.n(t),a=e(10293),i=e.n(a)()(n());i.push([o.id,".prc-ButtonGroup-ButtonGroup-vcMeG{display:inline-flex;isolation:isolate;vertical-align:middle}.prc-ButtonGroup-ButtonGroup-vcMeG>:not([data-loading-wrapper]){margin-inline-end:-1px;position:relative}:is(.prc-ButtonGroup-ButtonGroup-vcMeG>:not([data-loading-wrapper])) a,:is(.prc-ButtonGroup-ButtonGroup-vcMeG>:not([data-loading-wrapper])) button{border-radius:0}:is(.prc-ButtonGroup-ButtonGroup-vcMeG>:not([data-loading-wrapper])):first-child a,:is(.prc-ButtonGroup-ButtonGroup-vcMeG>:not([data-loading-wrapper])):first-child button{border-bottom-left-radius:var(--borderRadius-medium,.375rem);border-top-left-radius:var(--borderRadius-medium,.375rem)}:is(.prc-ButtonGroup-ButtonGroup-vcMeG>:not([data-loading-wrapper])):last-child a,:is(.prc-ButtonGroup-ButtonGroup-vcMeG>:not([data-loading-wrapper])):last-child button{border-bottom-right-radius:var(--borderRadius-medium,.375rem);border-top-right-radius:var(--borderRadius-medium,.375rem)}:is(.prc-ButtonGroup-ButtonGroup-vcMeG>:not([data-loading-wrapper])):active,:is(.prc-ButtonGroup-ButtonGroup-vcMeG>:not([data-loading-wrapper])):focus,:is(.prc-ButtonGroup-ButtonGroup-vcMeG>:not([data-loading-wrapper])):hover{z-index:1}.prc-ButtonGroup-ButtonGroup-vcMeG:has(div:last-child:empty) a,.prc-ButtonGroup-ButtonGroup-vcMeG:has(div:last-child:empty) button{border-radius:var(--borderRadius-medium,.375rem)}.prc-ButtonGroup-ButtonGroup-vcMeG>[data-loading-wrapper]{margin-inline-end:-1px;position:relative}:is(.prc-ButtonGroup-ButtonGroup-vcMeG>[data-loading-wrapper]) a,:is(.prc-ButtonGroup-ButtonGroup-vcMeG>[data-loading-wrapper]) button{border-radius:0}:is(.prc-ButtonGroup-ButtonGroup-vcMeG>[data-loading-wrapper]):active,:is(.prc-ButtonGroup-ButtonGroup-vcMeG>[data-loading-wrapper]):focus,:is(.prc-ButtonGroup-ButtonGroup-vcMeG>[data-loading-wrapper]):hover{z-index:1}:is(.prc-ButtonGroup-ButtonGroup-vcMeG>[data-loading-wrapper]):first-child a,:is(.prc-ButtonGroup-ButtonGroup-vcMeG>[data-loading-wrapper]):first-child button{border-bottom-left-radius:var(--borderRadius-medium,.375rem);border-top-left-radius:var(--borderRadius-medium,.375rem)}:is(.prc-ButtonGroup-ButtonGroup-vcMeG>[data-loading-wrapper]):last-child a,:is(.prc-ButtonGroup-ButtonGroup-vcMeG>[data-loading-wrapper]):last-child button{border-bottom-right-radius:var(--borderRadius-medium,.375rem);border-top-right-radius:var(--borderRadius-medium,.375rem)}",""]);const d=i},46508:(o,r,e)=>{e.d(r,{A:()=>v});var t=e(9387),n=e(46186),a=e.n(n),i=e(38233);a()(i.A,{insert:"head",singleton:!1}),i.A.locals;var d="prc-ButtonGroup-ButtonGroup-vcMeG",s=e(34164),u=e(27907),l=e(34212),c=e(94761),p=e(98754),m=e(20084),h=e(18683);const v=t.forwardRef((function({children:o,className:r,role:e,sx:n,...a},i){const v=t.Children.map(o,((o,r)=>(0,h.jsx)("div",{children:o},r))),G=(0,l.L)(i);return(0,u.G)({containerRef:G,disabled:"toolbar"!==e,bindKeys:c.z0.ArrowHorizontal,focusOutBehavior:"wrap"}),n!==m.E?(0,h.jsx)(p.A,{as:"div",className:(0,s.$)(r,d),role:e,...a,sx:n,ref:G,children:v}):(0,h.jsx)("div",{ref:G,className:(0,s.$)(r,d),role:e,...a,children:v})}));v.displayName="ButtonGroup"},91957:(o,r,e)=>{e.d(r,{A:()=>d});var t=e(52908),n=e.n(t),a=e(10293),i=e.n(a)()(n());i.push([o.id,".prc-ConfirmationDialog-ConfirmationHeader-yiLEc{display:flex;flex-direction:row;padding:var(--base-size-8,.5rem)}.prc-ConfirmationDialog-ConfirmationHeader-yiLEc>h1{flex-grow:1;font-size:var(--text-title-size-medium,1.25rem);font-weight:var(--text-title-weight-medium,600);margin:0;padding:var(--base-size-6,.375rem) var(--base-size-8,.5rem)}.prc-ConfirmationDialog-ConfirmationBody-ht9P-{flex-grow:1;font-size:var(--text-body-size-medium,.875rem);padding:0 var(--base-size-16,1rem) var(--base-size-16,1rem) var(--base-size-16,1rem)}.prc-ConfirmationDialog-ConfirmationFooter-AqKBI{display:grid;grid-auto-columns:max-content;grid-auto-flow:column;grid-gap:var(--base-size-8,.5rem);align-items:end;justify-content:end;padding:var(--base-size-4,.25rem) var(--base-size-16,1rem) var(--base-size-16,1rem)}",""]);const d=i},95643:(o,r,e)=>{e.r(r),e.d(r,{DocumentPublic:()=>B,default:()=>g});var t=e(9387),n=e(20568),a=e(3345),i=e(7856),d=e(98754),s=e(3556),u=e(46508),l=e(99180),c=e(80006),p=e(38621),m=e(54087),h=e(23530),v=e(97734),G=e(50906),f=e(18683);const B=()=>{const o=(0,G.mt)(),r=o.iam().user,e=o.layout().space,{documentId:B}=(0,n.g)(),{refreshDocument:g,getDocument:b,cloneDocument:y}=(0,m.E)(),x=(0,h.Z)(),C=(0,a.S)(),{enqueueToast:w}=(0,v.d)(),[j,z]=(0,t.useState)();(0,t.useEffect)((()=>(o.layout().showBackdrop(),g(B).then((r=>{if(o.layout().hideBackdrop(),r.success){const o=b(B);o||x("/"),z(o)}})).finally((()=>{o.layout().hideBackdrop()})),()=>{z(void 0),o.layout().setItem(void 0)})),[B]);const M=(0,t.useCallback)((async e=>{C({title:"Are you sure?",content:"Please confirm you want to clone this document in your private library."}).then((e=>{e&&(o.layout().showBackdrop(),y(B).then((e=>{o.layout().hideBackdrop(),e.success&&(w(e.message,{variant:"success"}),o.layout().triggerItemsRefresh(),x(`/${r?.handle}/library/documents`))})).finally((()=>{o.layout().hideBackdrop()})))}))}),[C,j]);return j?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(i.z,{children:(0,f.jsxs)(d.A,{display:"flex",children:[(0,f.jsx)(d.A,{flex:1,children:(0,f.jsx)(s.A,{sx:{fontSize:3},children:"Public document"})}),(0,f.jsx)(d.A,{children:(0,f.jsxs)(u.A,{children:[j&&r?.handle===j.owner.handle&&(0,f.jsx)(l.Q,{variant:"default",size:"small",onClick:()=>x(`/${j.organization?.handle??j.owner?.handle}/${j.space?.handle}/documents/${j.id}`),children:"Edit"}),r&&e&&(0,f.jsx)(l.Q,{variant:"default",size:"small",leadingVisual:p.Nc$,onClick:M,children:"Clone"})]})})]})}),(0,f.jsx)(d.A,{children:(0,f.jsx)(c.A,{children:j.description})}),(0,f.jsx)(d.A,{children:j.model&&(0,f.jsx)(f.Fragment,{})})]}):(0,f.jsx)(f.Fragment,{})},g=B}}]);