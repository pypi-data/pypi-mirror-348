export const __webpack_ids__=["68973"];export const __webpack_modules__={92535:function(e,t,i){i.a(e,(async function(e,o){try{i.d(t,{t:()=>n});var r=i(40142),a=i(45691),s=e([r,a]);function n(e,t,i,o){const s=o/60/24,n=new Date(e);if(s>88)return 0===n.getMonth()?`{bold|${(0,r.NC)(n,t,i)}}`:(0,r.Nh)(n,t,i);if(s>35)return 1===n.getDate()?`{bold|${(0,r.ud)(n,t,i)}}`:(0,r.ud)(n,t,i);if(s>7){const e=(0,r.ud)(n,t,i);return 1===n.getDate()?`{bold|${e}}`:e}return s>2?(0,r.U8)(n,t,i):o&&o<5?(0,a.Vu)(n,t,i):0===n.getHours()&&0===n.getMinutes()&&0===n.getSeconds()?`{bold|${(0,r.ud)(n,t,i)}}`:(0,a.mr)(n,t,i)}[r,a]=s.then?(await s)():s,o()}catch(l){o(l)}}))},37008:function(e,t,i){i.a(e,(async function(e,o){try{i.d(t,{Q:()=>C});i(2394),i(81738),i(94814),i(29981),i(22960),i(6989),i(93190),i(67886),i(65451),i(46015),i(38334),i(94880),i(75643),i(29761);var r=i(73742),a=i(72644),s=i(64346),n=i(19627),l=i(59048),d=i(26292),h=i(31733),c=i(20480),p=i(55815),g=i(39884),u=i(86339),y=i(97133),m=i(2913),_=(i(48017),i(92535)),x=i(45332),v=(i(84447),e([_]));_=(v.then?(await v)():v)[0];const f="M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z",b="M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z",w="M12,4C14.1,4 16.1,4.8 17.6,6.3C20.7,9.4 20.7,14.5 17.6,17.6C15.8,19.5 13.3,20.2 10.9,19.9L11.4,17.9C13.1,18.1 14.9,17.5 16.2,16.2C18.5,13.9 18.5,10.1 16.2,7.7C15.1,6.6 13.5,6 12,6V10.6L7,5.6L12,0.6V4M6.3,17.6C3.7,15 3.3,11 5.1,7.9L6.6,9.4C5.5,11.6 5.9,14.4 7.8,16.2C8.3,16.7 8.9,17.1 9.6,17.4L9,19.4C8,19 7.1,18.4 6.3,17.6Z",C=3e5,L=10,k=6,V=300;class S extends l.oi{disconnectedCallback(){for(super.disconnectedCallback();this._listeners.length;)this._listeners.pop()();this.chart?.dispose(),this.chart=void 0,this._originalZrFlush=void 0}connectedCallback(){super.connectedCallback(),this.hasUpdated&&this._setupChart(),this._listeners.push((0,u.K)("(prefers-reduced-motion)",(e=>{this._reducedMotion!==e&&(this._reducedMotion=e,this._setChartOptions({animation:!this._reducedMotion}))})));const e=e=>{!this._modifierPressed&&(m.V&&"Meta"===e.key||!m.V&&"Control"===e.key)&&(this._modifierPressed=!0,this.options?.dataZoom||this._setChartOptions({dataZoom:this._getDataZoomConfig()}),this.chart?.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:!0}))},t=e=>{this._modifierPressed&&(m.V&&"Meta"===e.key||!m.V&&"Control"===e.key)&&(this._modifierPressed=!1,this.options?.dataZoom||this._setChartOptions({dataZoom:this._getDataZoomConfig()}),this.chart?.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:!1}))};window.addEventListener("keydown",e),window.addEventListener("keyup",t),this._listeners.push((()=>window.removeEventListener("keydown",e)),(()=>window.removeEventListener("keyup",t)))}firstUpdated(){this._setupChart()}willUpdate(e){if(!this.chart)return;if(e.has("_themes"))return void this._setupChart();let t={};(e.has("data")||e.has("_hiddenDatasets"))&&(t.series=this._getSeries()),e.has("options")?t={...t,...this._createOptions()}:this._isTouchDevice&&e.has("_isZoomed")&&(t.dataZoom=this._getDataZoomConfig()),Object.keys(t).length>0&&this._setChartOptions(t)}render(){return l.dy` <div class="container ${(0,h.$)({"has-height":!!this.height})}" style="${(0,c.V)({height:this.height})}"> <div class="chart-container" style="${(0,c.V)({height:this.height?void 0:`${this._getDefaultHeight()}px`})}"> <div class="chart"></div> </div> ${this._renderLegend()} ${this._isZoomed?l.dy`<ha-icon-button class="zoom-reset" .path="${w}" @click="${this._handleZoomReset}" title="${this.hass.localize("ui.components.history_charts.zoom_reset")}"></ha-icon-button>`:l.Ld} </div> `}_renderLegend(){if(!this.options?.legend||!this.data)return l.Ld;const e=(0,x.r)(this.options.legend)[0];if(!e.show)return l.Ld;const t=(0,x.r)(this.data),i=e.data||t.filter((e=>e.data?.length&&(e.id||e.name))).map((e=>e.name??e.id))||[],o=window.matchMedia("all and (max-width: 450px), all and (max-height: 500px)").matches?k:L;return l.dy`<div class="${(0,h.$)({"chart-legend":!0,"multiple-items":i.length>1})}"> <ul> ${i.map(((e,i)=>{if(!this.expandLegend&&i>=o)return l.Ld;const r=t.find((t=>t.id===e||t.name===e)),a=r?.color,s=r?.itemStyle?.borderColor;return l.dy`<li .name="${e}" @click="${this._legendClick}" class="${(0,h.$)({hidden:this._hiddenDatasets.has(e)})}" .title="${e}"> <div class="bullet" style="${(0,c.V)({backgroundColor:a,borderColor:s||a})}"></div> <div class="label">${e}</div> </li>`}))} ${i.length>o?l.dy`<li> <ha-assist-chip @click="${this._toggleExpandedLegend}" filled label="${this.expandLegend?this.hass.localize("ui.components.history_charts.collapse_legend"):`${this.hass.localize("ui.components.history_charts.expand_legend")} (${i.length-o})`}"> <ha-svg-icon slot="trailing-icon" .path="${this.expandLegend?b:f}"></ha-svg-icon> </ha-assist-chip> </li>`:l.Ld} </ul> </div>`}async _setupChart(){if(this._loading)return;const e=this.renderRoot.querySelector(".chart");this._loading=!0;try{this.chart&&this.chart.dispose();const t=(await Promise.all([i.e("63873"),i.e("72217"),i.e("71352"),i.e("78016")]).then(i.bind(i,68234))).default;this.extraComponents?.length&&t.use(this.extraComponents),t.registerTheme("custom",this._createTheme()),this.chart=t.init(e,"custom"),this.chart.on("datazoom",(e=>{const{start:t,end:i}=e.batch?.[0]??e;this._isZoomed=0!==t||100!==i,this._zoomRatio=(i-t)/100})),this.chart.on("click",(e=>{(0,g.B)(this,"chart-click",e)})),this.chart.getZr().on("dblclick",this._handleClickZoom),this._isTouchDevice&&this.chart.getZr().on("click",(e=>{e.zrByTouch&&(this._lastTapTime&&Date.now()-this._lastTapTime<V?this._handleClickZoom(e):this._lastTapTime=Date.now())}));const o=(0,x.r)(this.options?.legend||[])[0];Object.entries(o?.selected||{}).forEach((([e,t])=>{!1===t&&this._hiddenDatasets.add(e)})),this.chart.setOption({...this._createOptions(),series:this._getSeries()})}finally{this._loading=!1}}_getDataZoomConfig(){const e=this.options?.xAxis?.[0]??this.options?.xAxis,t=this.options?.yAxis?.[0]??this.options?.yAxis;if("value"!==e?.type||"category"!==t?.type)return{id:"dataZoom",type:"inside",orient:"horizontal",filterMode:"none",moveOnMouseMove:!this._isTouchDevice||this._isZoomed,preventDefaultMouseMove:!this._isTouchDevice||this._isZoomed,zoomLock:!this._isTouchDevice&&!this._modifierPressed}}_createOptions(){let e=this.options?.xAxis;e&&(e=Array.isArray(e)?e:[e],e=e.map((e=>{if("time"!==e.type||!1===e.show)return e;e.max&&e.min&&(this._minutesDifference=(0,n.X)(e.max,e.min));const t=this._minutesDifference/60/24;let i;return t&&(i=t>=89?24192e5:t>2?864e5:void 0),{axisLine:{show:!1},splitLine:{show:!0},...e,axisLabel:{formatter:this._formatTimeLabel,rich:{bold:{fontWeight:"bold"}},hideOverlap:!0,...e.axisLabel},minInterval:i}})));const t={animation:!this._reducedMotion,darkMode:this._themes.darkMode??!1,aria:{show:!0},dataZoom:this._getDataZoomConfig(),toolbox:{top:1/0,left:1/0,feature:{dataZoom:{show:!0,yAxisIndex:!1,filterMode:"none"}},iconStyle:{opacity:0}},...this.options,legend:{show:!1},xAxis:e};if(window.matchMedia("all and (max-width: 450px), all and (max-height: 500px)").matches&&t.tooltip){const e=Array.isArray(t.tooltip)?t.tooltip:[t.tooltip];e.forEach((e=>{e.confine=!0,e.appendTo=void 0,e.triggerOn="click"})),t.tooltip=e}return t}_createTheme(){const e=getComputedStyle(this);return{color:(0,p.o9)(e),backgroundColor:"transparent",textStyle:{color:e.getPropertyValue("--primary-text-color"),fontFamily:"Roboto, Noto, sans-serif"},title:{textStyle:{color:e.getPropertyValue("--primary-text-color")},subtextStyle:{color:e.getPropertyValue("--secondary-text-color")}},line:{lineStyle:{width:1.5},symbolSize:1,symbol:"circle",smooth:!1},bar:{itemStyle:{barBorderWidth:1.5}},categoryAxis:{axisLine:{show:!1},axisTick:{show:!1},axisLabel:{show:!0,color:e.getPropertyValue("--primary-text-color")},splitLine:{show:!1,lineStyle:{color:e.getPropertyValue("--divider-color")}},splitArea:{show:!1,areaStyle:{color:[e.getPropertyValue("--divider-color")+"3F",e.getPropertyValue("--divider-color")+"7F"]}}},valueAxis:{axisLine:{show:!0,lineStyle:{color:e.getPropertyValue("--divider-color")}},axisTick:{show:!0,lineStyle:{color:e.getPropertyValue("--divider-color")}},axisLabel:{show:!0,color:e.getPropertyValue("--primary-text-color")},splitLine:{show:!0,lineStyle:{color:e.getPropertyValue("--divider-color")}},splitArea:{show:!1,areaStyle:{color:[e.getPropertyValue("--divider-color")+"3F",e.getPropertyValue("--divider-color")+"7F"]}}},logAxis:{axisLine:{show:!0,lineStyle:{color:e.getPropertyValue("--divider-color")}},axisTick:{show:!0,lineStyle:{color:e.getPropertyValue("--divider-color")}},axisLabel:{show:!0,color:e.getPropertyValue("--primary-text-color")},splitLine:{show:!0,lineStyle:{color:e.getPropertyValue("--divider-color")}},splitArea:{show:!1,areaStyle:{color:[e.getPropertyValue("--divider-color")+"3F",e.getPropertyValue("--divider-color")+"7F"]}}},timeAxis:{axisLine:{show:!0,lineStyle:{color:e.getPropertyValue("--divider-color")}},axisTick:{show:!0,lineStyle:{color:e.getPropertyValue("--divider-color")}},axisLabel:{show:!0,color:e.getPropertyValue("--primary-text-color")},splitLine:{show:!0,lineStyle:{color:e.getPropertyValue("--divider-color")}},splitArea:{show:!1,areaStyle:{color:[e.getPropertyValue("--divider-color")+"3F",e.getPropertyValue("--divider-color")+"7F"]}}},legend:{textStyle:{color:e.getPropertyValue("--primary-text-color")},inactiveColor:e.getPropertyValue("--disabled-text-color"),pageIconColor:e.getPropertyValue("--primary-text-color"),pageIconInactiveColor:e.getPropertyValue("--disabled-text-color"),pageTextStyle:{color:e.getPropertyValue("--secondary-text-color")}},tooltip:{backgroundColor:e.getPropertyValue("--card-background-color"),borderColor:e.getPropertyValue("--divider-color"),textStyle:{color:e.getPropertyValue("--primary-text-color"),fontSize:12},axisPointer:{lineStyle:{color:e.getPropertyValue("--info-color")},crossStyle:{color:e.getPropertyValue("--info-color")}},extraCssText:"direction:"+e.getPropertyValue("--direction")+";margin-inline-start:3px;margin-inline-end:8px;"},timeline:{}}}_getSeries(){const e=(0,x.r)(this.data).filter((e=>!this._hiddenDatasets.has(String(e.name??e.id)))),t=this.options?.yAxis?.[0]??this.options?.yAxis;return"log"===t?.type?e.map((e=>"line"===e.type?{...e,data:e.data?.map((e=>Array.isArray(e)?[e[0],"number"!=typeof e[1]||e[1]>0?e[1]:null,...e.slice(2)]:e))}:e)):e}_getDefaultHeight(){return Math.max(this.clientWidth/2,200)}_setChartOptions(e){if(!this.chart)return;if(!this._originalZrFlush){if((0,x.r)(this.data).reduce(((e,t)=>e+(t.data||[]).length),0)>1e4){const e=this.chart.getZr();this._originalZrFlush=e.flush,e.flush=()=>{setTimeout((()=>{this._originalZrFlush?.call(e)}),5)}}}const t=e.series?["series"]:[];this.chart.setOption(e,{replaceMerge:t})}_handleZoomReset(){this.chart?.dispatchAction({type:"dataZoom",start:0,end:100})}_legendClick(e){if(!this.chart)return;const t=e.currentTarget?.name;this._hiddenDatasets.has(t)?(this._hiddenDatasets.delete(t),(0,g.B)(this,"dataset-unhidden",{name:t})):(this._hiddenDatasets.add(t),(0,g.B)(this,"dataset-hidden",{name:t})),this.requestUpdate("_hiddenDatasets")}_toggleExpandedLegend(){this.expandLegend=!this.expandLegend,setTimeout((()=>{this.chart?.resize()}))}constructor(...e){super(...e),this.data=[],this._isZoomed=!1,this._zoomRatio=1,this._minutesDifference=1440,this._hiddenDatasets=new Set,this._modifierPressed=!1,this._isTouchDevice="ontouchstart"in window,this._resizeController=new s.Z(this,{callback:()=>this.chart?.resize()}),this._loading=!1,this._reducedMotion=!1,this._listeners=[],this._formatTimeLabel=e=>(0,_.t)(e,this.hass.locale,this.hass.config,this._minutesDifference*this._zoomRatio),this._handleClickZoom=e=>{if(!this.chart)return;const t=this._isZoomed?[0,100]:[e.offsetX/this.chart.getWidth()*100-15,e.offsetX/this.chart.getWidth()*100+15];this.chart.dispatchAction({type:"dataZoom",start:t[0],end:t[1]})}}}S.styles=l.iv`:host{display:block;position:relative;letter-spacing:normal}.container{display:flex;flex-direction:column;position:relative}.container.has-height{max-height:var(--chart-max-height,350px)}.chart-container{width:100%;max-height:var(--chart-max-height,350px)}.has-height .chart-container{flex:1}.chart{height:100%;width:100%}.zoom-reset{position:absolute;top:16px;right:4px;background:var(--card-background-color);border-radius:4px;--mdc-icon-button-size:32px;color:var(--primary-color);border:1px solid var(--divider-color)}.chart-legend{max-height:60%;overflow-y:auto;padding:12px 0 0;font-size:12px;color:var(--primary-text-color)}.chart-legend ul{margin:0;padding:0;display:flex;flex-wrap:wrap;justify-content:center;align-items:center;gap:8px}.chart-legend li{height:24px;cursor:pointer;display:inline-flex;align-items:center;padding:0 2px;box-sizing:border-box;overflow:hidden}.chart-legend.multiple-items li{max-width:220px}.chart-legend .hidden{color:var(--secondary-text-color)}.chart-legend .label{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.chart-legend .bullet{border-width:1px;border-style:solid;border-radius:50%;display:block;height:16px;width:16px;margin-right:4px;flex-shrink:0;box-sizing:border-box;margin-inline-end:4px;margin-inline-start:initial;direction:var(--direction)}.chart-legend .hidden .bullet{border-color:var(--secondary-text-color)!important;background-color:transparent!important}ha-assist-chip{height:100%;--_label-text-weight:500;--_leading-space:8px;--_trailing-space:8px;--_icon-label-space:4px}`,(0,r.__decorate)([(0,d.Cb)({attribute:!1})],S.prototype,"hass",void 0),(0,r.__decorate)([(0,d.Cb)({attribute:!1})],S.prototype,"data",void 0),(0,r.__decorate)([(0,d.Cb)({attribute:!1})],S.prototype,"options",void 0),(0,r.__decorate)([(0,d.Cb)({type:String})],S.prototype,"height",void 0),(0,r.__decorate)([(0,d.Cb)({attribute:"expand-legend",type:Boolean})],S.prototype,"expandLegend",void 0),(0,r.__decorate)([(0,d.Cb)({attribute:!1})],S.prototype,"extraComponents",void 0),(0,r.__decorate)([(0,d.SB)(),(0,a.F_)({context:y.LW,subscribe:!0})],S.prototype,"_themes",void 0),(0,r.__decorate)([(0,d.SB)()],S.prototype,"_isZoomed",void 0),(0,r.__decorate)([(0,d.SB)()],S.prototype,"_zoomRatio",void 0),(0,r.__decorate)([(0,d.SB)()],S.prototype,"_minutesDifference",void 0),(0,r.__decorate)([(0,d.SB)()],S.prototype,"_hiddenDatasets",void 0),S=(0,r.__decorate)([(0,d.Mo)("ha-chart-base")],S),o()}catch(e){o(e)}}))},84447:function(e,t,i){var o=i(73742),r=i(27885),a=i(67522),s=i(23533),n=i(7046),l=i(59048),d=i(26292);class h extends r.g{renderOutline(){return this.filled?l.dy`<span class="filled"></span>`:super.renderOutline()}getContainerClasses(){return{...super.getContainerClasses(),active:this.active}}renderPrimaryContent(){return l.dy` <span class="leading icon" aria-hidden="true"> ${this.renderLeadingIcon()} </span> <span class="label">${this.label}</span> <span class="touch"></span> <span class="trailing leading icon" aria-hidden="true"> ${this.renderTrailingIcon()} </span> `}renderTrailingIcon(){return l.dy`<slot name="trailing-icon"></slot>`}constructor(...e){super(...e),this.filled=!1,this.active=!1}}h.styles=[s.W,n.W,a.W,l.iv`:host{--md-sys-color-primary:var(--primary-text-color);--md-sys-color-on-surface:var(--primary-text-color);--md-assist-chip-container-shape:var(
          --ha-assist-chip-container-shape,
          16px
        );--md-assist-chip-outline-color:var(--outline-color);--md-assist-chip-label-text-weight:400}.filled{display:flex;pointer-events:none;border-radius:inherit;inset:0;position:absolute;background-color:var(--ha-assist-chip-filled-container-color)}::slotted([slot=icon]),::slotted([slot=trailing-icon]){display:flex;--mdc-icon-size:var(--md-input-chip-icon-size, 18px);font-size:var(--_label-text-size)!important}.trailing.icon ::slotted(*),.trailing.icon svg{margin-inline-end:unset;margin-inline-start:var(--_icon-label-space)}::before{background:var(--ha-assist-chip-container-color,transparent);opacity:var(--ha-assist-chip-container-opacity, 1)}:where(.active)::before{background:var(--ha-assist-chip-active-container-color);opacity:var(--ha-assist-chip-active-container-opacity)}.label{font-family:Roboto,sans-serif}`],(0,o.__decorate)([(0,d.Cb)({type:Boolean,reflect:!0})],h.prototype,"filled",void 0),(0,o.__decorate)([(0,d.Cb)({type:Boolean})],h.prototype,"active",void 0),h=(0,o.__decorate)([(0,d.Mo)("ha-assist-chip")],h)},2913:function(e,t,i){i.d(t,{V:()=>o});const o=/Mac/i.test(navigator.userAgent)}};
//# sourceMappingURL=68973.abb09e0d6026c769.js.map