"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["8013"],{34302:function(t,e,a){a.a(t,(async function(t,o){try{a.d(e,{Bt:()=>d,T8:()=>l});a(39710);var i=a(62229),s=a(3574),n=a(38763),r=t([i]);i=(r.then?(await r)():r)[0];const c=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],d=t=>t.first_weekday===n.FS.language?"weekInfo"in Intl.Locale.prototype?new Intl.Locale(t.language).weekInfo.firstDay%7:(0,s.L)(t.language)%7:c.includes(t.first_weekday)?c.indexOf(t.first_weekday):1,l=t=>{const e=d(t);return c[e]};o()}catch(c){o(c)}}))},68135:function(t,e,a){a.a(t,(async function(t,o){try{a.d(e,{G:()=>d});var i=a(62229),s=a(28105),n=a(43890),r=t([i,n]);[i,n]=r.then?(await r)():r;const c=(0,s.Z)((t=>new Intl.RelativeTimeFormat(t.language,{numeric:"auto"}))),d=(t,e,a,o=!0)=>{const i=(0,n.W)(t,a,e);return o?c(e).format(i.value,i.unit):Intl.NumberFormat(e.language,{style:"unit",unit:i.unit,unitDisplay:"long"}).format(Math.abs(i.value))};o()}catch(c){o(c)}}))},53049:function(t,e,a){a.d(e,{f:()=>o});const o=t=>t.charAt(0).toUpperCase()+t.slice(1)},43890:function(t,e,a){a.a(t,(async function(t,o){try{a.d(e,{W:()=>p});a(87799);var i=a(7722),s=a(66233),n=a(58104),r=a(34302),c=t([r]);r=(c.then?(await c)():c)[0];const l=1e3,u=60,h=60*u;function p(t,e=Date.now(),a,o={}){const c=Object.assign(Object.assign({},v),o||{}),d=(+t-+e)/l;if(Math.abs(d)<c.second)return{value:Math.round(d),unit:"second"};const p=d/u;if(Math.abs(p)<c.minute)return{value:Math.round(p),unit:"minute"};const b=d/h;if(Math.abs(b)<c.hour)return{value:Math.round(b),unit:"hour"};const _=new Date(t),f=new Date(e);_.setHours(0,0,0,0),f.setHours(0,0,0,0);const y=(0,i.j)(_,f);if(0===y)return{value:Math.round(b),unit:"hour"};if(Math.abs(y)<c.day)return{value:y,unit:"day"};const m=(0,r.Bt)(a),g=(0,s.z)(_,{weekStartsOn:m}),w=(0,s.z)(f,{weekStartsOn:m}),x=(0,n.p)(g,w);if(0===x)return{value:y,unit:"day"};if(Math.abs(x)<c.week)return{value:x,unit:"week"};const C=_.getFullYear()-f.getFullYear(),k=12*C+_.getMonth()-f.getMonth();return 0===k?{value:x,unit:"week"}:Math.abs(k)<c.month||0===C?{value:k,unit:"month"}:{value:Math.round(C),unit:"year"}}const v={second:45,minute:45,hour:22,day:5,week:4,month:11};o()}catch(d){o(d)}}))},34949:function(t,e,a){a(26847),a(27530);var o=a(73742),i=a(59048),s=a(7616),n=a(83533);let r,c,d=t=>t;class l extends i.oi{render(){const t=(0,n.IU)((0,n.Ff)((0,n.Fv)(this.value,this.min,this.max),this.min,this.max));return(0,i.YP)(r||(r=d` <svg> <g> <rect/> <rect width="${0}%"/> </g> </svg> `),t)}constructor(...t){super(...t),this.min=0,this.max=100}}l.styles=(0,i.iv)(c||(c=d`rect{height:100%}rect:first-child{width:100%;fill:var(--ha-bar-background-color,var(--secondary-background-color))}rect:last-child{fill:var(--ha-bar-primary-color,var(--primary-color))}svg{border-radius:var(--ha-bar-border-radius,4px);height:12px;width:100%}`)),(0,o.__decorate)([(0,s.Cb)({type:Number})],l.prototype,"min",void 0),(0,o.__decorate)([(0,s.Cb)({type:Number})],l.prototype,"max",void 0),(0,o.__decorate)([(0,s.Cb)({type:Number})],l.prototype,"value",void 0),l=(0,o.__decorate)([(0,s.Mo)("ha-bar")],l)},80471:function(t,e,a){var o=a(73742),i=a(33856),s=a(24584),n=a(7616),r=a(59048),c=a(83054);let d,l,u,h=t=>t;class p extends i._{firstUpdated(t){super.firstUpdated(t),this.style.setProperty("--mdc-theme-secondary","var(--primary-color)")}}p.styles=[s.W,(0,r.iv)(d||(d=h`:host .mdc-fab--extended .mdc-fab__icon{margin-inline-start:-8px;margin-inline-end:12px;direction:var(--direction)}:disabled{--mdc-theme-secondary:var(--disabled-text-color);pointer-events:none}`)),"rtl"===c.E.document.dir?(0,r.iv)(l||(l=h`:host .mdc-fab--extended .mdc-fab__icon{direction:rtl}`)):(0,r.iv)(u||(u=h``))],p=(0,o.__decorate)([(0,n.Mo)("ha-fab")],p)},541:function(t,e,a){var o=a(73742),i=a(59048),s=a(7616),n=a(31733),r=a(83533);a(34949),a(55245);let c,d,l=t=>t;class u extends i.oi{render(){var t;const e=(0,r.IU)(this.value);return(0,i.dy)(c||(c=l` <ha-settings-row> <span slot="heading"> ${0} </span> <div slot="description" .title="${0}"> <span class="value"> <div>${0} %</div> </span> <ha-bar class="${0}" .value="${0}"></ha-bar> </div> </ha-settings-row> `),this.heading,null!==(t=this.tooltip)&&void 0!==t?t:"",e,(0,n.$)({"target-warning":e>50,"target-critical":e>85}),this.value)}}u.styles=(0,i.iv)(d||(d=l`ha-settings-row{padding:0;height:54px;width:100%}ha-settings-row>div[slot=description]{white-space:normal;color:var(--secondary-text-color);display:flex;justify-content:space-between}ha-bar{--ha-bar-primary-color:var(--metric-bar-ok-color, var(--success-color))}.target-warning{--ha-bar-primary-color:var(
        --metric-bar-warning-color,
        var(--warning-color)
      )}.target-critical{--ha-bar-primary-color:var(
        --metric-bar-critical-color,
        var(--error-color)
      )}.value{width:48px;padding-right:4px;padding-inline-end:4px;padding-inline-start:initial;flex-shrink:0}.value>div{direction:ltr;text-align:var(--float-start)}`)),(0,o.__decorate)([(0,s.Cb)({type:Number})],u.prototype,"value",void 0),(0,o.__decorate)([(0,s.Cb)({type:String})],u.prototype,"heading",void 0),(0,o.__decorate)([(0,s.Cb)({type:String})],u.prototype,"tooltip",void 0),u=(0,o.__decorate)([(0,s.Mo)("ha-metric")],u)},19262:function(t,e,a){a.a(t,(async function(t,e){try{a(26847),a(27530);var o=a(73742),i=a(78722),s=a(59048),n=a(7616),r=a(68135),c=a(53049),d=t([r]);r=(d.then?(await d)():d)[0];class l extends s.fl{disconnectedCallback(){super.disconnectedCallback(),this._clearInterval()}connectedCallback(){super.connectedCallback(),this.datetime&&this._startInterval()}createRenderRoot(){return this}firstUpdated(t){super.firstUpdated(t),this._updateRelative()}update(t){super.update(t),this._updateRelative()}_clearInterval(){this._interval&&(window.clearInterval(this._interval),this._interval=void 0)}_startInterval(){this._clearInterval(),this._interval=window.setInterval((()=>this._updateRelative()),6e4)}_updateRelative(){if(this.datetime){const t="string"==typeof this.datetime?(0,i.D)(this.datetime):this.datetime,e=(0,r.G)(t,this.hass.locale);this.innerHTML=this.capitalize?(0,c.f)(e):e}else this.innerHTML=this.hass.localize("ui.components.relative_time.never")}constructor(...t){super(...t),this.capitalize=!1}}(0,o.__decorate)([(0,n.Cb)({attribute:!1})],l.prototype,"hass",void 0),(0,o.__decorate)([(0,n.Cb)({attribute:!1})],l.prototype,"datetime",void 0),(0,o.__decorate)([(0,n.Cb)({type:Boolean})],l.prototype,"capitalize",void 0),l=(0,o.__decorate)([(0,n.Mo)("ha-relative-time")],l),e()}catch(l){e(l)}}))},55245:function(t,e,a){a(26847),a(27530);var o=a(73742),i=a(59048),s=a(7616);let n,r,c=t=>t;class d extends i.oi{render(){return(0,i.dy)(n||(n=c` <div class="prefix-wrap"> <slot name="prefix"></slot> <div class="body" ?two-line="${0}" ?three-line="${0}"> <slot name="heading"></slot> <div class="secondary"><slot name="description"></slot></div> </div> </div> <div class="content"><slot></slot></div> `),!this.threeLine,this.threeLine)}constructor(...t){super(...t),this.narrow=!1,this.slim=!1,this.threeLine=!1,this.wrapHeading=!1}}d.styles=(0,i.iv)(r||(r=c`:host{display:flex;padding:0 16px;align-content:normal;align-self:auto;align-items:center}.body{padding-top:8px;padding-bottom:8px;padding-left:0;padding-inline-start:0;padding-right:16px;padding-inline-end:16px;overflow:hidden;display:var(--layout-vertical_-_display,flex);flex-direction:var(--layout-vertical_-_flex-direction,column);justify-content:var(--layout-center-justified_-_justify-content,center);flex:var(--layout-flex_-_flex,1);flex-basis:var(--layout-flex_-_flex-basis,0.000000001px)}.body[three-line]{min-height:88px}:host(:not([wrap-heading])) body>*{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.body>.secondary{display:block;padding-top:4px;font-family:var(
        --mdc-typography-body2-font-family,
        var(--mdc-typography-font-family, Roboto, sans-serif)
      );-webkit-font-smoothing:antialiased;font-size:var(--mdc-typography-body2-font-size, .875rem);font-weight:var(--mdc-typography-body2-font-weight,400);line-height:normal;color:var(--secondary-text-color)}.body[two-line]{min-height:calc(72px - 16px);flex:1}.content{display:contents}:host(:not([narrow])) .content{display:var(--settings-row-content-display,flex);justify-content:flex-end;flex:1;padding:16px 0}.content ::slotted(*){width:var(--settings-row-content-width)}:host([narrow]){align-items:normal;flex-direction:column;border-top:1px solid var(--divider-color);padding-bottom:8px}::slotted(ha-switch){padding:16px 0}.secondary{white-space:normal}.prefix-wrap{display:var(--settings-row-prefix-display)}:host([narrow]) .prefix-wrap{display:flex;align-items:center}:host([slim]),:host([slim]) .content,:host([slim]) ::slotted(ha-switch){padding:0}:host([slim]) .body{min-height:0}`)),(0,o.__decorate)([(0,s.Cb)({type:Boolean,reflect:!0})],d.prototype,"narrow",void 0),(0,o.__decorate)([(0,s.Cb)({type:Boolean,reflect:!0})],d.prototype,"slim",void 0),(0,o.__decorate)([(0,s.Cb)({type:Boolean,attribute:"three-line"})],d.prototype,"threeLine",void 0),(0,o.__decorate)([(0,s.Cb)({type:Boolean,attribute:"wrap-heading",reflect:!0})],d.prototype,"wrapHeading",void 0),d=(0,o.__decorate)([(0,s.Mo)("ha-settings-row")],d)},54631:function(t,e,a){a.d(e,{JG:()=>c,PT:()=>r,ho:()=>s});a(26847),a(2394),a(87799),a(1455),a(27530);var o=a(5657);const i=(t,e)=>t.subscribeMessage((t=>{const a=Object.assign({},e.state||{});if(t.add)for(const e of t.add)a[e.source]=e;if(t.remove)for(const e of t.remove)delete a[e.source];e.setState(a,!0)}),{type:"bluetooth/subscribe_scanner_details"}),s=(t,e)=>(0,o.B)("_bluetoothScannerDetails",(()=>Promise.resolve({})),i,t,e),n=(t,e)=>t.subscribeMessage((t=>{const a=[...e.state||[]];if(t.add)for(const e of t.add){const t=a.findIndex((t=>t.address===e.address));-1===t?a.push(e):a[t]=e}if(t.change)for(const e of t.change){const t=a.findIndex((t=>t.address===e.address));-1!==t&&(a[t]=e)}if(t.remove)for(const e of t.remove){const t=a.findIndex((t=>t.address===e.address));-1!==t&&a.splice(t,1)}e.setState(a,!0)}),{type:"bluetooth/subscribe_advertisements"}),r=(t,e)=>(0,o.B)("_bluetoothDeviceRows",(()=>Promise.resolve([])),n,t,e),c=(t,e,a)=>{const o={type:"bluetooth/subscribe_connection_allocations"};return a&&(o.config_entry_id=a),t.subscribeMessage((t=>e(t)),o)}},49624:function(t,e,a){a.a(t,(async function(t,o){try{a.r(e),a.d(e,{BluetoothConnectionMonitorPanel:()=>f});a(26847),a(2394),a(81738),a(94814),a(29981),a(6989),a(87799),a(18514),a(1455),a(27530);var i=a(73742),s=a(59048),n=a(7616),r=a(28105),c=a(9924),d=(a(80471),a(48017),a(19262)),l=a(54631),u=a(42497),h=a(95814),p=(a(541),t([d,u]));[d,u]=p.then?(await p)():p;let v,b,_=t=>t;class f extends s.oi{connectedCallback(){if(super.connectedCallback(),this.hass){this._unsubScanners=(0,l.ho)(this.hass.connection,(t=>{this._scanners=t})),this._unsub_advertisements=(0,l.PT)(this.hass.connection,(t=>{for(const e of t)this._addressNames[e.address]=e.name}));const t=Object.values(this.hass.devices).filter((t=>t.connections.find((t=>"bluetooth"===t[0]))));this._sourceDevices=Object.fromEntries(t.map((t=>[t.connections.find((t=>"bluetooth"===t[0]))[1],t]))),this._subscribeBluetoothConnectionAllocations()}}async _subscribeBluetoothConnectionAllocations(){this._unsubConnectionAllocations||(this._unsubConnectionAllocations=await(0,l.JG)(this.hass.connection,(t=>{for(const a of t)this._connectionAllocationData[a.source]=a;const e=[];for(const a of Object.values(this._connectionAllocationData))for(const t of a.allocated)e.push({address:t,source:a.source});this._data=e})))}disconnectedCallback(){super.disconnectedCallback(),this._unsub_advertisements&&(this._unsub_advertisements(),this._unsub_advertisements=void 0),this._unsubConnectionAllocations&&(this._unsubConnectionAllocations(),this._unsubConnectionAllocations=void 0),this._unsubScanners&&(this._unsubScanners(),this._unsubScanners=void 0)}render(){return(0,s.dy)(v||(v=_` <hass-tabs-subpage-data-table .hass="${0}" .narrow="${0}" .route="${0}" .columns="${0}" .data="${0}" .initialGroupColumn="${0}" .initialCollapsedGroups="${0}" .noDataText="${0}" @grouping-changed="${0}" @collapsed-changed="${0}"></hass-tabs-subpage-data-table> `),this.hass,this.narrow,this.route,this._columns(this.hass.localize),this._dataWithNamedSourceAndIds(this._data),this._activeGrouping,this._activeCollapsed,this.hass.localize("ui.panel.config.bluetooth.no_connections"),this._handleGroupingChanged,this._handleCollapseChanged)}_handleGroupingChanged(t){this._activeGrouping=t.detail.value}_handleCollapseChanged(t){this._activeCollapsed=t.detail.value}constructor(...t){super(...t),this.narrow=!1,this.isWide=!1,this._data=[],this._scanners={},this._addressNames={},this._sourceDevices={},this._activeGrouping="source",this._activeCollapsed=[],this._connectionAllocationData={},this._columns=(0,r.Z)((t=>({address:{title:t("ui.panel.config.bluetooth.address"),sortable:!0,filterable:!0,showNarrow:!0,main:!0,hideable:!1,moveable:!1,direction:"asc",flex:1},name:{title:t("ui.panel.config.bluetooth.name"),filterable:!0,sortable:!0},device:{title:t("ui.panel.config.bluetooth.device"),filterable:!0,sortable:!0,template:t=>(0,s.dy)(b||(b=_`${0}`),t.device||"-")},source:{title:t("ui.panel.config.bluetooth.source"),filterable:!0,sortable:!0,groupable:!0},source_address:{title:t("ui.panel.config.bluetooth.source_address"),filterable:!0,sortable:!0,defaultHidden:!0}}))),this._dataWithNamedSourceAndIds=(0,r.Z)((t=>t.map((t=>{const e=this._sourceDevices[t.address],a=this._sourceDevices[t.source],o=this._scanners[t.source],i=this._addressNames[t.address]||t.address;return Object.assign(Object.assign({},t),{},{id:t.address,name:i,source_address:t.source,source:(null==a?void 0:a.name_by_user)||(null==a?void 0:a.name)||(null==o?void 0:o.name)||t.source,device:(null==e?void 0:e.name_by_user)||(null==e?void 0:e.name)||void 0})}))))}}f.styles=h.Qx,(0,i.__decorate)([(0,n.Cb)({attribute:!1})],f.prototype,"hass",void 0),(0,i.__decorate)([(0,n.Cb)({attribute:!1})],f.prototype,"route",void 0),(0,i.__decorate)([(0,n.Cb)({type:Boolean})],f.prototype,"narrow",void 0),(0,i.__decorate)([(0,n.Cb)({attribute:"is-wide",type:Boolean})],f.prototype,"isWide",void 0),(0,i.__decorate)([(0,n.SB)()],f.prototype,"_data",void 0),(0,i.__decorate)([(0,n.SB)()],f.prototype,"_scanners",void 0),(0,i.__decorate)([(0,n.SB)()],f.prototype,"_addressNames",void 0),(0,i.__decorate)([(0,n.SB)()],f.prototype,"_sourceDevices",void 0),(0,i.__decorate)([(0,c.t)({key:"bluetooth-connection-table-grouping",state:!1,subscribe:!1})],f.prototype,"_activeGrouping",void 0),(0,i.__decorate)([(0,c.t)({key:"bluetooth-connection-table-collapsed",state:!1,subscribe:!1})],f.prototype,"_activeCollapsed",void 0),(0,i.__decorate)([(0,n.SB)()],f.prototype,"_connectionAllocationData",void 0),f=(0,i.__decorate)([(0,n.Mo)("bluetooth-connection-monitor")],f),o()}catch(v){o(v)}}))},83533:function(t,e,a){a.d(e,{Ff:()=>i,Fv:()=>o,IU:()=>s});const o=(t,e,a)=>isNaN(t)||isNaN(e)||isNaN(a)?0:t>a?a:t<e?e:t,i=(t,e,a)=>100*(t-e)/(a-e),s=t=>Math.round(10*t)/10}}]);
//# sourceMappingURL=8013.bf102e0132ff3528.js.map