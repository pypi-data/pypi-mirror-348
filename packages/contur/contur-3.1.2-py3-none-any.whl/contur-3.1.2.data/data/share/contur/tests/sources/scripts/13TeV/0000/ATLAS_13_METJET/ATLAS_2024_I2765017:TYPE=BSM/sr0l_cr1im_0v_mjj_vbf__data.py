
import numpy as np
from numpy import nan

add_legend_handle = [
    'ATLAS Data',
    'Theory [TYPE=BSM]',
    'SM as BG [TYPE=BSM]'
]

xpoints = {
    'ATLAS Data' : [235.0, 325.0, 445.0, 585.0, 750.0, 940.0, 1155.0, 1395.0, 1665.0, 2010.0, 2450.0, 2950.0, 3490.0, 5985.0],
    'Theory [TYPE=BSM]' : [235.0, 325.0, 445.0, 585.0, 750.0, 940.0, 1155.0, 1395.0, 1665.0, 2010.0, 2450.0, 2950.0, 3490.0, 5985.0],
    'SM as BG [TYPE=BSM]' : [235.0, 325.0, 445.0, 585.0, 750.0, 940.0, 1155.0, 1395.0, 1665.0, 2010.0, 2450.0, 2950.0, 3490.0, 5985.0],
}
xedges = {
    'ATLAS Data' : [200.0, 270.0, 380.0, 510.0, 660.0, 840.0, 1040.0, 1270.0, 1520.0, 1810.0, 2210.0, 2690.0, 3210.0, 3770.0, 8200.0],
    'Theory [TYPE=BSM]' : [200.0, 270.0, 380.0, 510.0, 660.0, 840.0, 1040.0, 1270.0, 1520.0, 1810.0, 2210.0, 2690.0, 3210.0, 3770.0, 8200.0],
    'SM as BG [TYPE=BSM]' : [200.0, 270.0, 380.0, 510.0, 660.0, 840.0, 1040.0, 1270.0, 1520.0, 1810.0, 2210.0, 2690.0, 3210.0, 3770.0, 8200.0],
}
ref_xerrs = [
  [abs(xpoints['ATLAS Data'][i]   - xedges['ATLAS Data'][i]) for i in range(len(xpoints['ATLAS Data']))],
  [abs(xedges['ATLAS Data'][i+1] - xpoints['ATLAS Data'][i]) for i in range(len(xpoints['ATLAS Data']))]
]

yvals = {
    'ATLAS Data' : [9.9719, 8.9679, 6.0405, 3.5897, 1.9255, 0.99649, 0.52068, 0.27681, 0.14189, 0.07284, 0.032087, 0.014389, 0.0065476, 0.00075827],
    'Theory [TYPE=BSM]' : [10.618, 10.03, 7.0096, 4.1291, 2.2763, 1.1982, 0.63153, 0.32929, 0.17516, 0.083302, 0.03742, 0.016062, 0.0065397, 0.00060573],
    'SM as BG [TYPE=BSM]' : [10.618, 10.0300458615, 7.0096970147099995, 4.12915044765, 2.27639809265, 1.1983261190999999, 0.6316287019200001, 0.32933035812, 0.17520348935000002, 0.08332091787, 0.037425254963000004, 0.016062, 0.0065442042539999995, 0.0006062993865],
}
xerrs = {
    'ATLAS Data' : [
        [35.0, 55.0, 65.0, 75.0, 90.0, 100.0, 115.0, 125.0, 145.0, 200.0, 240.0, 260.0, 280.0, 2215.0],
        [35.0, 55.0, 65.0, 75.0, 90.0, 100.0, 115.0, 125.0, 145.0, 200.0, 240.0, 260.0, 280.0, 2215.0],
    ],
    'Theory [TYPE=BSM]' : [
        [35.0, 55.0, 65.0, 75.0, 90.0, 100.0, 115.0, 125.0, 145.0, 200.0, 240.0, 260.0, 280.0, 2215.0],
        [35.0, 55.0, 65.0, 75.0, 90.0, 100.0, 115.0, 125.0, 145.0, 200.0, 240.0, 260.0, 280.0, 2215.0],
    ],
    'SM as BG [TYPE=BSM]' : [
        [35.0, 55.0, 65.0, 75.0, 90.0, 100.0, 115.0, 125.0, 145.0, 200.0, 240.0, 260.0, 280.0, 2215.0],
        [35.0, 55.0, 65.0, 75.0, 90.0, 100.0, 115.0, 125.0, 145.0, 200.0, 240.0, 260.0, 280.0, 2215.0],
    ],
}
yerrs = {
    'ATLAS Data' : [
        [0.5694583736902697, 0.4407898473149701, 0.2992672815778272, 0.16000596873486864, 0.08561752751635497, 0.0395862242908609, 0.02829581905014393, 0.013731734043455356, 0.005087854416298215, 0.004359761176974607, 0.002121335684618358, 0.0009050495964446121, 0.0007070032657257056, 7.950509131915522e-05],
        [0.5694583736902697, 0.4407898473149701, 0.2992672815778272, 0.16000596873486864, 0.08561752751635497, 0.0395862242908609, 0.02829581905014393, 0.013731734043455356, 0.005087854416298215, 0.004359761176974607, 0.002121335684618358, 0.0009050495964446121, 0.0007070032657257056, 7.950509131915522e-05],
    ],
    'Theory [TYPE=BSM]' : [
        [1.796942, 1.719811, 1.204425, 0.6974741, 0.3788709, 0.1901136, 0.09538482, 0.045916, 0.02363973, 0.01027949, 0.00471232, 0.002130221, 0.00100614, 0.0001109173],
        [1.796942, 1.719811, 1.204425, 0.6974741, 0.3788709, 0.1901136, 0.09538482, 0.045916, 0.02363973, 0.01027949, 0.00471232, 0.002130221, 0.00100614, 0.0001109173],
    ],
    'SM as BG [TYPE=BSM]' : [
        [1.796942, 1.7198110003057425, 1.2044250007814397, 0.6974741006081383, 0.3788709018140687, 0.19011360418329729, 0.09538482567413178, 0.04591600443412365, 0.02363973800061388, 0.010279495802588112, 0.004712322930045873, 0.002130221, 0.0010061500821965362, 0.00011091876144402435],
        [1.796942, 1.7198110003057425, 1.2044250007814397, 0.6974741006081383, 0.3788709018140687, 0.19011360418329729, 0.09538482567413178, 0.04591600443412365, 0.02363973800061388, 0.010279495802588112, 0.004712322930045873, 0.002130221, 0.0010061500821965362, 0.00011091876144402435],
    ],
}
variation_yvals = {
}


# lists for ratio plot
ratio0_yvals = {
    'ATLAS Data' : [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],
    'Theory [TYPE=BSM]' : [1.1345868808866026, 2.4095382560866168, 3.238242399538677, 3.3711242415824554, 4.097291876747888, 5.095459433512275, 3.9175398953307963, 3.821804284435029, 6.539102198644743, 2.3996727286928943, 2.5139821286509143, 1.8485174807791702, -0.01117392292649588, -1.9186192666286326],
    'SM as BG [TYPE=BSM]' : [1.1345868808866026, 2.4096422999984255, 3.2385665736665272, 3.3714395276333353, 4.098437584324895, 5.098645367565325, 3.921028111021784, 3.824743324753772, 6.547649878362287, 2.404011927385682, 2.5164593240510134, 1.8485174807791702, -0.004803013174931663, -1.911457630932695],
}
ratio0_yerrs = {
    'ATLAS Data' : [
        [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
        [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
    ],
    'Theory [TYPE=BSM]' : [
        [3.1555282756757963, 3.9016574689187307, 4.024579612077567, 4.359050512395078, 4.42515581786249, 4.8025191441127335, 3.370986357771284, 3.343787452822384, 4.64630629451061, 2.3578103438989984, 2.2213928866462154, 2.3537063696490654, 1.423105166236035, 1.395096819079769],
        [3.1555282756757963, 3.9016574689187307, 4.024579612077567, 4.359050512395078, 4.42515581786249, 4.8025191441127335, 3.370986357771284, 3.343787452822384, 4.64630629451061, 2.3578103438989984, 2.2213928866462154, 2.3537063696490654, 1.423105166236035, 1.395096819079769],
    ],
    'SM as BG [TYPE=BSM]' : [
        [3.1555282756757963, 3.901657469612355, 4.024579614688744, 4.359050516195801, 4.425155839050542, 4.802519249788316, 3.370986558300266, 3.343787775733069, 4.6463078670033005, 2.3578116748407347, 2.2213942678730976, 2.3537063696490654, 1.4231194267027472, 1.395115200846271],
        [3.1555282756757963, 3.901657469612355, 4.024579614688744, 4.359050516195801, 4.425155839050542, 4.802519249788316, 3.370986558300266, 3.343787775733069, 4.6463078670033005, 2.3578116748407347, 2.2213942678730976, 2.3537063696490654, 1.4231194267027472, 1.395115200846271],
    ],
}
ratio0_variation_vals = {
}
ratio_band_edges = {
    'ratio0_ATLAS Data_1sigma-band_dn' : [-1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0],
    'ratio0_ATLAS Data_1sigma-band_up' : [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
    'ratio0_Theory [TYPE=BSM]_1sigma-band_dn' : [-2.0209413947891934, -2.0209413947891934, -1.4921192128321137, -0.7863372125388908, -0.9879262708126227, -0.3278639411146018, 0.2929402893995415, 0.5465535375595124, 0.4780168316126453, 1.892795904134133, 0.041862384793895695, 0.292589242004699, -0.5051888888698952, -1.434279089162531, -3.313716085708401],
    'ratio0_Theory [TYPE=BSM]_1sigma-band_up' : [4.290115156562399, 4.290115156562399, 6.311195725005347, 7.262822011616245, 7.730174753977534, 8.522447694610378, 9.897978577625008, 7.28852625310208, 7.1655917372574125, 11.185408493155352, 4.757483072591893, 4.735375015297129, 4.202223850428236, 1.4119312433095392, -0.5235224475488637],
    'ratio0_SM as BG [TYPE=BSM]_1sigma-band_dn' : [-2.0209413947891934, -2.0209413947891934, -1.4920151696139292, -0.7860130410222165, -0.9876109885624657, -0.3267182547256479, 0.2961261177770096, 0.5500415527215179, 0.48095554902070303, 1.9013420113589865, 0.046200252544947196, 0.2950650561779159, -0.5051888888698952, -1.4279224398776786, -3.306572831778966],
    'ratio0_SM as BG [TYPE=BSM]_1sigma-band_up' : [4.290115156562399, 4.290115156562399, 6.31129976961078, 7.26314618835527, 7.730490043829136, 8.523593423375436, 9.90116461735364, 7.292014669322049, 7.168531100486842, 11.193957745365587, 4.761823602226418, 4.737853591924111, 4.202223850428236, 1.4183164135278155, -0.516342430086424],
}