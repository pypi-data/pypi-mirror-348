
import numpy as np
from numpy import nan

add_legend_handle = [
    'ATLAS Data',
    'Theory [TYPE=BSM]',
    'SM as BG [TYPE=BSM]'
]

xpoints = {
    'ATLAS Data' : [235.0, 325.0, 445.0, 585.0, 750.0, 940.0, 1155.0, 1395.0, 1665.0, 2010.0, 2450.0, 2950.0, 3490.0, 5985.0],
    'Theory [TYPE=BSM]' : [235.0, 325.0, 445.0, 585.0, 750.0, 940.0, 1155.0, 1395.0, 1665.0, 2010.0, 2450.0, 2950.0, 3490.0, 5985.0],
    'SM as BG [TYPE=BSM]' : [235.0, 325.0, 445.0, 585.0, 750.0, 940.0, 1155.0, 1395.0, 1665.0, 2010.0, 2450.0, 2950.0, 3490.0, 5985.0],
}
xedges = {
    'ATLAS Data' : [200.0, 270.0, 380.0, 510.0, 660.0, 840.0, 1040.0, 1270.0, 1520.0, 1810.0, 2210.0, 2690.0, 3210.0, 3770.0, 8200.0],
    'Theory [TYPE=BSM]' : [200.0, 270.0, 380.0, 510.0, 660.0, 840.0, 1040.0, 1270.0, 1520.0, 1810.0, 2210.0, 2690.0, 3210.0, 3770.0, 8200.0],
    'SM as BG [TYPE=BSM]' : [200.0, 270.0, 380.0, 510.0, 660.0, 840.0, 1040.0, 1270.0, 1520.0, 1810.0, 2210.0, 2690.0, 3210.0, 3770.0, 8200.0],
}
ref_xerrs = [
  [abs(xpoints['ATLAS Data'][i]   - xedges['ATLAS Data'][i]) for i in range(len(xpoints['ATLAS Data']))],
  [abs(xedges['ATLAS Data'][i+1] - xpoints['ATLAS Data'][i]) for i in range(len(xpoints['ATLAS Data']))]
]

yvals = {
    'ATLAS Data' : [11.46, 11.554, 11.276, 11.315, 11.48, 11.32, 11.067, 11.949, 11.27, 11.22, 11.119, 10.623, 14.238, 12.149],
    'Theory [TYPE=BSM]' : [11.56486, 11.65266, 11.66862, 11.61135, 11.57249, 11.62671, 11.59145, 11.60938, 11.54815, 11.51425, 11.52046, 11.4115, 11.14135, 10.52831],
    'SM as BG [TYPE=BSM]' : [11.56486, 11.65269, 11.66866, 11.6114, 11.57265, 11.62671, 11.59145, 11.60938, 11.54815, 11.51507, 11.52046, 11.4115, 11.14135, 10.54108],
}
xerrs = {
    'ATLAS Data' : [
        [35.0, 55.0, 65.0, 75.0, 90.0, 100.0, 115.0, 125.0, 145.0, 200.0, 240.0, 260.0, 280.0, 2215.0],
        [35.0, 55.0, 65.0, 75.0, 90.0, 100.0, 115.0, 125.0, 145.0, 200.0, 240.0, 260.0, 280.0, 2215.0],
    ],
    'Theory [TYPE=BSM]' : [
        [35.0, 55.0, 65.0, 75.0, 90.0, 100.0, 115.0, 125.0, 145.0, 200.0, 240.0, 260.0, 280.0, 2215.0],
        [35.0, 55.0, 65.0, 75.0, 90.0, 100.0, 115.0, 125.0, 145.0, 200.0, 240.0, 260.0, 280.0, 2215.0],
    ],
    'SM as BG [TYPE=BSM]' : [
        [35.0, 55.0, 65.0, 75.0, 90.0, 100.0, 115.0, 125.0, 145.0, 200.0, 240.0, 260.0, 280.0, 2215.0],
        [35.0, 55.0, 65.0, 75.0, 90.0, 100.0, 115.0, 125.0, 145.0, 200.0, 240.0, 260.0, 280.0, 2215.0],
    ],
}
yerrs = {
    'ATLAS Data' : [
        [0.2904012155472838, 0.29227773149925107, 0.45590708152210185, 0.3331672047379123, 0.3564137442506522, 0.3828998532642812, 0.4377708832632368, 0.6024531770740094, 0.7417475857721307, 0.9323883164123747, 1.1503799843018518, 1.4854599664300367, 3.4614942869379615, 3.849559555075283],
        [0.2904012155472838, 0.29227773149925107, 0.45590708152210185, 0.3331672047379123, 0.3564137442506522, 0.3828998532642812, 0.4377708832632368, 0.6024531770740094, 0.7417475857721307, 0.9323883164123747, 1.1503799843018518, 1.4854599664300367, 3.4614942869379615, 3.849559555075283],
    ],
    'Theory [TYPE=BSM]' : [
        [0.2261745, 0.2137203, 0.209082, 0.2111289, 0.2066887, 0.2190604, 0.2401284, 0.2555382, 0.2265887, 0.2659959, 0.3187569, 0.4029691, 0.3309601, 0.4259061],
        [0.2261745, 0.2137203, 0.209082, 0.2111289, 0.2066887, 0.2190604, 0.2401284, 0.2555382, 0.2265887, 0.2659959, 0.3187569, 0.4029691, 0.3309601, 0.4259061],
    ],
    'SM as BG [TYPE=BSM]' : [
        [0.2263605770687236, 0.21392907422641075, 0.20929914019994422, 0.2113421120574082, 0.20691036602966262, 0.21924720139247866, 0.2403925359198057, 0.2558399497079137, 0.22648826798652608, 0.26547556565355657, 0.31772432106132176, 0.4007822837177745, 0.32484848544332057, 0.42016162907456517],
        [0.2263605770687236, 0.21392907422641075, 0.20929914019994422, 0.2113421120574082, 0.20691036602966262, 0.21924720139247866, 0.2403925359198057, 0.2558399497079137, 0.22648826798652608, 0.26547556565355657, 0.31772432106132176, 0.4007822837177745, 0.32484848544332057, 0.42016162907456517],
    ],
}
variation_yvals = {
}


# lists for ratio plot
ratio0_yvals = {
    'ATLAS Data' : [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],
    'Theory [TYPE=BSM]' : [0.3610866428447338, 0.3375556512428032, 0.8611842542326623, 0.8894933108230914, 0.25950177705536254, 0.8010188496685181, 1.1980011006913904, -0.563728457121704, 0.3749927944968728, 0.31558739510187045, 0.34898034169434905, 0.5308120163581252, -0.8945991942512486, -0.42100660525261185],
    'SM as BG [TYPE=BSM]' : [0.3610866428447338, 0.33765829334231157, 0.8612719914089855, 0.8896433856182359, 0.2599506935255611, 0.8010188496685181, 1.1980011006913904, -0.563728457121704, 0.3749927944968728, 0.3164668570015587, 0.34898034169434905, 0.5308120163581252, -0.8945991942512486, -0.41768934263664226],
}
ratio0_yerrs = {
    'ATLAS Data' : [
        [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
        [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
    ],
    'Theory [TYPE=BSM]' : [
        [0.7788345498959309, 0.7312233433033458, 0.45860660751737836, 0.6337025283328401, 0.5799122602147568, 0.5721088637994394, 0.5485252884112165, 0.42416275608520526, 0.3054795247686986, 0.2852844628335689, 0.27708835719481745, 0.27127563792139353, 0.09561191571191856, 0.11063761812399624],
        [0.7788345498959309, 0.7312233433033458, 0.45860660751737836, 0.6337025283328401, 0.5799122602147568, 0.5721088637994394, 0.5485252884112165, 0.42416275608520526, 0.3054795247686986, 0.2852844628335689, 0.27708835719481745, 0.27127563792139353, 0.09561191571191856, 0.11063761812399624],
    ],
    'SM as BG [TYPE=BSM]' : [
        [0.7794753084697988, 0.7319376441340654, 0.4590828892176303, 0.6343424834495988, 0.5805341947872539, 0.5725967234600952, 0.5491286540755494, 0.42466362440061395, 0.30534412559059493, 0.284726396696012, 0.2761907590509268, 0.26980349034983625, 0.09384631564152648, 0.10914537703946456],
        [0.7794753084697988, 0.7319376441340654, 0.4590828892176303, 0.6343424834495988, 0.5805341947872539, 0.5725967234600952, 0.5491286540755494, 0.42466362440061395, 0.30534412559059493, 0.284726396696012, 0.2761907590509268, 0.26980349034983625, 0.09384631564152648, 0.10914537703946456],
    ],
}
ratio0_variation_vals = {
}
ratio_band_edges = {
    'ratio0_ATLAS Data_1sigma-band_dn' : [-1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0],
    'ratio0_ATLAS Data_1sigma-band_up' : [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
    'ratio0_Theory [TYPE=BSM]_1sigma-band_dn' : [-0.41774790705119713, -0.41774790705119713, -0.3936676920605427, 0.4025776467152839, 0.2557907824902513, -0.3204104831593943, 0.22890998586907874, 0.6494758122801737, -0.9878912132069091, 0.06951326972817415, 0.030302932268301535, 0.0718919844995316, 0.2595363784367317, -0.9902111099631671, -0.5316442233766081],
    'ratio0_Theory [TYPE=BSM]_1sigma-band_up' : [1.1399211927406647, 1.1399211927406647, 1.068778994546149, 1.3197908617500407, 1.5231958391559317, 0.8394140372701193, 1.3731277134679576, 1.746526389102607, -0.13956570103649876, 0.6804723192655713, 0.6008718579354394, 0.6260686988891665, 0.8020876542795188, -0.7989872785393299, -0.31036898712861566],
    'ratio0_SM as BG [TYPE=BSM]_1sigma-band_dn' : [-0.41838866562506505, -0.41838866562506505, -0.3942793507917538, 0.4021891021913552, 0.2553009021686371, -0.32058350126169277, 0.22842212620842292, 0.648872446615841, -0.988392081522318, 0.06964866890627783, 0.03174046030554669, 0.07278958264342221, 0.261008526008289, -0.9884455098927749, -0.5268347196761068],
    'ratio0_SM as BG [TYPE=BSM]_1sigma-band_up' : [1.1405619513145326, 1.1405619513145326, 1.0695959374763768, 1.3203548806266157, 1.5239858690678345, 0.840484888312815, 1.3736155731286133, 1.7471297547669398, -0.13906483272109005, 0.6803369200874677, 0.6011932536975707, 0.6251711007452759, 0.8006155067079616, -0.8007528786097221, -0.3085439655971777],
}