
import numpy as np
from numpy import nan

add_legend_handle = [
    'ATLAS Data',
    'Theory [TYPE=BSM]',
    'SM as BG [TYPE=BSM]'
]

xpoints = {
    'ATLAS Data' : [235.0, 325.0, 445.0, 585.0, 750.0, 940.0, 1155.0, 1395.0, 1665.0, 2010.0, 2450.0, 2950.0, 3490.0, 5985.0],
    'Theory [TYPE=BSM]' : [235.0, 325.0, 445.0, 585.0, 750.0, 940.0, 1155.0, 1395.0, 1665.0, 2010.0, 2450.0, 2950.0, 3490.0, 5985.0],
    'SM as BG [TYPE=BSM]' : [235.0, 325.0, 445.0, 585.0, 750.0, 940.0, 1155.0, 1395.0, 1665.0, 2010.0, 2450.0, 2950.0, 3490.0, 5985.0],
}
xedges = {
    'ATLAS Data' : [200.0, 270.0, 380.0, 510.0, 660.0, 840.0, 1040.0, 1270.0, 1520.0, 1810.0, 2210.0, 2690.0, 3210.0, 3770.0, 8200.0],
    'Theory [TYPE=BSM]' : [200.0, 270.0, 380.0, 510.0, 660.0, 840.0, 1040.0, 1270.0, 1520.0, 1810.0, 2210.0, 2690.0, 3210.0, 3770.0, 8200.0],
    'SM as BG [TYPE=BSM]' : [200.0, 270.0, 380.0, 510.0, 660.0, 840.0, 1040.0, 1270.0, 1520.0, 1810.0, 2210.0, 2690.0, 3210.0, 3770.0, 8200.0],
}
ref_xerrs = [
  [abs(xpoints['ATLAS Data'][i]   - xedges['ATLAS Data'][i]) for i in range(len(xpoints['ATLAS Data']))],
  [abs(xedges['ATLAS Data'][i+1] - xpoints['ATLAS Data'][i]) for i in range(len(xpoints['ATLAS Data']))]
]

yvals = {
    'ATLAS Data' : [0.96269, 0.84984, 0.57244, 0.33343, 0.18258, 0.098363, 0.052092, 0.025425, 0.013691, 0.0066776, 0.0030625, 0.0013859, 0.0004287, 5.2107e-05],
    'Theory [TYPE=BSM]' : [0.98699, 0.92957, 0.63873, 0.37656, 0.2056, 0.10798, 0.055634, 0.028921, 0.014603, 0.0070275, 0.0029258, 0.0012691, 0.00050054, 4.3506e-05],
    'SM as BG [TYPE=BSM]' : [0.98699, 0.92957, 0.63873, 0.37656, 0.2056, 0.10798, 0.055634, 0.028921, 0.014603, 0.0070275, 0.0029258, 0.0012691, 0.00050054, 4.3506e-05],
}
xerrs = {
    'ATLAS Data' : [
        [35.0, 55.0, 65.0, 75.0, 90.0, 100.0, 115.0, 125.0, 145.0, 200.0, 240.0, 260.0, 280.0, 2215.0],
        [35.0, 55.0, 65.0, 75.0, 90.0, 100.0, 115.0, 125.0, 145.0, 200.0, 240.0, 260.0, 280.0, 2215.0],
    ],
    'Theory [TYPE=BSM]' : [
        [35.0, 55.0, 65.0, 75.0, 90.0, 100.0, 115.0, 125.0, 145.0, 200.0, 240.0, 260.0, 280.0, 2215.0],
        [35.0, 55.0, 65.0, 75.0, 90.0, 100.0, 115.0, 125.0, 145.0, 200.0, 240.0, 260.0, 280.0, 2215.0],
    ],
    'SM as BG [TYPE=BSM]' : [
        [35.0, 55.0, 65.0, 75.0, 90.0, 100.0, 115.0, 125.0, 145.0, 200.0, 240.0, 260.0, 280.0, 2215.0],
        [35.0, 55.0, 65.0, 75.0, 90.0, 100.0, 115.0, 125.0, 145.0, 200.0, 240.0, 260.0, 280.0, 2215.0],
    ],
}
yerrs = {
    'ATLAS Data' : [
        [0.05233460196233305, 0.04344426374718487, 0.024014259235114917, 0.015726696811831527, 0.006957643716576546, 0.004083112443544831, 0.0026027825674503615, 0.001556460020094238, 0.0008917724859970188, 0.0005018634435947656, 0.0002941769470195322, 0.00018879404669478722, 0.00010356132369781186, 1.2255562477121978e-05],
        [0.05233460196233305, 0.04344426374718487, 0.024014259235114917, 0.015726696811831527, 0.006957643716576546, 0.004083112443544831, 0.0026027825674503615, 0.001556460020094238, 0.0008917724859970188, 0.0005018634435947656, 0.0002941769470195322, 0.00018879404669478722, 0.00010356132369781186, 1.2255562477121978e-05],
    ],
    'Theory [TYPE=BSM]' : [
        [0.2016391, 0.1919357, 0.1326245, 0.07734464, 0.04159807, 0.02114831, 0.01036314, 0.005049257, 0.002353785, 0.001062261, 0.0004207598, 0.0001877641, 7.665121e-05, 8.156935e-06],
        [0.2016391, 0.1919357, 0.1326245, 0.07734464, 0.04159807, 0.02114831, 0.01036314, 0.005049257, 0.002353785, 0.001062261, 0.0004207598, 0.0001877641, 7.665121e-05, 8.156935e-06],
    ],
    'SM as BG [TYPE=BSM]' : [
        [0.2016391, 0.1919357, 0.1326245, 0.07734464, 0.04159807, 0.02114831, 0.01036314, 0.005049257, 0.002353785, 0.001062261, 0.0004207598, 0.0001877641, 7.665121e-05, 8.156935e-06],
        [0.2016391, 0.1919357, 0.1326245, 0.07734464, 0.04159807, 0.02114831, 0.01036314, 0.005049257, 0.002353785, 0.001062261, 0.0004207598, 0.0001877641, 7.665121e-05, 8.156935e-06],
    ],
}
variation_yvals = {
}


# lists for ratio plot
ratio0_yvals = {
    'ATLAS Data' : [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],
    'Theory [TYPE=BSM]' : [0.46431995446319635, 1.8352250245043307, 2.760443257940155, 2.7424703684471354, 3.308591376295253, 2.355311085102232, 1.3608512844273744, 2.2461225825693414, 1.0226823705828578, 0.6972016082576644, -0.4646863100082539, -0.618663575704927, 0.6936952660978574, -0.7018037740867368],
    'SM as BG [TYPE=BSM]' : [0.46431995446319635, 1.8352250245043307, 2.760443257940155, 2.7424703684471354, 3.308591376295253, 2.355311085102232, 1.3608512844273744, 2.2461225825693414, 1.0226823705828578, 0.6972016082576644, -0.4646863100082539, -0.618663575704927, 0.6936952660978574, -0.7018037740867368],
}
ratio0_yerrs = {
    'ATLAS Data' : [
        [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
        [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
    ],
    'Theory [TYPE=BSM]' : [
        [3.8528830341563762, 4.417975664564857, 5.52273958157616, 4.918047376726434, 5.9787582829073065, 5.179458144346301, 3.981561936674389, 3.2440646947643956, 2.6394456399587427, 2.1166335455541425, 1.4302949441244395, 0.994544601840903, 0.7401528607693874, 0.6655700230182765],
        [3.8528830341563762, 4.417975664564857, 5.52273958157616, 4.918047376726434, 5.9787582829073065, 5.179458144346301, 3.981561936674389, 3.2440646947643956, 2.6394456399587427, 2.1166335455541425, 1.4302949441244395, 0.994544601840903, 0.7401528607693874, 0.6655700230182765],
    ],
    'SM as BG [TYPE=BSM]' : [
        [3.8528830341563762, 4.417975664564857, 5.52273958157616, 4.918047376726434, 5.9787582829073065, 5.179458144346301, 3.981561936674389, 3.2440646947643956, 2.6394456399587427, 2.1166335455541425, 1.4302949441244395, 0.994544601840903, 0.7401528607693874, 0.6655700230182765],
        [3.8528830341563762, 4.417975664564857, 5.52273958157616, 4.918047376726434, 5.9787582829073065, 5.179458144346301, 3.981561936674389, 3.2440646947643956, 2.6394456399587427, 2.1166335455541425, 1.4302949441244395, 0.994544601840903, 0.7401528607693874, 0.6655700230182765],
    ],
}
ratio0_variation_vals = {
}
ratio_band_edges = {
    'ratio0_ATLAS Data_1sigma-band_dn' : [-1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0],
    'ratio0_ATLAS Data_1sigma-band_up' : [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
    'ratio0_Theory [TYPE=BSM]_1sigma-band_dn' : [-3.3885630796931796, -3.3885630796931796, -2.582750640060526, -2.7622963236360056, -2.175577008279298, -2.670166906612054, -2.824147059244069, -2.6207106522470145, -0.9979421121950542, -1.6167632693758849, -1.419431937296478, -1.8949812541326934, -1.61320817754583, -0.046457594671530024, -1.367373797105013],
    'ratio0_Theory [TYPE=BSM]_1sigma-band_up' : [4.317202988619573, 4.317202988619573, 6.253200689069187, 8.283182839516316, 7.660517745173569, 9.28734965920256, 7.534769229448533, 5.342413221101763, 5.490187277333737, 3.6621280105416005, 2.813835153811807, 0.9656086341161856, 0.3758810261359759, 1.4338481268672445, -0.036233751068460315],
    'ratio0_SM as BG [TYPE=BSM]_1sigma-band_dn' : [-3.3885630796931796, -3.3885630796931796, -2.582750640060526, -2.7622963236360056, -2.175577008279298, -2.670166906612054, -2.824147059244069, -2.6207106522470145, -0.9979421121950542, -1.6167632693758849, -1.419431937296478, -1.8949812541326934, -1.61320817754583, -0.046457594671530024, -1.367373797105013],
    'ratio0_SM as BG [TYPE=BSM]_1sigma-band_up' : [4.317202988619573, 4.317202988619573, 6.253200689069187, 8.283182839516316, 7.660517745173569, 9.28734965920256, 7.534769229448533, 5.342413221101763, 5.490187277333737, 3.6621280105416005, 2.813835153811807, 0.9656086341161856, 0.3758810261359759, 1.4338481268672445, -0.036233751068460315],
}