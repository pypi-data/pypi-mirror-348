
import numpy as np
from numpy import nan

add_legend_handle = [
    'ATLAS Data',
    'Theory [TYPE=BSM]',
    'SM as BG [TYPE=BSM]'
]

xpoints = {
    'ATLAS Data' : [235.0, 325.0, 445.0, 585.0, 750.0, 940.0, 1155.0, 1395.0, 1665.0, 2010.0, 2450.0, 2950.0, 3490.0, 5985.0],
    'Theory [TYPE=BSM]' : [235.0, 325.0, 445.0, 585.0, 750.0, 940.0, 1155.0, 1395.0, 1665.0, 2010.0, 2450.0, 2950.0, 3490.0, 5985.0],
    'SM as BG [TYPE=BSM]' : [235.0, 325.0, 445.0, 585.0, 750.0, 940.0, 1155.0, 1395.0, 1665.0, 2010.0, 2450.0, 2950.0, 3490.0, 5985.0],
}
xedges = {
    'ATLAS Data' : [200.0, 270.0, 380.0, 510.0, 660.0, 840.0, 1040.0, 1270.0, 1520.0, 1810.0, 2210.0, 2690.0, 3210.0, 3770.0, 8200.0],
    'Theory [TYPE=BSM]' : [200.0, 270.0, 380.0, 510.0, 660.0, 840.0, 1040.0, 1270.0, 1520.0, 1810.0, 2210.0, 2690.0, 3210.0, 3770.0, 8200.0],
    'SM as BG [TYPE=BSM]' : [200.0, 270.0, 380.0, 510.0, 660.0, 840.0, 1040.0, 1270.0, 1520.0, 1810.0, 2210.0, 2690.0, 3210.0, 3770.0, 8200.0],
}
ref_xerrs = [
  [abs(xpoints['ATLAS Data'][i]   - xedges['ATLAS Data'][i]) for i in range(len(xpoints['ATLAS Data']))],
  [abs(xedges['ATLAS Data'][i+1] - xpoints['ATLAS Data'][i]) for i in range(len(xpoints['ATLAS Data']))]
]

yvals = {
    'ATLAS Data' : [2.7549, 2.6456, 2.5776, 2.6433, 2.5901, 2.6112, 2.5767, 2.6263, 2.6753, 2.7576, 2.0718, 2.5012, 2.6852, 2.3904],
    'Theory [TYPE=BSM]' : [2.513729, 2.484158, 2.432561, 2.410383, 2.433569, 2.467084, 2.45424, 2.45568, 2.413103, 2.395738, 2.380876, 2.246127, 2.103021, 1.984565],
    'SM as BG [TYPE=BSM]' : [2.513704, 2.484131, 2.432529, 2.410228, 2.433356, 2.466812, 2.453496, 2.455144, 2.411447, 2.394692, 2.380876, 2.244566, 2.103021, 1.986973],
}
xerrs = {
    'ATLAS Data' : [
        [35.0, 55.0, 65.0, 75.0, 90.0, 100.0, 115.0, 125.0, 145.0, 200.0, 240.0, 260.0, 280.0, 2215.0],
        [35.0, 55.0, 65.0, 75.0, 90.0, 100.0, 115.0, 125.0, 145.0, 200.0, 240.0, 260.0, 280.0, 2215.0],
    ],
    'Theory [TYPE=BSM]' : [
        [35.0, 55.0, 65.0, 75.0, 90.0, 100.0, 115.0, 125.0, 145.0, 200.0, 240.0, 260.0, 280.0, 2215.0],
        [35.0, 55.0, 65.0, 75.0, 90.0, 100.0, 115.0, 125.0, 145.0, 200.0, 240.0, 260.0, 280.0, 2215.0],
    ],
    'SM as BG [TYPE=BSM]' : [
        [35.0, 55.0, 65.0, 75.0, 90.0, 100.0, 115.0, 125.0, 145.0, 200.0, 240.0, 260.0, 280.0, 2215.0],
        [35.0, 55.0, 65.0, 75.0, 90.0, 100.0, 115.0, 125.0, 145.0, 200.0, 240.0, 260.0, 280.0, 2215.0],
    ],
}
yerrs = {
    'ATLAS Data' : [
        [0.08969135397955702, 0.0662613604691203, 0.10141251376308745, 0.10124050070587463, 0.08327214561139172, 0.09070276181683333, 0.09600757817485515, 0.11332621689867309, 0.30274555763967603, 0.4386109415059775, 0.19230397600395396, 0.22493948727637575, 0.31817656217495904, 0.4629406213801214],
        [0.08969135397955702, 0.0662613604691203, 0.10141251376308745, 0.10124050070587463, 0.08327214561139172, 0.09070276181683333, 0.09600757817485515, 0.11332621689867309, 0.30274555763967603, 0.4386109415059775, 0.19230397600395396, 0.22493948727637575, 0.31817656217495904, 0.4629406213801214],
    ],
    'Theory [TYPE=BSM]' : [
        [0.09606927, 0.0948811, 0.09184553, 0.09379597, 0.08509269, 0.07641496, 0.07833775, 0.08621296, 0.08395071, 0.09756184, 0.1041955, 0.1055288, 0.096115, 0.1064654],
        [0.09606927, 0.0948811, 0.09184553, 0.09379597, 0.08509269, 0.07641496, 0.07833775, 0.08621296, 0.08395071, 0.09756184, 0.1041955, 0.1055288, 0.096115, 0.1064654],
    ],
    'SM as BG [TYPE=BSM]' : [
        [0.09607861367776255, 0.094890838266161, 0.0918552786295836, 0.09380613485200545, 0.08510477736619419, 0.07642974879644407, 0.07835482458511, 0.08622552490321236, 0.08396586975454536, 0.09741103904881372, 0.10358156060822055, 0.10454045469849134, 0.09476322752014642, 0.10526954309133002],
        [0.09607861367776255, 0.094890838266161, 0.0918552786295836, 0.09380613485200545, 0.08510477736619419, 0.07642974879644407, 0.07835482458511, 0.08622552490321236, 0.08396586975454536, 0.09741103904881372, 0.10358156060822055, 0.10454045469849134, 0.09476322752014642, 0.10526954309133002],
    ],
}
variation_yvals = {
}


# lists for ratio plot
ratio0_yvals = {
    'ATLAS Data' : [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],
    'Theory [TYPE=BSM]' : [-2.6888990889241025, -2.4364425791594893, -1.430188392123178, -2.3006306604179474, -1.879752213068791, -1.5888821587487116, -1.2755243109764547, -1.5055651257868623, -0.8660639054266936, -0.825018178428338, 1.6072262592929707, -1.1339627518871334, -1.8297356537527463, -0.8766459050193574],
    'SM as BG [TYPE=BSM]' : [-2.6891778225911804, -2.436850056455588, -1.4305039350361048, -2.302161668254922, -1.8823100911976196, -1.5918809648991694, -1.2832736992450042, -1.5102948345397726, -0.8715338453092503, -0.8274029798571594, 1.6072262592929707, -1.1409023960505533, -1.8297356537527463, -0.8714443740048151],
}
ratio0_yerrs = {
    'ATLAS Data' : [
        [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
        [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
    ],
    'Theory [TYPE=BSM]' : [
        [1.0711095968279916, 1.4319220029328754, 0.9056626898585992, 0.9264668719142096, 1.0218625853248007, 0.8424766618938644, 0.8159538183259478, 0.7607503573253883, 0.2772979086943931, 0.22243366675947457, 0.5418270706886353, 0.46914306277554657, 0.3020807043202266, 0.229976362157645],
        [1.0711095968279916, 1.4319220029328754, 0.9056626898585992, 0.9264668719142096, 1.0218625853248007, 0.8424766618938644, 0.8159538183259478, 0.7607503573253883, 0.2772979086943931, 0.22243366675947457, 0.5418270706886353, 0.46914306277554657, 0.3020807043202266, 0.229976362157645],
    ],
    'SM as BG [TYPE=BSM]' : [
        [1.0712137727306619, 1.4320689704278387, 0.9057588183265947, 0.9265672749340937, 1.0220077402995578, 0.8426397087090642, 0.8161316645484503, 0.7608612310804311, 0.27734798293714513, 0.2220898519183115, 0.5386345241561246, 0.4647492352912049, 0.29783220634597835, 0.22739318657649835],
        [1.0712137727306619, 1.4320689704278387, 0.9057588183265947, 0.9265672749340937, 1.0220077402995578, 0.8426397087090642, 0.8161316645484503, 0.7608612310804311, 0.27734798293714513, 0.2220898519183115, 0.5386345241561246, 0.4647492352912049, 0.29783220634597835, 0.22739318657649835],
    ],
}
ratio0_variation_vals = {
}
ratio_band_edges = {
    'ratio0_ATLAS Data_1sigma-band_dn' : [-1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0],
    'ratio0_ATLAS Data_1sigma-band_up' : [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
    'ratio0_Theory [TYPE=BSM]_1sigma-band_dn' : [-3.760008685752094, -3.760008685752094, -3.8683645820923647, -2.3358510819817773, -3.227097532332157, -2.9016147983935916, -2.431358820642576, -2.0914781293024025, -2.2663154831122507, -1.1433618141210866, -1.0474518451878128, 1.0653991886043355, -1.60310581466268, -2.1318163580729728, -1.1066222671770025],
    'ratio0_Theory [TYPE=BSM]_1sigma-band_up' : [-1.617789492096111, -1.617789492096111, -1.0045205762266136, -0.5245257022645787, -1.3741637885037379, -0.8578896277439904, -0.7464054968548473, -0.4595704926505069, -0.7448147684614741, -0.5887659967323007, -0.6025845116688635, 2.149053329981606, -0.6648196891115868, -1.5276549494325196, -0.6466695428617124],
    'ratio0_SM as BG [TYPE=BSM]_1sigma-band_dn' : [-3.7603915953218428, -3.7603915953218428, -3.8689190268834266, -2.3362627533626994, -3.2287289431890156, -2.9043178314971776, -2.4345206736082337, -2.0994053637934544, -2.2711560656202034, -1.1488818282463953, -1.0494928317754708, 1.0685917351368461, -1.6056516313417581, -2.1275678600987247, -1.0988375605813132],
    'ratio0_SM as BG [TYPE=BSM]_1sigma-band_up' : [-1.6179640498605186, -1.6179640498605186, -1.004781086027749, -0.5247451167095101, -1.3755943933208281, -0.8603023508980618, -0.7492412561901052, -0.467142034696554, -0.7494336034593415, -0.5941858623721051, -0.605313127938848, 2.1458607834490953, -0.6761531607593484, -1.5319034474067679, -0.6440511874283167],
}