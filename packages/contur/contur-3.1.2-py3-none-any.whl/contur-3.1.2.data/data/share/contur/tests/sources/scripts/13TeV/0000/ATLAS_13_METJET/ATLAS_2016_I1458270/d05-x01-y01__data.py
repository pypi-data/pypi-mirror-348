
import numpy as np
from numpy import nan

add_legend_handle = [
    'ATLAS Data',
    'Theory',
    'SM as BG'
]

xpoints = {
    'ATLAS Data' : [850.0, 950.0, 1050.0, 1150.0, 1250.0, 1350.0, 1450.0, 1550.0, 1650.0, 1750.0, 1850.0, 1950.0, 2050.0, 2150.0, 2250.0, 2350.0, 2450.0, 2550.0, 2650.0, 2750.0, 2850.0, 2950.0, 3050.0, 3150.0, 3250.0, 3350.0, 3450.0, 3550.0],
    'Theory' : [850.0, 950.0, 1050.0, 1150.0, 1250.0, 1350.0, 1450.0, 1550.0, 1650.0, 1750.0, 1850.0, 1950.0, 2050.0, 2150.0, 2250.0, 2350.0, 2450.0, 2550.0, 2650.0, 2750.0, 2850.0, 2950.0, 3050.0, 3150.0, 3250.0, 3350.0, 3450.0, 3550.0],
    'SM as BG' : [850.0, 950.0, 1050.0, 1150.0, 1250.0, 1350.0, 1450.0, 1550.0, 1650.0, 1750.0, 1850.0, 1950.0, 2050.0, 2150.0, 2250.0, 2350.0, 2450.0, 2550.0, 2650.0, 2750.0, 2850.0, 2950.0, 3050.0, 3150.0, 3250.0, 3350.0, 3450.0, 3550.0],
}
xedges = {
    'ATLAS Data' : [800.0, 900.0, 1000.0, 1100.0, 1200.0, 1300.0, 1400.0, 1500.0, 1600.0, 1700.0, 1800.0, 1900.0, 2000.0, 2100.0, 2200.0, 2300.0, 2400.0, 2500.0, 2600.0, 2700.0, 2800.0, 2900.0, 3000.0, 3100.0, 3200.0, 3300.0, 3400.0, 3500.0, 3600.0],
    'Theory' : [800.0, 900.0, 1000.0, 1100.0, 1200.0, 1300.0, 1400.0, 1500.0, 1600.0, 1700.0, 1800.0, 1900.0, 2000.0, 2100.0, 2200.0, 2300.0, 2400.0, 2500.0, 2600.0, 2700.0, 2800.0, 2900.0, 3000.0, 3100.0, 3200.0, 3300.0, 3400.0, 3500.0, 3600.0],
    'SM as BG' : [800.0, 900.0, 1000.0, 1100.0, 1200.0, 1300.0, 1400.0, 1500.0, 1600.0, 1700.0, 1800.0, 1900.0, 2000.0, 2100.0, 2200.0, 2300.0, 2400.0, 2500.0, 2600.0, 2700.0, 2800.0, 2900.0, 3000.0, 3100.0, 3200.0, 3300.0, 3400.0, 3500.0, 3600.0],
}
ref_xerrs = [
  [abs(xpoints['ATLAS Data'][i]   - xedges['ATLAS Data'][i]) for i in range(len(xpoints['ATLAS Data']))],
  [abs(xedges['ATLAS Data'][i+1] - xpoints['ATLAS Data'][i]) for i in range(len(xpoints['ATLAS Data']))]
]

yvals = {
    'ATLAS Data' : [700.0, 534.0, 375.0, 292.0, 189.0, 120.0, 87.0, 72.0, 62.0, 35.0, 26.0, 14.0, 14.0, 7.0, 10.0, 4.0, 5.0, 3.0, 2.0, 3.0, 1.0, 2.0, 1.0, 0.0, 0.0, 0.0, 0.0, 2.0],
    'Theory' : [722.8, 562.3, 412.3, 293.0, 204.7, 144.1, 101.6, 71.42, 49.73, 36.86, 28.26, 21.51, 15.21, 10.94, 8.498, 6.356, 4.719, 3.579, 3.311, 2.283, 1.544, 1.627, 0.8831, 0.8723, 0.6231, 0.4604, 0.3714, 1.588],
    'SM as BG' : [722.8080716239999, 562.3080716239999, 412.3, 293.02421487, 204.72421487, 144.108071624, 101.6, 71.43614325, 49.738071624, 36.87614325, 28.292286490000002, 21.518071624, 15.218071624, 10.948071623999999, 8.498, 6.364071624, 4.719, 3.579, 3.3190716239999998, 2.283, 1.552071624, 1.627, 0.8831, 0.8723, 0.6231, 0.4604, 0.3714, 1.6041432500000001],
}
xerrs = {
    'ATLAS Data' : [
        [50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0],
        [50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0],
    ],
    'Theory' : [
        [50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0],
        [50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0],
    ],
    'SM as BG' : [
        [50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0],
        [50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0],
    ],
}
yerrs = {
    'ATLAS Data' : [
        [26.457513110645905, 23.108440016582687, 19.364916731037084, 17.08800749063506, 13.74772708486752, 10.954451150103322, 9.327379053088816, 8.48528137423857, 7.874007874011811, 5.916079783099616, 5.0990195135927845, 3.7416573867739413, 3.7416573867739413, 2.6457513110645907, 3.1622776601683795, 2.0, 2.23606797749979, 1.7320508075688772, 1.4142135623730951, 1.7320508075688772, 1.0, 1.4142135623730951, 1.0, 1.0, 1.0, 1.0, 1.0, 1.4142135623730951],
        [26.457513110645905, 23.108440016582687, 19.364916731037084, 17.08800749063506, 13.74772708486752, 10.954451150103322, 9.327379053088816, 8.48528137423857, 7.874007874011811, 5.916079783099616, 5.0990195135927845, 3.7416573867739413, 3.7416573867739413, 2.6457513110645907, 3.1622776601683795, 2.0, 2.23606797749979, 1.7320508075688772, 1.4142135623730951, 1.7320508075688772, 1.0, 1.4142135623730951, 1.0, 1.0, 1.0, 1.0, 1.0, 1.4142135623730951],
    ],
    'Theory' : [
        [86.11871, 66.72856, 50.56312, 37.27897, 31.06669, 16.87025, 13.74796, 11.16718, 5.311077, 5.218661, 3.11571, 2.597048, 1.90725, 1.424779, 0.9074382, 1.802322, 0.9318338, 0.5338773, 0.4447801, 0.8970211, 0.2778948, 0.495105, 0.4624993, 0.2608902, 0.3464686, 0.1575469, 0.1734361, 0.2891471],
        [77.54741, 64.70385, 45.26112, 39.25448, 30.11848, 17.8464, 13.41987, 10.47367, 4.459521, 5.064115, 3.035836, 3.056556, 1.618804, 1.130897, 1.320219, 0.8773165, 0.9626866, 0.4716945, 0.520627, 0.7538343, 0.3001765, 0.5874319, 0.3674579, 0.2465986, 0.2803229, 0.1231713, 0.2035033, 0.2257555],
    ],
    'SM as BG' : [
        [86.1187103782634, 66.72856048818012, 50.56312, 37.27897262149484, 31.06669314570448, 16.87025193094679, 13.74796, 11.167185834158264, 5.311083133508927, 5.218673484243482, 3.1157518207682333, 2.597060543271565, 1.907267079780385, 1.4248018634024162, 0.9074382, 1.8023400741253015, 0.9318338, 0.5338773, 0.4448533336617895, 0.8970211, 0.2780119979084309, 0.495105, 0.4624993, 0.2608902, 0.3464686, 0.1575469, 0.1734361, 0.2893723339633732],
        [77.5474104200728, 64.70385050345624, 45.26112, 39.25448248956623, 30.118483244739632, 17.846401825329213, 13.41987, 10.47367622046457, 4.459528304715084, 5.06412786523504, 3.0358789210731976, 3.0565666575833084, 1.6188241230998497, 1.1309258046940998, 1.320219, 0.8773536301208581, 0.9626866, 0.4716945, 0.5206895660976868, 0.7538343, 0.3002850017337652, 0.5874319, 0.3674579, 0.2465986, 0.2803229, 0.1231713, 0.2035033, 0.2260439072508923],
    ],
}
variation_yvals = {
}


# lists for ratio plot
ratio0_yvals = {
    'ATLAS Data' : [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],
    'Theory' : [0.8617589984610364, 1.2246607724143987, 1.9261637175138226, 0.058520573598065284, 1.1420069589016926, 2.2000189393124168, 1.5652843008631798, -0.0683536555146994, -1.5582915582923378, 0.3143973827590081, 0.44322246541229626, 2.0071319267623076, 0.32338610271403373, 1.489180023656355, -0.4749741045572908, 1.178, -0.12566702033548804, 0.33428580586079343, 0.9270169901355637, -0.4139601430089617, 0.544, -0.2637508293825822, -0.1169, 0.8723, 0.6231, 0.4604, 0.3714, -0.2913279938488575],
    'SM as BG' : [0.862064077172184, 1.2250100657459337, 1.9261637175138226, 0.05993764168006671, 1.1437683315162728, 2.2007557744024995, 1.5652843008631798, -0.06645115525713456, -1.5572664610192397, 0.3171260900435371, 0.449554367048274, 2.0092891590167974, 0.3255433349685237, 1.4922308107678435, -0.4749741045572908, 1.182035812, -0.12566702033548804, 0.33428580586079343, 0.9327244902011517, -0.4139601430089617, 0.5520716240000001, -0.2637508293825822, -0.1169, 0.8723, 0.6231, 0.4604, 0.3714, -0.2799129923034677],
}
ratio0_yerrs = {
    'ATLAS Data' : [
        [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
        [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
    ],
    'Theory' : [
        [3.092998939763247, 2.843818317153467, 2.474171237886551, 2.239390696719425, 2.2252831185217556, 1.5845910271676438, 1.4563485543671144, 1.275199315470075, 0.6204335934339036, 0.8690531886820276, 0.6032087133223777, 0.755494613160525, 0.4711887855451358, 0.4829773662611649, 0.3522235299036621, 0.6699096250000001, 0.4236276399160092, 0.2902835747097483, 0.34132295350781966, 0.4765609047915737, 0.28903565, 0.38273459143733174, 0.4149786, 0.2537444, 0.31339575, 0.1403591, 0.18846970000000002, 0.18204556005529218],
        [3.092998939763247, 2.843818317153467, 2.474171237886551, 2.239390696719425, 2.2252831185217556, 1.5845910271676438, 1.4563485543671144, 1.275199315470075, 0.6204335934339036, 0.8690531886820276, 0.6032087133223777, 0.755494613160525, 0.4711887855451358, 0.4829773662611649, 0.3522235299036621, 0.6699096250000001, 0.4236276399160092, 0.2902835747097483, 0.34132295350781966, 0.4765609047915737, 0.28903565, 0.38273459143733174, 0.4149786, 0.2537444, 0.31339575, 0.1403591, 0.18846970000000002, 0.18204556005529218],
    ],
    'SM as BG' : [
        [3.092998954850383, 2.8438183386096174, 2.474171237886551, 2.239390846270538, 2.2252833509399608, 1.584591198617402, 1.4563485543671144, 1.2752000257955376, 0.6204344467619817, 0.8690553311039905, 0.6032170229435907, 0.7554977135051685, 0.4711937569891229, 0.4829871306136004, 0.3522235299036621, 0.6699234260615399, 0.4236276399160092, 0.2902835747097483, 0.34137096597322425, 0.4765609047915737, 0.289148499821098, 0.38273459143733174, 0.4149786, 0.2537444, 0.31339575, 0.1403591, 0.18846970000000002, 0.18222715964814423],
        [3.092998954850383, 2.8438183386096174, 2.474171237886551, 2.239390846270538, 2.2252833509399608, 1.584591198617402, 1.4563485543671144, 1.2752000257955376, 0.6204344467619817, 0.8690553311039905, 0.6032170229435907, 0.7554977135051685, 0.4711937569891229, 0.4829871306136004, 0.3522235299036621, 0.6699234260615399, 0.4236276399160092, 0.2902835747097483, 0.34137096597322425, 0.4765609047915737, 0.289148499821098, 0.38273459143733174, 0.4149786, 0.2537444, 0.31339575, 0.1403591, 0.18846970000000002, 0.18222715964814423],
    ],
}
ratio0_variation_vals = {
}
ratio_band_edges = {
    'ratio0_ATLAS Data_1sigma-band_dn' : [-1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0],
    'ratio0_ATLAS Data_1sigma-band_up' : [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
    'ratio0_Theory_1sigma-band_dn' : [-2.2312399413022104, -2.2312399413022104, -1.6191575447390678, -0.5480075203727282, -2.18087012312136, -1.083276159620063, 0.6154279121447729, 0.10893574649606534, -1.3435529709847742, -2.1787251517262414, -0.5546558059230197, -0.15998624791008148, 1.2516373136017824, -0.14780268283110207, 1.00620265739519, -0.8271976344609528, 0.5080903749999999, -0.5492946602514973, 0.04400223115104516, 0.585694036627744, -0.8905210478005355, 0.25496435000000006, -0.6464854208199139, -0.5318786, 0.6185556, 0.30970425, 0.32004089999999996, 0.1829303, -0.47337355390414976],
    'ratio0_Theory_1sigma-band_up' : [3.9547579382242835, 3.9547579382242835, 4.068479089567865, 4.400334955400373, 2.29791127031749, 3.367290077423448, 3.7846099664800605, 3.021632855230294, 1.2068456599553754, -0.9378579648584342, 1.1834505714410357, 1.046431178734674, 2.7626265399228327, 0.7945748882591696, 1.97215738991752, -0.12275057465362862, 1.847909625, 0.2979606195805212, 0.6245693805705418, 1.2683399436433835, 0.06260076178261194, 0.83303565, 0.11898376205474952, 0.29807859999999997, 1.1260444, 0.93649575, 0.6007591, 0.5598697, -0.10928243379356532],
    'ratio0_SM as BG_1sigma-band_dn' : [-2.230934877678199, -2.230934877678199, -1.6188082728636835, -0.5480075203727282, -2.179453204590471, -1.081515019423688, 0.6161645757850976, 0.10893574649606534, -1.3416511810526721, -2.177700907781221, -0.5519292410604534, -0.15366265589531672, 1.2537914455116288, -0.14565042202059922, 1.009243680154243, -0.8271976344609528, 0.5121123859384602, -0.5492946602514973, 0.04400223115104516, 0.5913535242279274, -0.8905210478005355, 0.26292312417890207, -0.6464854208199139, -0.5318786, 0.6185556, 0.30970425, 0.32004089999999996, 0.1829303, -0.46214015195161195],
    'ratio0_SM as BG_1sigma-band_up' : [3.955063032022567, 3.955063032022567, 4.068828404355551, 4.400334955400373, 2.2993284879506044, 3.369051682456234, 3.7853469730199016, 3.021632855230294, 1.208748870538403, -0.936832014257258, 1.1861814211475274, 1.0527713899918647, 2.764786872521966, 0.7967370919576466, 1.975217941381444, -0.12275057465362862, 1.85195923806154, 0.2979606195805212, 0.6245693805705418, 1.274095456174376, 0.06260076178261194, 0.8412201238210981, 0.11898376205474952, 0.29807859999999997, 1.1260444, 0.93649575, 0.6007591, 0.5598697, -0.09768583265532352],
}