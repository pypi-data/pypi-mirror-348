
import numpy as np
from numpy import nan

add_legend_handle = [
    'ATLAS Data',
    'Theory [TYPE=BSM]',
    'SM as BG [TYPE=BSM]'
]

xpoints = {
    'ATLAS Data' : [-0.95, -0.8500000000000001, -0.75, -0.6499999999999999, -0.55, -0.45, -0.35, -0.25, -0.15000000000000002, -0.05, 0.05, 0.15000000000000002, 0.25, 0.35, 0.45, 0.55, 0.6499999999999999, 0.75, 0.8500000000000001, 0.95],
    'Theory [TYPE=BSM]' : [-0.95, -0.85, -0.75, -0.65, -0.55, -0.45, -0.35, -0.25, -0.15, -0.05, 0.05, 0.15, 0.25, 0.35, 0.45, 0.55, 0.65, 0.75, 0.85, 0.95],
    'SM as BG [TYPE=BSM]' : [-0.95, -0.8500000000000001, -0.75, -0.6499999999999999, -0.55, -0.45, -0.35, -0.25, -0.15000000000000002, -0.05, 0.05, 0.15000000000000002, 0.25, 0.35, 0.45, 0.55, 0.6499999999999999, 0.75, 0.8500000000000001, 0.95],
}
xedges = {
    'ATLAS Data' : [-1.0, -0.9, -0.8, -0.7, -0.6, -0.5, -0.4, -0.3, -0.2, -0.1, 0.0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0],
    'Theory [TYPE=BSM]' : [-1.0, -0.9, -0.8, -0.7000000000000001, -0.6000000000000001, -0.5, -0.39999999999999997, -0.3, -0.2, -0.1, 0.0, 0.09999999999999999, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.7999999999999999, 0.8999999999999999, 1.0],
    'SM as BG [TYPE=BSM]' : [-1.0, -0.9, -0.8, -0.7, -0.6, -0.5, -0.4, -0.3, -0.2, -0.1, 0.0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0],
}
ref_xerrs = [
  [abs(xpoints['ATLAS Data'][i]   - xedges['ATLAS Data'][i]) for i in range(len(xpoints['ATLAS Data']))],
  [abs(xedges['ATLAS Data'][i+1] - xpoints['ATLAS Data'][i]) for i in range(len(xpoints['ATLAS Data']))]
]

yvals = {
    'ATLAS Data' : [235.8, 762.83, 870.64, 871.21, 916.5, 921.68, 909.6, 843.17, 791.86, 767.07, 784.95, 767.18, 831.92, 912.32, 944.01, 915.5, 913.89, 851.93, 799.3, 195.42],
    'Theory [TYPE=BSM]' : [226.68, 942.37, 997.38, 1005.8, 1031.1, 1062.0, 1014.8, 954.8, 898.55, 874.93, 870.0, 901.88, 954.53, 1028.8, 1060.8, 1034.6, 1011.1, 1003.8, 948.46, 228.65],
    'SM as BG [TYPE=BSM]' : [226.73044765, 942.4961191, 997.45567147, 1005.85044765, 1031.12522382, 1062.02522382, 1014.85044765, 954.8252238199999, 898.6256714699999, 874.9552238199999, 870.0, 901.93044765, 954.5552238199999, 1028.87567147, 1060.85044765, 1034.67567147, 1011.15044765, 1003.9008953, 948.53567147, 228.65],
}
xerrs = {
    'ATLAS Data' : [
        [0.04999999999999993, 0.050000000000000044, 0.050000000000000044, 0.04999999999999993, 0.050000000000000044, 0.04999999999999999, 0.04999999999999999, 0.04999999999999999, 0.05000000000000002, 0.05, 0.05, 0.04999999999999999, 0.04999999999999999, 0.050000000000000044, 0.04999999999999999, 0.04999999999999993, 0.050000000000000044, 0.050000000000000044, 0.04999999999999993, 0.050000000000000044],
        [0.050000000000000044, 0.04999999999999993, 0.050000000000000044, 0.050000000000000044, 0.04999999999999993, 0.04999999999999999, 0.050000000000000044, 0.04999999999999999, 0.04999999999999999, 0.05, 0.05, 0.05000000000000002, 0.04999999999999999, 0.04999999999999999, 0.04999999999999999, 0.050000000000000044, 0.04999999999999993, 0.050000000000000044, 0.050000000000000044, 0.04999999999999993],
    ],
    'Theory [TYPE=BSM]' : [
        [0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05],
        [0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05],
    ],
    'SM as BG [TYPE=BSM]' : [
        [0.04999999999999993, 0.050000000000000044, 0.050000000000000044, 0.04999999999999993, 0.050000000000000044, 0.04999999999999999, 0.04999999999999999, 0.04999999999999999, 0.05000000000000002, 0.05, 0.05, 0.04999999999999999, 0.04999999999999999, 0.050000000000000044, 0.04999999999999999, 0.04999999999999993, 0.050000000000000044, 0.050000000000000044, 0.04999999999999993, 0.050000000000000044],
        [0.050000000000000044, 0.04999999999999993, 0.050000000000000044, 0.050000000000000044, 0.04999999999999993, 0.04999999999999999, 0.050000000000000044, 0.04999999999999999, 0.04999999999999999, 0.05, 0.05, 0.05000000000000002, 0.04999999999999999, 0.04999999999999999, 0.04999999999999999, 0.050000000000000044, 0.04999999999999993, 0.050000000000000044, 0.050000000000000044, 0.04999999999999993],
    ],
}
yerrs = {
    'ATLAS Data' : [
        [11.566264072394123, 33.62800440913088, 55.53220311639166, 40.35705421308452, 51.377658033759666, 61.914947964574864, 58.486780459883654, 57.77964167351512, 57.68108877162145, 42.02113816334592, 61.85305262975459, 62.0186004600062, 58.86944530420173, 74.1582066009596, 50.8687048543942, 68.14575395048998, 47.29474121575914, 40.84224997123725, 28.361878898758256, 15.256603488029064],
        [11.566264072394123, 33.62800440913088, 55.53220311639166, 40.35705421308452, 51.377658033759666, 61.914947964574864, 58.486780459883654, 57.77964167351512, 57.68108877162145, 42.02113816334592, 61.85305262975459, 62.0186004600062, 58.86944530420173, 74.1582066009596, 50.8687048543942, 68.14575395048998, 47.29474121575914, 40.84224997123725, 28.361878898758256, 15.256603488029064],
    ],
    'Theory [TYPE=BSM]' : [
        [37.0733, 157.9744, 172.2613, 178.781, 186.5411, 193.4133, 181.8924, 170.1944, 159.0718, 155.0047, 154.7608, 160.5657, 171.6974, 185.3156, 192.3767, 187.7196, 180.0754, 171.8739, 160.0912, 37.59068],
        [37.0733, 157.9744, 172.2613, 178.781, 186.5411, 193.4133, 181.8924, 170.1944, 159.0718, 155.0047, 154.7608, 160.5657, 171.6974, 185.3156, 192.3767, 187.7196, 180.0754, 171.8739, 160.0912, 37.59068],
    ],
    'SM as BG [TYPE=BSM]' : [
        [37.073317161704175, 157.9744100687384, 172.2613055401981, 178.78100355877388, 186.54110170536435, 193.41330164477077, 181.8924034978985, 170.1944018691599, 159.07180599956575, 155.0047020523284, 154.7608, 160.56570396249725, 171.6974018527977, 185.31560514992654, 192.3767033072672, 187.71960508397487, 180.07540353319305, 171.8739074035829, 160.09120596136276, 37.59068],
        [37.073317161704175, 157.9744100687384, 172.2613055401981, 178.78100355877388, 186.54110170536435, 193.41330164477077, 181.8924034978985, 170.1944018691599, 159.07180599956575, 155.0047020523284, 154.7608, 160.56570396249725, 171.6974018527977, 185.31560514992654, 192.3767033072672, 187.71960508397487, 180.07540353319305, 171.8739074035829, 160.09120596136276, 37.59068],
    ],
}
variation_yvals = {
}


# lists for ratio plot
ratio0_yvals = {
    'ATLAS Data' : [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],
    'Theory [TYPE=BSM]' : [-0.788500067343892, 5.339002511586747, 2.282279342210892, 3.3349807765791613, 2.230541530808928, 2.266334780419831, 1.7986970589389355, 1.931995366651238, 1.8496530192490128, 2.566803392633561, 1.3750331856553577, 2.171929050331662, 2.082744271946603, 1.5706960205600855, 2.295910625880841, 1.747724444967324, 2.0554082230099735, 3.7184533199555103, 5.259172022151558, 2.178073253727384],
    'SM as BG [TYPE=BSM]' : [-0.7841384472317936, 5.342752930388456, 2.2836420014564, 3.3362308095903335, 2.2310324800067973, 2.266742175093158, 1.7995596068446904, 1.9324319186835692, 1.8509649131749333, 2.567403657669265, 1.3750331856553577, 2.172742478071499, 2.0831727424353197, 1.5717164264391983, 2.2969023485941364, 1.748834880550076, 2.056474888112757, 3.720923685816135, 5.261840091861259, 2.178073253727384],
}
ratio0_yerrs = {
    'ATLAS Data' : [
        [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
        [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
    ],
    'Theory [TYPE=BSM]' : [
        [3.2052960029232787, 4.697703678101869, 3.1020073098658125, 4.42998141182554, 3.63078246730176, 3.1238546806283836, 3.109974571514683, 2.9455772841528933, 2.7577808149533722, 3.6887315949763373, 2.502072143898551, 2.588992637838444, 2.9165792052697546, 2.4989223511993885, 3.781828150542777, 2.754677864983109, 3.8075142261270445, 4.208237795935348, 5.6445907752257245, 2.4638957176474525],
        [3.2052960029232787, 4.697703678101869, 3.1020073098658125, 4.42998141182554, 3.63078246730176, 3.1238546806283836, 3.109974571514683, 2.9455772841528933, 2.7577808149533722, 3.6887315949763373, 2.502072143898551, 2.588992637838444, 2.9165792052697546, 2.4989223511993885, 3.781828150542777, 2.754677864983109, 3.8075142261270445, 4.208237795935348, 5.6445907752257245, 2.4638957176474525],
    ],
    'SM as BG [TYPE=BSM]' : [
        [3.205297486695745, 4.69770397751715, 3.102007409631314, 4.429981500007741, 3.6307825004944827, 3.123854707193386, 3.1099746313213346, 2.945577316502694, 2.7577809189660716, 3.688731643816718, 2.502072143898551, 2.5889927017305223, 2.916579236742749, 2.498922420644522, 3.781828215558531, 2.7546779395875354, 3.807514300832878, 4.208237977207999, 5.644590985415, 2.4638957176474525],
        [3.205297486695745, 4.69770397751715, 3.102007409631314, 4.429981500007741, 3.6307825004944827, 3.123854707193386, 3.1099746313213346, 2.945577316502694, 2.7577809189660716, 3.688731643816718, 2.502072143898551, 2.5889927017305223, 2.916579236742749, 2.498922420644522, 3.781828215558531, 2.7546779395875354, 3.807514300832878, 4.208237977207999, 5.644590985415, 2.4638957176474525],
    ],
}
ratio0_variation_vals = {
}
ratio_band_edges = {
    'ratio0_ATLAS Data_1sigma-band_dn' : [-1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0],
    'ratio0_ATLAS Data_1sigma-band_up' : [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
    'ratio0_Theory [TYPE=BSM]_1sigma-band_dn' : [-3.9937960702671704, -3.9937960702671704, 0.6412988334848778, -0.8197279676549207, -1.0950006352463786, -1.4002409364928317, -0.8575199002085523, -1.3112775125757477, -1.0135819175016552, -0.9081277957043593, -1.1219282023427761, -1.1270389582431934, -0.417063587506782, -0.8338349333231516, -0.9282263306393032, -1.4859175246619358, -1.0069534200157855, -1.7521060031170714, -0.48978447597983793, -0.3854187530741659, -0.28582246392006866],
    'ratio0_Theory [TYPE=BSM]_1sigma-band_up' : [2.4167959355793864, 2.4167959355793864, 10.036706189688616, 5.384286652076705, 7.764962188404701, 5.861323998110689, 5.390189461048215, 4.908671630453618, 4.87757265080413, 4.607433834202385, 6.255534987609898, 3.877105329553909, 4.760921688170106, 4.999323477216358, 4.069618371759474, 6.077738776423618, 4.502402309950433, 5.862922449137018, 7.926691115890859, 10.903762797377283, 4.641968971374836],
    'ratio0_SM as BG [TYPE=BSM]_1sigma-band_dn' : [-3.9894359339275387, -3.9894359339275387, 0.6450489528713065, -0.8183654081749143, -1.0937506904174075, -1.3997500204876854, -0.8571125321002285, -1.310415024476644, -1.0131453978191245, -0.9068160057911383, -1.121327986147453, -1.1270389582431934, -0.41625022365902326, -0.8334064943074294, -0.9272059942053237, -1.4849258669643945, -1.0058430590374594, -1.7510394127201212, -0.48731429139186383, -0.38275089355374065, -0.28582246392006866],
    'ratio0_SM as BG [TYPE=BSM]_1sigma-band_up' : [2.4211590394639515, 2.4211590394639515, 10.040456907905606, 5.385649411087715, 7.766212309598075, 5.861814980501279, 5.390596882286544, 4.909534238166025, 4.878009235186263, 4.608745832141005, 6.256135301485983, 3.877105329553909, 4.761735179802021, 4.999751979178069, 4.070638847083721, 6.078730564152668, 4.503512820137612, 5.863989188945634, 7.929161663024134, 10.90643107727626, 4.641968971374836],
}