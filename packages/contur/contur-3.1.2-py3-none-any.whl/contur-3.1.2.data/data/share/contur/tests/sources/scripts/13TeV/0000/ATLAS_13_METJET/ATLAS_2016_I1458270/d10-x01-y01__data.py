
import numpy as np
from numpy import nan

add_legend_handle = [
    'ATLAS Data',
    'Theory',
    'SM as BG'
]

xpoints = {
    'ATLAS Data' : [900.0, 1100.0, 1300.0, 1500.0, 1700.0, 1900.0, 2100.0, 2300.0, 2500.0, 2700.0, 2900.0, 3100.0, 3300.0, 3500.0],
    'Theory' : [900.0, 1100.0, 1300.0, 1500.0, 1700.0, 1900.0, 2100.0, 2300.0, 2500.0, 2700.0, 2900.0, 3100.0, 3300.0, 3500.0],
    'SM as BG' : [900.0, 1100.0, 1300.0, 1500.0, 1700.0, 1900.0, 2100.0, 2300.0, 2500.0, 2700.0, 2900.0, 3100.0, 3300.0, 3500.0],
}
xedges = {
    'ATLAS Data' : [800.0, 1000.0, 1200.0, 1400.0, 1600.0, 1800.0, 2000.0, 2200.0, 2400.0, 2600.0, 2800.0, 3000.0, 3200.0, 3400.0, 3600.0],
    'Theory' : [800.0, 1000.0, 1200.0, 1400.0, 1600.0, 1800.0, 2000.0, 2200.0, 2400.0, 2600.0, 2800.0, 3000.0, 3200.0, 3400.0, 3600.0],
    'SM as BG' : [800.0, 1000.0, 1200.0, 1400.0, 1600.0, 1800.0, 2000.0, 2200.0, 2400.0, 2600.0, 2800.0, 3000.0, 3200.0, 3400.0, 3600.0],
}
ref_xerrs = [
  [abs(xpoints['ATLAS Data'][i]   - xedges['ATLAS Data'][i]) for i in range(len(xpoints['ATLAS Data']))],
  [abs(xedges['ATLAS Data'][i+1] - xpoints['ATLAS Data'][i]) for i in range(len(xpoints['ATLAS Data']))]
]

yvals = {
    'ATLAS Data' : [4.0, 23.0, 12.0, 4.0, 2.0, 1.0, 2.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0],
    'Theory' : [3.23, 15.72, 15.16, 9.442, 5.22, 2.994, 1.677, 0.8595, 0.5385, 0.3827, 0.1357, 0.08579, 0.04932, 0.09824],
    'SM as BG' : [3.23, 15.728071624, 15.16, 9.442, 5.22, 2.994, 1.677, 0.8595, 0.5385, 0.3827, 0.1357, 0.08579, 0.04932, 0.09824],
}
xerrs = {
    'ATLAS Data' : [
        [100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0],
        [100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0],
    ],
    'Theory' : [
        [100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0],
        [100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0],
    ],
    'SM as BG' : [
        [100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0],
        [100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0],
    ],
}
yerrs = {
    'ATLAS Data' : [
        [2.0, 4.795831523312719, 3.4641016151377544, 2.0, 1.4142135623730951, 1.0, 1.4142135623730951, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
        [2.0, 4.795831523312719, 3.4641016151377544, 2.0, 1.4142135623730951, 1.0, 1.4142135623730951, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
    ],
    'Theory' : [
        [0.9526159, 3.410056, 2.116907, 2.967023, 1.185956, 0.7438412, 0.3795609, 0.3033347, 0.1969881, 0.1400749, 0.09595983, 0.02351239, 0.02347321, 0.02834238],
        [1.106087, 2.832418, 2.454224, 1.349476, 1.01592, 0.5449119, 0.4431698, 0.2876171, 0.192316, 0.1319084, 0.05096853, 0.02291746, 0.0218412, 0.03980473],
    ],
    'SM as BG' : [
        [0.9526159, 3.4100655527790074, 2.116907, 2.967023, 1.185956, 0.7438412, 0.3795609, 0.3033347, 0.1969881, 0.1400749, 0.09595983, 0.02351239, 0.02347321, 0.02834238],
        [1.106087, 2.8324295009475517, 2.454224, 1.349476, 1.01592, 0.5449119, 0.4431698, 0.2876171, 0.192316, 0.1319084, 0.05096853, 0.02291746, 0.0218412, 0.03980473],
    ],
}
variation_yvals = {
}


# lists for ratio plot
ratio0_yvals = {
    'ATLAS Data' : [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],
    'Theory' : [-0.385, -1.5179849343355043, 0.9122134253196088, 2.721, 2.2768838354206826, 1.9940000000000002, -0.2283954903232548, 0.8595, -0.4615, 0.3827, 0.1357, 0.08579, 0.04932, 0.09824],
    'SM as BG' : [-0.385, -1.5163018843866554, 0.9122134253196088, 2.721, 2.2768838354206826, 1.9940000000000002, -0.2283954903232548, 0.8595, -0.4615, 0.3827, 0.1357, 0.08579, 0.04932, 0.09824],
}
ratio0_yerrs = {
    'ATLAS Data' : [
        [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
        [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
    ],
    'Theory' : [
        [0.514675725, 0.6508229041882618, 0.6597859283377607, 1.07912475, 0.7784807254659551, 0.64437655, 0.2908792285301775, 0.2954759, 0.19465205, 0.13599165000000002, 0.07346417999999999, 0.023214925, 0.022657205, 0.034073555000000005],
        [0.514675725, 0.6508229041882618, 0.6597859283377607, 1.07912475, 0.7784807254659551, 0.64437655, 0.2908792285301775, 0.2954759, 0.19465205, 0.13599165000000002, 0.07346417999999999, 0.023214925, 0.022657205, 0.034073555000000005],
    ],
    'SM as BG' : [
        [0.514675725, 0.6508250991909905, 0.6597859283377607, 1.07912475, 0.7784807254659551, 0.64437655, 0.2908792285301775, 0.2954759, 0.19465205, 0.13599165000000002, 0.07346417999999999, 0.023214925, 0.022657205, 0.034073555000000005],
        [0.514675725, 0.6508250991909905, 0.6597859283377607, 1.07912475, 0.7784807254659551, 0.64437655, 0.2908792285301775, 0.2954759, 0.19465205, 0.13599165000000002, 0.07346417999999999, 0.023214925, 0.022657205, 0.034073555000000005],
    ],
}
ratio0_variation_vals = {
}
ratio_band_edges = {
    'ratio0_ATLAS Data_1sigma-band_dn' : [-1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0],
    'ratio0_ATLAS Data_1sigma-band_up' : [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
    'ratio0_Theory_1sigma-band_dn' : [-0.899675725, -0.899675725, -2.168807838523766, 0.2524274969818481, 1.64187525, 1.4984031099547273, 1.3496234500000002, -0.5192747188534323, 0.5640241, -0.65615205, 0.24670834999999997, 0.06223582, 0.06257507500000001, 0.026662795000000003, 0.06416644499999999],
    'ratio0_Theory_1sigma-band_up' : [0.12967572500000002, 0.12967572500000002, -0.8671620301472424, 1.5719993536573695, 3.80012475, 3.055364560886638, 2.6383765500000003, 0.06248373820692269, 1.1549759000000002, -0.26684795000000006, 0.5186916500000001, 0.20916417999999998, 0.109004925, 0.071977205, 0.132313555],
    'ratio0_SM as BG_1sigma-band_dn' : [-0.899675725, -0.899675725, -2.167126983577646, 0.2524274969818481, 1.64187525, 1.4984031099547273, 1.3496234500000002, -0.5192747188534323, 0.5640241, -0.65615205, 0.24670834999999997, 0.06223582, 0.06257507500000001, 0.026662795000000003, 0.06416644499999999],
    'ratio0_SM as BG_1sigma-band_up' : [0.12967572500000002, 0.12967572500000002, -0.8654767851956648, 1.5719993536573695, 3.80012475, 3.055364560886638, 2.6383765500000003, 0.06248373820692269, 1.1549759000000002, -0.26684795000000006, 0.5186916500000001, 0.20916417999999998, 0.109004925, 0.071977205, 0.132313555],
}