
import numpy as np
from numpy import nan

add_legend_handle = [
    'ATLAS Data',
    'Theory [TYPE=BSM]',
    'SM as BG [TYPE=BSM]'
]

xpoints = {
    'ATLAS Data' : [220.0, 270.0, 340.0, 425.0, 520.0, 620.0, 730.0, 850.0, 975.0, 1110.0, 1255.0, 1965.0],
    'Theory [TYPE=BSM]' : [220.0, 270.0, 340.0, 425.0, 520.0, 620.0, 730.0, 850.0, 975.0, 1110.0, 1255.0, 1965.0],
    'SM as BG [TYPE=BSM]' : [220.0, 270.0, 340.0, 425.0, 520.0, 620.0, 730.0, 850.0, 975.0, 1110.0, 1255.0, 1965.0],
}
xedges = {
    'ATLAS Data' : [200.0, 240.0, 300.0, 380.0, 470.0, 570.0, 670.0, 790.0, 910.0, 1040.0, 1180.0, 1330.0, 2600.0],
    'Theory [TYPE=BSM]' : [200.0, 240.0, 300.0, 380.0, 470.0, 570.0, 670.0, 790.0, 910.0, 1040.0, 1180.0, 1330.0, 2600.0],
    'SM as BG [TYPE=BSM]' : [200.0, 240.0, 300.0, 380.0, 470.0, 570.0, 670.0, 790.0, 910.0, 1040.0, 1180.0, 1330.0, 2600.0],
}
ref_xerrs = [
  [abs(xpoints['ATLAS Data'][i]   - xedges['ATLAS Data'][i]) for i in range(len(xpoints['ATLAS Data']))],
  [abs(xedges['ATLAS Data'][i+1] - xpoints['ATLAS Data'][i]) for i in range(len(xpoints['ATLAS Data']))]
]

yvals = {
    'ATLAS Data' : [1.0677, 0.96473, 0.88388, 0.82728, 0.78334, 0.77267, 0.76016, 0.71367, 0.66728, 0.81205, 0.71139, 0.68244],
    'Theory [TYPE=BSM]' : [0.99688, 0.91028, 0.82783, 0.76821, 0.72982, 0.7063, 0.6845, 0.66651, 0.65151, 0.61255, 0.62829, 0.5858],
    'SM as BG [TYPE=BSM]' : [0.9969921, 0.9103659, 0.8279369, 0.7682683, 0.7297713, 0.7060418, 0.6837147, 0.6643822, 0.6473694, 0.6042369, 0.6035393, 0.5178684],
}
xerrs = {
    'ATLAS Data' : [
        [20.0, 30.0, 40.0, 45.0, 50.0, 50.0, 60.0, 60.0, 65.0, 70.0, 75.0, 635.0],
        [20.0, 30.0, 40.0, 45.0, 50.0, 50.0, 60.0, 60.0, 65.0, 70.0, 75.0, 635.0],
    ],
    'Theory [TYPE=BSM]' : [
        [20.0, 30.0, 40.0, 45.0, 50.0, 50.0, 60.0, 60.0, 65.0, 70.0, 75.0, 635.0],
        [20.0, 30.0, 40.0, 45.0, 50.0, 50.0, 60.0, 60.0, 65.0, 70.0, 75.0, 635.0],
    ],
    'SM as BG [TYPE=BSM]' : [
        [20.0, 30.0, 40.0, 45.0, 50.0, 50.0, 60.0, 60.0, 65.0, 70.0, 75.0, 635.0],
        [20.0, 30.0, 40.0, 45.0, 50.0, 50.0, 60.0, 60.0, 65.0, 70.0, 75.0, 635.0],
    ],
}
yerrs = {
    'ATLAS Data' : [
        [0.024017062878576165, 0.01618456911836046, 0.011349184497068501, 0.010390757488340443, 0.011503190571205548, 0.01366677676346548, 0.01849937845269427, 0.026683698509969118, 0.0388306016704379, 0.06432190412613674, 0.09692972989058589, 0.12731754032939635],
        [0.024017062878576165, 0.01618456911836046, 0.011349184497068501, 0.010390757488340443, 0.011503190571205548, 0.01366677676346548, 0.01849937845269427, 0.026683698509969118, 0.0388306016704379, 0.06432190412613674, 0.09692972989058589, 0.12731754032939635],
    ],
    'Theory [TYPE=BSM]' : [
        [0.04505293, 0.04380883, 0.0391902, 0.03303076, 0.03076653, 0.03366125, 0.03700562, 0.04745381, 0.05944235, 0.07508323, 0.07701962, 0.1067064],
        [0.04505293, 0.04380883, 0.0391902, 0.03303076, 0.03076653, 0.03366125, 0.03700562, 0.04745381, 0.05944235, 0.07508323, 0.07701962, 0.1067064],
    ],
    'SM as BG [TYPE=BSM]' : [
        [0.04505293302888103, 0.04380884443109013, 0.039190226200506405, 0.0330308347827364, 0.030766681605298503, 0.03366141570090841, 0.03700617492195972, 0.04745445464560702, 0.05944579143809215, 0.07509493914544951, 0.07712342664765537, 0.1069120235131224],
        [0.04505293302888103, 0.04380884443109013, 0.039190226200506405, 0.0330308347827364, 0.030766681605298503, 0.03366141570090841, 0.03700617492195972, 0.04745445464560702, 0.05944579143809215, 0.07509493914544951, 0.07712342664765537, 0.1069120235131224],
    ],
}
variation_yvals = {
}


# lists for ratio plot
ratio0_yvals = {
    'ATLAS Data' : [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],
    'Theory [TYPE=BSM]' : [-2.948736919166471, -3.3643157010729197, -4.938680837771012, -5.68485984455734, -4.652622215437317, -4.8563023417066855, -4.089867137616223, -1.7673711904060394, -0.4061229886119895, -3.1015872852391917, -0.8573221043100304, -0.7590470232928844],
    'SM as BG [TYPE=BSM]' : [-2.9440694042181694, -3.3590081763948287, -4.92926165879585, -5.679249089031048, -4.656855823469676, -4.875194872437868, -4.132317212466473, -1.8471127599341564, -0.5127553821850287, -3.230829416872887, -1.112668941941153, -1.292607441003179],
}
ratio0_yerrs = {
    'ATLAS Data' : [
        [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
        [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
    ],
    'Theory [TYPE=BSM]' : [
        [1.8758717594976346, 2.7068270819951215, 3.4531291662517996, 3.1788596776571962, 2.674608388825087, 2.4629984511040277, 2.000370990551332, 1.7783820328456754, 1.5308119741356987, 1.1673042180585955, 0.7945923308250173, 0.8381123270519433],
        [1.8758717594976346, 2.7068270819951215, 3.4531291662517996, 3.1788596776571962, 2.674608388825087, 2.4629984511040277, 2.000370990551332, 1.7783820328456754, 1.5308119741356987, 1.1673042180585955, 0.7945923308250173, 0.8381123270519433],
    ],
    'SM as BG [TYPE=BSM]' : [
        [1.87587188561135, 2.7068279736524787, 3.4531314748323334, 3.1788668747009616, 2.674621568238013, 2.4630105754630685, 2.0004009873407447, 1.7784061916258678, 1.53090060109341, 1.1674862578412886, 0.795663278281206, 0.8397273717079302],
        [1.87587188561135, 2.7068279736524787, 3.4531314748323334, 3.1788668747009616, 2.674621568238013, 2.4630105754630685, 2.0004009873407447, 1.7784061916258678, 1.53090060109341, 1.1674862578412886, 0.795663278281206, 0.8397273717079302],
    ],
}
ratio0_variation_vals = {
}
ratio_band_edges = {
    'ratio0_ATLAS Data_1sigma-band_dn' : [-1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0],
    'ratio0_ATLAS Data_1sigma-band_up' : [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
    'ratio0_Theory [TYPE=BSM]_1sigma-band_dn' : [-4.824608678664106, -4.824608678664106, -6.071142783068041, -8.391810004022812, -8.863719522214536, -7.327230604262404, -7.319300792810714, -6.090238128167555, -3.545753223251715, -1.9369349627476884, -4.268891503297787, -1.6519144351350479, -1.5971593503448276],
    'ratio0_Theory [TYPE=BSM]_1sigma-band_up' : [-1.0728651596688366, -1.0728651596688366, -0.6574886190777983, -1.4855516715192123, -2.5060001669001437, -1.9780138266122302, -2.393303890602658, -2.089496147064891, 0.01101084243963598, 1.1246889855237092, -1.9342830671805962, -0.06272977348501309, 0.07906530375905885],
    'ratio0_SM as BG [TYPE=BSM]_1sigma-band_dn' : [-4.8199412898295195, -4.8199412898295195, -6.065836150047307, -8.382393133628185, -8.85811596373201, -7.331477391707688, -7.338205447900937, -6.132718199807218, -3.625518951560024, -2.0436559832784384, -4.398315674714175, -1.9083322202223592, -2.1323348127111093],
    'ratio0_SM as BG [TYPE=BSM]_1sigma-band_up' : [-1.0681975186068193, -1.0681975186068193, -0.6521802027423498, -1.4761301839635168, -2.5003822143300862, -1.9822342552316634, -2.4121842969747997, -2.131916225125729, -0.06870656830828865, 1.0181452189083813, -2.0633431590315983, -0.31700566365994715, -0.4528800692952487],
}