
import numpy as np
from numpy import nan

add_legend_handle = [
    'ATLAS Data',
    'Theory [TYPE=BSM]',
    'SM as BG [TYPE=BSM]'
]

xpoints = {
    'ATLAS Data' : [220.0, 270.0, 340.0, 425.0, 520.0, 620.0, 730.0, 850.0, 975.0, 1110.0, 1255.0, 1965.0],
    'Theory [TYPE=BSM]' : [220.0, 270.0, 340.0, 425.0, 520.0, 620.0, 730.0, 850.0, 975.0, 1110.0, 1255.0, 1965.0],
    'SM as BG [TYPE=BSM]' : [220.0, 270.0, 340.0, 425.0, 520.0, 620.0, 730.0, 850.0, 975.0, 1110.0, 1255.0, 1965.0],
}
xedges = {
    'ATLAS Data' : [200.0, 240.0, 300.0, 380.0, 470.0, 570.0, 670.0, 790.0, 910.0, 1040.0, 1180.0, 1330.0, 2600.0],
    'Theory [TYPE=BSM]' : [200.0, 240.0, 300.0, 380.0, 470.0, 570.0, 670.0, 790.0, 910.0, 1040.0, 1180.0, 1330.0, 2600.0],
    'SM as BG [TYPE=BSM]' : [200.0, 240.0, 300.0, 380.0, 470.0, 570.0, 670.0, 790.0, 910.0, 1040.0, 1180.0, 1330.0, 2600.0],
}
ref_xerrs = [
  [abs(xpoints['ATLAS Data'][i]   - xedges['ATLAS Data'][i]) for i in range(len(xpoints['ATLAS Data']))],
  [abs(xedges['ATLAS Data'][i+1] - xpoints['ATLAS Data'][i]) for i in range(len(xpoints['ATLAS Data']))]
]

yvals = {
    'ATLAS Data' : [112.09, 54.514, 19.559, 6.2553, 2.0873, 0.72782, 0.27756, 0.098847, 0.040718, 0.017466, 0.0060153, 0.00043133],
    'Theory [TYPE=BSM]' : [105.15, 50.299, 18.307, 5.9542, 1.9855, 0.72256, 0.27167, 0.1032, 0.041909, 0.016733, 0.0072011, 0.00062618],
    'SM as BG [TYPE=BSM]' : [105.151008953, 50.300008953, 18.308040483, 5.9552089530000005, 1.9859540288, 0.7231653718, 0.2721954963, 0.1037465162, 0.0423358647, 0.017111357400000003, 0.0074028906, 0.0007036389900000001],
}
xerrs = {
    'ATLAS Data' : [
        [20.0, 30.0, 40.0, 45.0, 50.0, 50.0, 60.0, 60.0, 65.0, 70.0, 75.0, 635.0],
        [20.0, 30.0, 40.0, 45.0, 50.0, 50.0, 60.0, 60.0, 65.0, 70.0, 75.0, 635.0],
    ],
    'Theory [TYPE=BSM]' : [
        [20.0, 30.0, 40.0, 45.0, 50.0, 50.0, 60.0, 60.0, 65.0, 70.0, 75.0, 635.0],
        [20.0, 30.0, 40.0, 45.0, 50.0, 50.0, 60.0, 60.0, 65.0, 70.0, 75.0, 635.0],
    ],
    'SM as BG [TYPE=BSM]' : [
        [20.0, 30.0, 40.0, 45.0, 50.0, 50.0, 60.0, 60.0, 65.0, 70.0, 75.0, 635.0],
        [20.0, 30.0, 40.0, 45.0, 50.0, 50.0, 60.0, 60.0, 65.0, 70.0, 75.0, 635.0],
    ],
}
yerrs = {
    'ATLAS Data' : [
        [5.697748915512993, 2.8449707074089954, 0.9830406479012562, 0.3019980920536514, 0.10370281604191388, 0.03968367905803846, 0.015948960172955724, 0.007094622748232707, 0.0034481553023197483, 0.0016808252806023106, 0.0008190698385884246, 0.00015148748882631594],
        [5.697748915512993, 2.8449707074089954, 0.9830406479012562, 0.3019980920536514, 0.10370281604191388, 0.03968367905803846, 0.015948960172955724, 0.007094622748232707, 0.0034481553023197483, 0.0016808252806023106, 0.0008190698385884246, 0.00015148748882631594],
    ],
    'Theory [TYPE=BSM]' : [
        [10.99562, 5.250835, 1.860924, 0.5735424, 0.1819004, 0.06951139, 0.02881993, 0.01197742, 0.005385877, 0.002538004, 0.001278339, 0.0001270747],
        [10.99562, 5.250835, 1.860924, 0.5735424, 0.1819004, 0.06951139, 0.02881993, 0.01197742, 0.005385877, 0.002538004, 0.001278339, 0.0001270747],
    ],
    'SM as BG [TYPE=BSM]' : [
        [10.995620002893158, 5.250835004038986, 1.8609240088144903, 0.5735424246515178, 0.1819004314796934, 0.06951149983653167, 0.028820121635200646, 0.011977899546139814, 0.0053866458478083355, 0.0025393466038049306, 0.0012796655368766188, 0.00012767859146849795],
        [10.995620002893158, 5.250835004038986, 1.8609240088144903, 0.5735424246515178, 0.1819004314796934, 0.06951149983653167, 0.028820121635200646, 0.011977899546139814, 0.0053866458478083355, 0.0025393466038049306, 0.0012796655368766188, 0.00012767859146849795],
    ],
}
variation_yvals = {
}


# lists for ratio plot
ratio0_yvals = {
    'ATLAS Data' : [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],
    'Theory [TYPE=BSM]' : [-1.2180248906905649, -1.4815618273408295, -1.2735994210137305, -0.9970261664650122, -0.9816512596808854, -0.13254819424144493, -0.3693030728101939, 0.6135632794688544, 0.34540207606042533, -0.43609529703011884, 1.4477397947452122, 1.2862448345381199],
    'SM as BG [TYPE=BSM]' : [-1.217847811458932, -1.4812071829160642, -1.2725409876699803, -0.9936852413845282, -0.9772730873483579, -0.1172932628850401, -0.3363544483041866, 0.6905957333982953, 0.46919716722491783, -0.21099313777153147, 1.6941053554008985, 1.7975675226368621],
}
ratio0_yerrs = {
    'ATLAS Data' : [
        [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
        [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
    ],
    'Theory [TYPE=BSM]' : [
        [1.9298182778926503, 1.845655207038002, 1.8930285375004399, 1.8991590181904443, 1.7540545854268872, 1.7516367345461519, 1.807009967262272, 1.6882391671894907, 1.5619589397196374, 1.5099749089271943, 1.560720392540732, 0.8388461712880738],
        [1.9298182778926503, 1.845655207038002, 1.8930285375004399, 1.8991590181904443, 1.7540545854268872, 1.7516367345461519, 1.807009967262272, 1.6882391671894907, 1.5619589397196374, 1.5099749089271943, 1.560720392540732, 0.8388461712880738],
    ],
    'SM as BG [TYPE=BSM]' : [
        [1.9298182784004223, 1.8456552084576954, 1.8930285464669971, 1.8991590998185024, 1.754054888983672, 1.75163950234728, 1.8070219827917213, 1.6883067600914434, 1.5621819133797328, 1.5107736854689475, 1.5623399575816141, 0.8428325827942434],
        [1.9298182784004223, 1.8456552084576954, 1.8930285464669971, 1.8991590998185024, 1.754054888983672, 1.75163950234728, 1.8070219827917213, 1.6883067600914434, 1.5621819133797328, 1.5107736854689475, 1.5623399575816141, 0.8428325827942434],
    ],
}
ratio0_variation_vals = {
}
ratio_band_edges = {
    'ratio0_ATLAS Data_1sigma-band_dn' : [-1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0],
    'ratio0_ATLAS Data_1sigma-band_up' : [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
    'ratio0_Theory [TYPE=BSM]_1sigma-band_dn' : [-3.1478431685832153, -3.1478431685832153, -3.3272170343788314, -3.1666279585141703, -2.8961851846554563, -2.7357058451077725, -1.884184928787597, -2.1763130400724657, -1.0746758877206364, -1.2165568636592121, -1.9460702059573132, -0.1129805977955199, 0.4473986632500462],
    'ratio0_Theory [TYPE=BSM]_1sigma-band_up' : [0.7117933872020855, 0.7117933872020855, 0.36409337969717254, 0.6194291164867095, 0.902132851725432, 0.7724033257460017, 1.619088540304707, 1.4377068944520779, 2.3018024466583453, 1.9073610157800627, 1.0738796118970755, 3.008460187285944, 2.1250910058261936],
    'ratio0_SM as BG [TYPE=BSM]_1sigma-band_dn' : [-3.1476660898593543, -3.1476660898593543, -3.3268623913737594, -3.1655695341369774, -2.8928443412030305, -2.7313279763320297, -1.86893276523232, -2.143376431095908, -0.9977110266931483, -1.092984746154815, -1.7217668232404788, 0.13176539781928423, 0.9547349398426187],
    'ratio0_SM as BG [TYPE=BSM]_1sigma-band_up' : [0.7119704669414905, 0.7119704669414905, 0.36444802554163114, 0.620487558797017, 0.9054738584339742, 0.776781801635314, 1.63434623946224, 1.4706675344875346, 2.378902493489739, 2.0313790806046508, 1.299780547697416, 3.2564453129825126, 2.6404001054311053],
}