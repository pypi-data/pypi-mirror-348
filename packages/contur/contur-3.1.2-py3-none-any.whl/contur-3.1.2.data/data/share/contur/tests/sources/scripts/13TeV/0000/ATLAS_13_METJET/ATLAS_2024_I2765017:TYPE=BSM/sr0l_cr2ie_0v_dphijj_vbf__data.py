
import numpy as np
from numpy import nan

add_legend_handle = [
    'ATLAS Data',
    'Theory [TYPE=BSM]',
    'SM as BG [TYPE=BSM]'
]

xpoints = {
    'ATLAS Data' : [-0.95, -0.8500000000000001, -0.75, -0.6499999999999999, -0.55, -0.45, -0.35, -0.25, -0.15000000000000002, -0.05, 0.05, 0.15000000000000002, 0.25, 0.35, 0.45, 0.55, 0.6499999999999999, 0.75, 0.8500000000000001, 0.95],
    'Theory [TYPE=BSM]' : [-0.95, -0.85, -0.75, -0.65, -0.55, -0.45, -0.35, -0.25, -0.15, -0.05, 0.05, 0.15, 0.25, 0.35, 0.45, 0.55, 0.65, 0.75, 0.85, 0.95],
    'SM as BG [TYPE=BSM]' : [-0.95, -0.8500000000000001, -0.75, -0.6499999999999999, -0.55, -0.45, -0.35, -0.25, -0.15000000000000002, -0.05, 0.05, 0.15000000000000002, 0.25, 0.35, 0.45, 0.55, 0.6499999999999999, 0.75, 0.8500000000000001, 0.95],
}
xedges = {
    'ATLAS Data' : [-1.0, -0.9, -0.8, -0.7, -0.6, -0.5, -0.4, -0.3, -0.2, -0.1, 0.0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0],
    'Theory [TYPE=BSM]' : [-1.0, -0.9, -0.8, -0.7000000000000001, -0.6000000000000001, -0.5, -0.39999999999999997, -0.3, -0.2, -0.1, 0.0, 0.09999999999999999, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.7999999999999999, 0.8999999999999999, 1.0],
    'SM as BG [TYPE=BSM]' : [-1.0, -0.9, -0.8, -0.7, -0.6, -0.5, -0.4, -0.3, -0.2, -0.1, 0.0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0],
}
ref_xerrs = [
  [abs(xpoints['ATLAS Data'][i]   - xedges['ATLAS Data'][i]) for i in range(len(xpoints['ATLAS Data']))],
  [abs(xedges['ATLAS Data'][i+1] - xpoints['ATLAS Data'][i]) for i in range(len(xpoints['ATLAS Data']))]
]

yvals = {
    'ATLAS Data' : [37.594, 143.64, 172.63, 185.64, 204.68, 204.83, 200.19, 176.05, 168.43, 153.86, 152.98, 165.85, 177.93, 204.39, 200.85, 199.31, 186.91, 171.62, 138.77, 35.357],
    'Theory [TYPE=BSM]' : [31.307, 166.72, 187.45, 200.88, 214.25, 220.6, 209.67, 190.87, 175.51, 169.12, 166.94, 175.91, 190.29, 209.64, 221.56, 214.15, 201.61, 187.61, 165.62, 31.798],
    'SM as BG [TYPE=BSM]' : [31.33222382, 166.72, 187.45, 200.88, 214.25, 220.6, 209.67, 190.87, 175.51, 169.12, 166.94, 175.91, 190.29, 209.64, 221.56, 214.15, 201.61, 187.61, 165.62, 31.798],
}
xerrs = {
    'ATLAS Data' : [
        [0.04999999999999993, 0.050000000000000044, 0.050000000000000044, 0.04999999999999993, 0.050000000000000044, 0.04999999999999999, 0.04999999999999999, 0.04999999999999999, 0.05000000000000002, 0.05, 0.05, 0.04999999999999999, 0.04999999999999999, 0.050000000000000044, 0.04999999999999999, 0.04999999999999993, 0.050000000000000044, 0.050000000000000044, 0.04999999999999993, 0.050000000000000044],
        [0.050000000000000044, 0.04999999999999993, 0.050000000000000044, 0.050000000000000044, 0.04999999999999993, 0.04999999999999999, 0.050000000000000044, 0.04999999999999999, 0.04999999999999999, 0.05, 0.05, 0.05000000000000002, 0.04999999999999999, 0.04999999999999999, 0.04999999999999999, 0.050000000000000044, 0.04999999999999993, 0.050000000000000044, 0.050000000000000044, 0.04999999999999993],
    ],
    'Theory [TYPE=BSM]' : [
        [0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05],
        [0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05],
    ],
    'SM as BG [TYPE=BSM]' : [
        [0.04999999999999993, 0.050000000000000044, 0.050000000000000044, 0.04999999999999993, 0.050000000000000044, 0.04999999999999999, 0.04999999999999999, 0.04999999999999999, 0.05000000000000002, 0.05, 0.05, 0.04999999999999999, 0.04999999999999999, 0.050000000000000044, 0.04999999999999999, 0.04999999999999993, 0.050000000000000044, 0.050000000000000044, 0.04999999999999993, 0.050000000000000044],
        [0.050000000000000044, 0.04999999999999993, 0.050000000000000044, 0.050000000000000044, 0.04999999999999993, 0.04999999999999999, 0.050000000000000044, 0.04999999999999999, 0.04999999999999999, 0.05, 0.05, 0.05000000000000002, 0.04999999999999999, 0.04999999999999999, 0.04999999999999999, 0.050000000000000044, 0.04999999999999993, 0.050000000000000044, 0.050000000000000044, 0.04999999999999993],
    ],
}
yerrs = {
    'ATLAS Data' : [
        [2.865436293660501, 7.054258911260967, 9.192497367809779, 10.124011862117323, 13.261787242586111, 13.042795427489065, 12.52786869704861, 13.341254432489187, 11.737938788404135, 12.325198988927944, 12.514571714691836, 10.971298604757447, 12.635883891856654, 13.884482026274311, 12.399836935110287, 13.693554762407445, 10.569449159986897, 8.817505354926103, 6.600425724997082, 2.6876268267161976],
        [2.865436293660501, 7.054258911260967, 9.192497367809779, 10.124011862117323, 13.261787242586111, 13.042795427489065, 12.52786869704861, 13.341254432489187, 11.737938788404135, 12.325198988927944, 12.514571714691836, 10.971298604757447, 12.635883891856654, 13.884482026274311, 12.399836935110287, 13.693554762407445, 10.569449159986897, 8.817505354926103, 6.600425724997082, 2.6876268267161976],
    ],
    'Theory [TYPE=BSM]' : [
        [6.634082, 34.02998, 37.8267, 40.42505, 43.17738, 44.64015, 42.27978, 38.96149, 35.58794, 34.45654, 33.79729, 35.70215, 38.49657, 42.65638, 45.30625, 42.97209, 40.48286, 37.73771, 33.5415, 6.703865],
        [6.634082, 34.02998, 37.8267, 40.42505, 43.17738, 44.64015, 42.27978, 38.96149, 35.58794, 34.45654, 33.79729, 35.70215, 38.49657, 42.65638, 45.30625, 42.97209, 40.48286, 37.73771, 33.5415, 6.703865],
    ],
    'SM as BG [TYPE=BSM]' : [
        [6.634129952286087, 34.02998, 37.8267, 40.42505, 43.17738, 44.64015, 42.27978, 38.96149, 35.58794, 34.45654, 33.79729, 35.70215, 38.49657, 42.65638, 45.30625, 42.97209, 40.48286, 37.73771, 33.5415, 6.703865],
        [6.634129952286087, 34.02998, 37.8267, 40.42505, 43.17738, 44.64015, 42.27978, 38.96149, 35.58794, 34.45654, 33.79729, 35.70215, 38.49657, 42.65638, 45.30625, 42.97209, 40.48286, 37.73771, 33.5415, 6.703865],
    ],
}
variation_yvals = {
}


# lists for ratio plot
ratio0_yvals = {
    'ATLAS Data' : [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],
    'Theory [TYPE=BSM]' : [-2.1940812342990763, 3.271782378607706, 1.6121843071608117, 1.505332096362512, 0.7216221935207127, 1.2090966302180164, 0.7567129117687308, 1.1108400694247837, 0.6031723395077072, 1.2381138847095658, 1.1154996206231549, 0.9169379453073786, 0.9781666328831602, 0.37811997524035523, 1.6701832538909762, 1.0837215213641869, 1.3908009563686894, 1.8134380821290714, 4.067919421972113, -1.3242165782176192],
    'SM as BG [TYPE=BSM]' : [-2.185278449167958, 3.271782378607706, 1.6121843071608117, 1.505332096362512, 0.7216221935207127, 1.2090966302180164, 0.7567129117687308, 1.1108400694247837, 0.6031723395077072, 1.2381138847095658, 1.1154996206231549, 0.9169379453073786, 0.9781666328831602, 0.37811997524035523, 1.6701832538909762, 1.0837215213641869, 1.3908009563686894, 1.8134380821290714, 4.067919421972113, -1.3242165782176192],
}
ratio0_yerrs = {
    'ATLAS Data' : [
        [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
        [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
    ],
    'Theory [TYPE=BSM]' : [
        [2.315208338317366, 4.824033314920824, 4.114953585133597, 3.9929872219199036, 3.2557738418053677, 3.422590674535628, 3.374858168010695, 2.920376805431379, 3.031873026562142, 2.7956173389941394, 2.700634969419106, 3.2541407618345746, 3.046606816703149, 3.072234161798702, 3.653777887329696, 3.1381252527627193, 3.8301768982680064, 4.279862441922641, 5.0817176645094095, 2.4943436839373017],
        [2.315208338317366, 4.824033314920824, 4.114953585133597, 3.9929872219199036, 3.2557738418053677, 3.422590674535628, 3.374858168010695, 2.920376805431379, 3.031873026562142, 2.7956173389941394, 2.700634969419106, 3.2541407618345746, 3.046606816703149, 3.072234161798702, 3.653777887329696, 3.1381252527627193, 3.8301768982680064, 4.279862441922641, 5.0817176645094095, 2.4943436839373017],
    ],
    'SM as BG [TYPE=BSM]' : [
        [2.3152250730415656, 4.824033314920824, 4.114953585133597, 3.9929872219199036, 3.2557738418053677, 3.422590674535628, 3.374858168010695, 2.920376805431379, 3.031873026562142, 2.7956173389941394, 2.700634969419106, 3.2541407618345746, 3.046606816703149, 3.072234161798702, 3.653777887329696, 3.1381252527627193, 3.8301768982680064, 4.279862441922641, 5.0817176645094095, 2.4943436839373017],
        [2.3152250730415656, 4.824033314920824, 4.114953585133597, 3.9929872219199036, 3.2557738418053677, 3.422590674535628, 3.374858168010695, 2.920376805431379, 3.031873026562142, 2.7956173389941394, 2.700634969419106, 3.2541407618345746, 3.046606816703149, 3.072234161798702, 3.653777887329696, 3.1381252527627193, 3.8301768982680064, 4.279862441922641, 5.0817176645094095, 2.4943436839373017],
    ],
}
ratio0_variation_vals = {
}
ratio_band_edges = {
    'ratio0_ATLAS Data_1sigma-band_dn' : [-1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0],
    'ratio0_ATLAS Data_1sigma-band_up' : [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
    'ratio0_Theory [TYPE=BSM]_1sigma-band_dn' : [-4.509289572616442, -4.509289572616442, -1.5522509363131176, -2.5027692779727855, -2.4876551255573913, -2.5341516482846553, -2.213494044317611, -2.618145256241964, -1.8095367360065953, -2.4287006870544348, -1.5575034542845736, -1.5851353487959512, -2.337202816527196, -2.068440183819989, -2.6941141865583464, -1.98359463343872, -2.0544037313985326, -2.4393759418993173, -2.46642435979357, -1.0137982425372967, -3.818560262154921],
    'ratio0_Theory [TYPE=BSM]_1sigma-band_up' : [0.12112710401828958, 0.12112710401828958, 8.095815693528529, 5.727137892294409, 5.498319318282416, 3.9773960353260804, 4.631687304753644, 4.131571079779426, 4.031216874856163, 3.635045366069849, 4.033731223703705, 3.8161345900422607, 4.1710787071419535, 4.024773449586309, 3.450354137039057, 5.323961141220673, 4.221846774126906, 5.220977854636696, 6.093300524051712, 9.149637086481523, 1.1701271057196827],
    'ratio0_SM as BG [TYPE=BSM]_1sigma-band_dn' : [-4.500503522209524, -4.500503522209524, -1.5522509363131176, -2.5027692779727855, -2.4876551255573913, -2.5341516482846553, -2.213494044317611, -2.618145256241964, -1.8095367360065953, -2.4287006870544348, -1.5575034542845736, -1.5851353487959512, -2.337202816527196, -2.068440183819989, -2.6941141865583464, -1.98359463343872, -2.0544037313985326, -2.4393759418993173, -2.46642435979357, -1.0137982425372967, -3.818560262154921],
    'ratio0_SM as BG [TYPE=BSM]_1sigma-band_up' : [0.12994662387360756, 0.12994662387360756, 8.095815693528529, 5.727137892294409, 5.498319318282416, 3.9773960353260804, 4.631687304753644, 4.131571079779426, 4.031216874856163, 3.635045366069849, 4.033731223703705, 3.8161345900422607, 4.1710787071419535, 4.024773449586309, 3.450354137039057, 5.323961141220673, 4.221846774126906, 5.220977854636696, 6.093300524051712, 9.149637086481523, 1.1701271057196827],
}