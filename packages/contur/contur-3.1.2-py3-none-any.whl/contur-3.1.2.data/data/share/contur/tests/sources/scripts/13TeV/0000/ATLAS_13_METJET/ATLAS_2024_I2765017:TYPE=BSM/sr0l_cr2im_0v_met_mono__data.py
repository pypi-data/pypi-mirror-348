
import numpy as np
from numpy import nan

add_legend_handle = [
    'ATLAS Data',
    'Theory [TYPE=BSM]',
    'SM as BG [TYPE=BSM]'
]

xpoints = {
    'ATLAS Data' : [220.0, 270.0, 340.0, 425.0, 520.0, 620.0, 730.0, 850.0, 975.0, 1110.0, 1890.0],
    'Theory [TYPE=BSM]' : [220.0, 270.0, 340.0, 425.0, 520.0, 620.0, 730.0, 850.0, 975.0, 1110.0, 1890.0],
    'SM as BG [TYPE=BSM]' : [220.0, 270.0, 340.0, 425.0, 520.0, 620.0, 730.0, 850.0, 975.0, 1110.0, 1890.0],
}
xedges = {
    'ATLAS Data' : [200.0, 240.0, 300.0, 380.0, 470.0, 570.0, 670.0, 790.0, 910.0, 1040.0, 1180.0, 2600.0],
    'Theory [TYPE=BSM]' : [200.0, 240.0, 300.0, 380.0, 470.0, 570.0, 670.0, 790.0, 910.0, 1040.0, 1180.0, 2600.0],
    'SM as BG [TYPE=BSM]' : [200.0, 240.0, 300.0, 380.0, 470.0, 570.0, 670.0, 790.0, 910.0, 1040.0, 1180.0, 2600.0],
}
ref_xerrs = [
  [abs(xpoints['ATLAS Data'][i]   - xedges['ATLAS Data'][i]) for i in range(len(xpoints['ATLAS Data']))],
  [abs(xedges['ATLAS Data'][i+1] - xpoints['ATLAS Data'][i]) for i in range(len(xpoints['ATLAS Data']))]
]

yvals = {
    'ATLAS Data' : [24.629, 10.965, 3.6674, 1.1657, 0.39288, 0.1349, 0.047881, 0.019807, 0.0068996, 0.0023645, 0.00017799],
    'Theory [TYPE=BSM]' : [22.404, 9.7928, 3.3714, 1.075, 0.35491, 0.12543, 0.046538, 0.0173, 0.0068344, 0.002716, 0.00019539],
    'SM as BG [TYPE=BSM]' : [22.404, 9.7928, 3.3714, 1.075, 0.35491, 0.12543, 0.046538, 0.0173, 0.0068344, 0.002716, 0.00019539],
}
xerrs = {
    'ATLAS Data' : [
        [20.0, 30.0, 40.0, 45.0, 50.0, 50.0, 60.0, 60.0, 65.0, 70.0, 710.0],
        [20.0, 30.0, 40.0, 45.0, 50.0, 50.0, 60.0, 60.0, 65.0, 70.0, 710.0],
    ],
    'Theory [TYPE=BSM]' : [
        [20.0, 30.0, 40.0, 45.0, 50.0, 50.0, 60.0, 60.0, 65.0, 70.0, 710.0],
        [20.0, 30.0, 40.0, 45.0, 50.0, 50.0, 60.0, 60.0, 65.0, 70.0, 710.0],
    ],
    'SM as BG [TYPE=BSM]' : [
        [20.0, 30.0, 40.0, 45.0, 50.0, 50.0, 60.0, 60.0, 65.0, 70.0, 710.0],
        [20.0, 30.0, 40.0, 45.0, 50.0, 50.0, 60.0, 60.0, 65.0, 70.0, 710.0],
    ],
}
yerrs = {
    'ATLAS Data' : [
        [0.9998391092978558, 0.43151624510860626, 0.15673235733294075, 0.051468839817753805, 0.017004933582672355, 0.006744532561755032, 0.0031571629396078688, 0.0016425401495759617, 0.0008528263051710312, 0.00048302707472484705, 4.4776915197537986e-05],
        [0.9998391092978558, 0.43151624510860626, 0.15673235733294075, 0.051468839817753805, 0.017004933582672355, 0.006744532561755032, 0.0031571629396078688, 0.0016425401495759617, 0.0008528263051710312, 0.00048302707472484705, 4.4776915197537986e-05],
    ],
    'Theory [TYPE=BSM]' : [
        [1.221918, 0.5410777, 0.1843567, 0.05651929, 0.01743381, 0.006101688, 0.002417993, 0.001000471, 0.0004412457, 0.0001945336, 1.696791e-05],
        [1.221918, 0.5410777, 0.1843567, 0.05651929, 0.01743381, 0.006101688, 0.002417993, 0.001000471, 0.0004412457, 0.0001945336, 1.696791e-05],
    ],
    'SM as BG [TYPE=BSM]' : [
        [1.221918, 0.5410777, 0.1843567, 0.05651929, 0.01743381, 0.006101688, 0.002417993, 0.001000471, 0.0004412457, 0.0001945336, 1.696791e-05],
        [1.221918, 0.5410777, 0.1843567, 0.05651929, 0.01743381, 0.006101688, 0.002417993, 0.001000471, 0.0004412457, 0.0001945336, 1.696791e-05],
    ],
}
variation_yvals = {
}


# lists for ratio plot
ratio0_yvals = {
    'ATLAS Data' : [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],
    'Theory [TYPE=BSM]' : [-2.2253580394174857, -2.716467834727693, -1.8885698207883035, -1.7622312902556179, -2.232881405587528, -1.4041002713367785, -0.42538190954655086, -1.5262945022361916, -0.07645167556941622, 0.7277024796182072, 0.3885930936340326],
    'SM as BG [TYPE=BSM]' : [-2.2253580394174857, -2.716467834727693, -1.8885698207883035, -1.7622312902556179, -2.232881405587528, -1.4041002713367785, -0.42538190954655086, -1.5262945022361916, -0.07645167556941622, 0.7277024796182072, 0.3885930936340326],
}
ratio0_yerrs = {
    'ATLAS Data' : [
        [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
        [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
    ],
    'Theory [TYPE=BSM]' : [
        [1.2221146268804195, 1.2538987955455043, 1.1762516887841985, 1.0981263653917468, 1.0252207052290203, 0.904686565619048, 0.7658752640433324, 0.6090998751283381, 0.5173922255030698, 0.4027385009645985, 0.3789432551381513],
        [1.2221146268804195, 1.2538987955455043, 1.1762516887841985, 1.0981263653917468, 1.0252207052290203, 0.904686565619048, 0.7658752640433324, 0.6090998751283381, 0.5173922255030698, 0.4027385009645985, 0.3789432551381513],
    ],
    'SM as BG [TYPE=BSM]' : [
        [1.2221146268804195, 1.2538987955455043, 1.1762516887841985, 1.0981263653917468, 1.0252207052290203, 0.904686565619048, 0.7658752640433324, 0.6090998751283381, 0.5173922255030698, 0.4027385009645985, 0.3789432551381513],
        [1.2221146268804195, 1.2538987955455043, 1.1762516887841985, 1.0981263653917468, 1.0252207052290203, 0.904686565619048, 0.7658752640433324, 0.6090998751283381, 0.5173922255030698, 0.4027385009645985, 0.3789432551381513],
    ],
}
ratio0_variation_vals = {
}
ratio_band_edges = {
    'ratio0_ATLAS Data_1sigma-band_dn' : [-1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0],
    'ratio0_ATLAS Data_1sigma-band_up' : [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
    'ratio0_Theory [TYPE=BSM]_1sigma-band_dn' : [-3.447472666297905, -3.447472666297905, -3.9703666302731975, -3.064821509572502, -2.8603576556473644, -3.258102110816548, -2.3087868369558264, -1.1912571735898831, -2.1353943773645296, -0.5938439010724861, 0.3249639786536087, 0.009649838495881313],
    'ratio0_Theory [TYPE=BSM]_1sigma-band_up' : [-1.003243412537066, -1.003243412537066, -1.4625690391821888, -0.7123181320041051, -0.664104924863871, -1.2076607003585076, -0.4994137057177304, 0.3404933544967815, -0.9171946271078536, 0.44094054993365356, 1.1304409805828057, 0.7675363487721838],
    'ratio0_SM as BG [TYPE=BSM]_1sigma-band_dn' : [-3.447472666297905, -3.447472666297905, -3.9703666302731975, -3.064821509572502, -2.8603576556473644, -3.258102110816548, -2.3087868369558264, -1.1912571735898831, -2.1353943773645296, -0.5938439010724861, 0.3249639786536087, 0.009649838495881313],
    'ratio0_SM as BG [TYPE=BSM]_1sigma-band_up' : [-1.003243412537066, -1.003243412537066, -1.4625690391821888, -0.7123181320041051, -0.664104924863871, -1.2076607003585076, -0.4994137057177304, 0.3404933544967815, -0.9171946271078536, 0.44094054993365356, 1.1304409805828057, 0.7675363487721838],
}