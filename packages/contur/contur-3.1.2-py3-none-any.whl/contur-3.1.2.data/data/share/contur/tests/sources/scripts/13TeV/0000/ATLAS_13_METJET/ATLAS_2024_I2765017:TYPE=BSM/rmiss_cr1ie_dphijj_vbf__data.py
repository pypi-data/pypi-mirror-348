
import numpy as np
from numpy import nan

add_legend_handle = [
    'ATLAS Data',
    'Theory [TYPE=BSM]',
    'SM as BG [TYPE=BSM]'
]

xpoints = {
    'ATLAS Data' : [-0.95, -0.8500000000000001, -0.75, -0.6499999999999999, -0.55, -0.45, -0.35, -0.25, -0.15000000000000002, -0.05, 0.05, 0.15000000000000002, 0.25, 0.35, 0.45, 0.55, 0.6499999999999999, 0.75, 0.8500000000000001, 0.95],
    'Theory [TYPE=BSM]' : [-0.95, -0.85, -0.75, -0.65, -0.55, -0.45, -0.35, -0.25, -0.15, -0.05, 0.05, 0.15, 0.25, 0.35, 0.45, 0.55, 0.65, 0.75, 0.85, 0.95],
    'SM as BG [TYPE=BSM]' : [-0.95, -0.8500000000000001, -0.75, -0.6499999999999999, -0.55, -0.45, -0.35, -0.25, -0.15000000000000002, -0.05, 0.05, 0.15000000000000002, 0.25, 0.35, 0.45, 0.55, 0.6499999999999999, 0.75, 0.8500000000000001, 0.95],
}
xedges = {
    'ATLAS Data' : [-1.0, -0.9, -0.8, -0.7, -0.6, -0.5, -0.4, -0.3, -0.2, -0.1, 0.0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0],
    'Theory [TYPE=BSM]' : [-1.0, -0.9, -0.8, -0.7000000000000001, -0.6000000000000001, -0.5, -0.39999999999999997, -0.3, -0.2, -0.1, 0.0, 0.09999999999999999, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.7999999999999999, 0.8999999999999999, 1.0],
    'SM as BG [TYPE=BSM]' : [-1.0, -0.9, -0.8, -0.7, -0.6, -0.5, -0.4, -0.3, -0.2, -0.1, 0.0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0],
}
ref_xerrs = [
  [abs(xpoints['ATLAS Data'][i]   - xedges['ATLAS Data'][i]) for i in range(len(xpoints['ATLAS Data']))],
  [abs(xedges['ATLAS Data'][i+1] - xpoints['ATLAS Data'][i]) for i in range(len(xpoints['ATLAS Data']))]
]

yvals = {
    'ATLAS Data' : [2.3669, 2.489, 2.4582, 2.6983, 2.7508, 2.8107, 2.6711, 2.6242, 2.5993, 2.626, 2.5331, 2.7211, 2.6275, 2.6853, 2.7513, 2.783, 2.6368, 2.5267, 2.4255, 2.994],
    'Theory [TYPE=BSM]' : [2.3351, 2.4076, 2.3957, 2.5595, 2.6232, 2.5911, 2.5173, 2.4244, 2.3055, 2.2578, 2.2893, 2.3338, 2.4049, 2.5112, 2.581, 2.622, 2.5419, 2.3901, 2.3682, 2.3119],
    'SM as BG [TYPE=BSM]' : [2.338025, 2.413026, 2.400178, 2.56297, 2.625438, 2.592598, 2.518803, 2.426458, 2.308092, 2.260624, 2.292905, 2.336254, 2.407227, 2.512811, 2.582779, 2.624243, 2.545693, 2.394258, 2.37324, 2.31594],
}
xerrs = {
    'ATLAS Data' : [
        [0.04999999999999993, 0.050000000000000044, 0.050000000000000044, 0.04999999999999993, 0.050000000000000044, 0.04999999999999999, 0.04999999999999999, 0.04999999999999999, 0.05000000000000002, 0.05, 0.05, 0.04999999999999999, 0.04999999999999999, 0.050000000000000044, 0.04999999999999999, 0.04999999999999993, 0.050000000000000044, 0.050000000000000044, 0.04999999999999993, 0.050000000000000044],
        [0.050000000000000044, 0.04999999999999993, 0.050000000000000044, 0.050000000000000044, 0.04999999999999993, 0.04999999999999999, 0.050000000000000044, 0.04999999999999999, 0.04999999999999999, 0.05, 0.05, 0.05000000000000002, 0.04999999999999999, 0.04999999999999999, 0.04999999999999999, 0.050000000000000044, 0.04999999999999993, 0.050000000000000044, 0.050000000000000044, 0.04999999999999993],
    ],
    'Theory [TYPE=BSM]' : [
        [0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05],
        [0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05],
    ],
    'SM as BG [TYPE=BSM]' : [
        [0.04999999999999993, 0.050000000000000044, 0.050000000000000044, 0.04999999999999993, 0.050000000000000044, 0.04999999999999999, 0.04999999999999999, 0.04999999999999999, 0.05000000000000002, 0.05, 0.05, 0.04999999999999999, 0.04999999999999999, 0.050000000000000044, 0.04999999999999999, 0.04999999999999993, 0.050000000000000044, 0.050000000000000044, 0.04999999999999993, 0.050000000000000044],
        [0.050000000000000044, 0.04999999999999993, 0.050000000000000044, 0.050000000000000044, 0.04999999999999993, 0.04999999999999999, 0.050000000000000044, 0.04999999999999999, 0.04999999999999999, 0.05, 0.05, 0.05000000000000002, 0.04999999999999999, 0.04999999999999999, 0.04999999999999999, 0.050000000000000044, 0.04999999999999993, 0.050000000000000044, 0.050000000000000044, 0.04999999999999993],
    ],
}
yerrs = {
    'ATLAS Data' : [
        [0.25287146914582725, 0.18040283160649337, 0.1623251440983253, 0.07213188059692399, 0.11557830597440057, 0.06707219987229185, 0.08857565174741872, 0.1681664010333892, 0.15144332036398636, 0.10567158944985212, 0.09093302765777458, 0.11556120916777086, 0.10656816980549351, 0.08923941632242914, 0.08895868171303821, 0.08900751815664858, 0.06339518467069961, 0.1417790394793377, 0.13918879448663898, 0.25547721652562794],
        [0.25287146914582725, 0.18040283160649337, 0.1623251440983253, 0.07213188059692399, 0.11557830597440057, 0.06707219987229185, 0.08857565174741872, 0.1681664010333892, 0.15144332036398636, 0.10567158944985212, 0.09093302765777458, 0.11556120916777086, 0.10656816980549351, 0.08923941632242914, 0.08895868171303821, 0.08900751815664858, 0.06339518467069961, 0.1417790394793377, 0.13918879448663898, 0.25547721652562794],
    ],
    'Theory [TYPE=BSM]' : [
        [0.1822262, 0.1087956, 0.1100603, 0.09466289, 0.08503005, 0.07650132, 0.08055522, 0.07995699, 0.07987182, 0.08021285, 0.07878092, 0.08481527, 0.07800629, 0.08563409, 0.07859192, 0.09024251, 0.09837412, 0.1093188, 0.108523, 0.1743274],
        [0.1822262, 0.1087956, 0.1100603, 0.09466289, 0.08503005, 0.07650132, 0.08055522, 0.07995699, 0.07987182, 0.08021285, 0.07878092, 0.08481527, 0.07800629, 0.08563409, 0.07859192, 0.09024251, 0.09837412, 0.1093188, 0.108523, 0.1743274],
    ],
    'SM as BG [TYPE=BSM]' : [
        [0.18226090456468913, 0.10881369437225145, 0.11007134309103957, 0.09467012200640243, 0.08503338708866354, 0.07650432092018887, 0.08055843790597816, 0.07996038457038705, 0.07987631501453936, 0.08021921218831542, 0.07878615191470087, 0.08481901103098911, 0.07801036905166173, 0.08563735516207245, 0.07859489183970297, 0.0902456510156757, 0.09838063851843, 0.10933128437095593, 0.10854196188257033, 0.17437091628143203],
        [0.18226090456468913, 0.10881369437225145, 0.11007134309103957, 0.09467012200640243, 0.08503338708866354, 0.07650432092018887, 0.08055843790597816, 0.07996038457038705, 0.07987631501453936, 0.08021921218831542, 0.07878615191470087, 0.08481901103098911, 0.07801036905166173, 0.08563735516207245, 0.07859489183970297, 0.0902456510156757, 0.09838063851843, 0.10933128437095593, 0.10854196188257033, 0.17437091628143203],
    ],
}
variation_yvals = {
}


# lists for ratio plot
ratio0_yvals = {
    'ATLAS Data' : [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],
    'Theory [TYPE=BSM]' : [-0.12575558684978025, -0.4512124298445326, -0.3850296905459196, -1.9242531714322069, -1.104013412588534, -3.2740837547915147, -1.736368821068054, -1.1881089133871052, -1.9399997259295862, -3.4843802569538727, -2.681094056579077, -3.3514706430400936, -2.088803818309781, -1.9509316306032582, -1.9143718940142538, -1.8088359650321724, -1.4969591222574585, -0.9634710497520868, -0.411671070299416, -2.6699054000832048],
    'SM as BG [TYPE=BSM]' : [-0.11418844560652264, -0.42113529662172666, -0.35744308327768703, -1.8761468421464007, -1.0846499171545774, -3.2517496133312305, -1.7194002753069006, -1.1758710347897552, -1.9228844118056605, -3.4576559499315, -2.6414494951600105, -3.330235143535783, -2.0669680299665356, -1.9328790696790656, -1.8943738458671526, -1.7836358465876558, -1.4371280795733443, -0.9341437245334229, -0.37546125888040877, -2.654091856883768],
}
ratio0_yerrs = {
    'ATLAS Data' : [
        [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
        [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
    ],
    'Theory [TYPE=BSM]' : [
        [0.7206277585033242, 0.6030703566633155, 0.6780237320062572, 1.3123585468259207, 0.735692129099325, 1.1405816440442027, 0.909451055801546, 0.47546352605907677, 0.5274040466626861, 0.7590767813525326, 0.8663620032150595, 0.7339423895856424, 0.7319848895066493, 0.9595993959731559, 0.8834654300917005, 1.0138751407625803, 1.5517601299056893, 0.7710505050778798, 0.7796820167906356, 0.6823598689964298],
        [0.7206277585033242, 0.6030703566633155, 0.6780237320062572, 1.3123585468259207, 0.735692129099325, 1.1405816440442027, 0.909451055801546, 0.47546352605907677, 0.5274040466626861, 0.7590767813525326, 0.8663620032150595, 0.7339423895856424, 0.7319848895066493, 0.9595993959731559, 0.8834654300917005, 1.0138751407625803, 1.5517601299056893, 0.7710505050778798, 0.7796820167906356, 0.6823598689964298],
    ],
    'SM as BG [TYPE=BSM]' : [
        [0.7207650004183823, 0.6031706564872724, 0.6780917626930674, 1.31245880771393, 0.735721002066751, 1.1406263856837282, 0.9094873852658477, 0.4754837118415291, 0.5274337278300599, 0.759136988531667, 0.8664195391273197, 0.7339747623084277, 0.7320231659607647, 0.9596359847610146, 0.8834988370582354, 1.0139104300925241, 1.551862953463407, 0.7711385602022606, 0.7798182481779414, 0.6825302023123466],
        [0.7207650004183823, 0.6031706564872724, 0.6780917626930674, 1.31245880771393, 0.735721002066751, 1.1406263856837282, 0.9094873852658477, 0.4754837118415291, 0.5274337278300599, 0.759136988531667, 0.8664195391273197, 0.7339747623084277, 0.7320231659607647, 0.9596359847610146, 0.8834988370582354, 1.0139104300925241, 1.551862953463407, 0.7711385602022606, 0.7798182481779414, 0.6825302023123466],
    ],
}
ratio0_variation_vals = {
}
ratio_band_edges = {
    'ratio0_ATLAS Data_1sigma-band_dn' : [-1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0],
    'ratio0_ATLAS Data_1sigma-band_up' : [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
    'ratio0_Theory [TYPE=BSM]_1sigma-band_dn' : [-0.8463833453531044, -0.8463833453531044, -1.0542827865078481, -1.0630534225521768, -3.2366117182581275, -1.839705541687859, -4.414665398835717, -2.6458198768695995, -1.663572439446182, -2.4674037725922724, -4.243457038306405, -3.5474560597941367, -4.085413032625736, -2.82078870781643, -2.910531026576414, -2.797837324105954, -2.8227111057947525, -3.048719252163148, -1.7345215548299666, -1.1913530870900517, -3.3522652690796346],
    'ratio0_Theory [TYPE=BSM]_1sigma-band_up' : [0.594872171653544, 0.594872171653544, 0.15185792681878293, 0.29299404146033764, -0.6118946246062861, -0.3683212834892089, -2.133502110747312, -0.826917765266508, -0.7126453873280284, -1.4125956792669, -2.72530347560134, -1.8147320533640172, -2.617528253454451, -1.3568189288031314, -0.9913322346301022, -1.0309064639225531, -0.794960824269592, 0.05480100764823076, -0.19242054467420702, 0.3680109464912196, -1.9875455310867747],
    'ratio0_SM as BG [TYPE=BSM]_1sigma-band_dn' : [-0.834953446024905, -0.834953446024905, -1.024305953108999, -1.0355348459707543, -3.188605649860331, -1.8203709192213284, -4.392375999014959, -2.6288876605727487, -1.6513547466312843, -2.4503181396357205, -4.216792938463167, -3.5078690342873298, -4.06420990584421, -2.7989911959273, -2.8925150544400804, -2.777872682925388, -2.79754627668018, -2.988991033036751, -1.7052822847356834, -1.1552795070583501, -3.3366220591961144],
    'ratio0_SM as BG [TYPE=BSM]_1sigma-band_up' : [0.6065765548118597, 0.6065765548118597, 0.18203535986554573, 0.32064867941538033, -0.5636880344324705, -0.3489289150878264, -2.111123227647502, -0.809912890041053, -0.700387322948226, -1.3954506839756007, -2.698518961399833, -1.7750299560326908, -2.596260381227355, -1.3349448640057708, -0.9732430849180511, -1.0108750088089173, -0.7697254164951318, 0.11473487389006261, -0.16300516433116233, 0.40435698929753267, -1.9715616545714216],
}