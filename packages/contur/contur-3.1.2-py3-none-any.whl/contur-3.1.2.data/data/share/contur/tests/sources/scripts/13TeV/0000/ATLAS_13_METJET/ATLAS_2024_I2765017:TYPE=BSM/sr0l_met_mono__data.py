
import numpy as np
from numpy import nan

add_legend_handle = [
    'ATLAS Data',
    'Theory [TYPE=BSM]',
    'SM as BG [TYPE=BSM]'
]

xpoints = {
    'ATLAS Data' : [220.0, 270.0, 340.0, 425.0, 520.0, 620.0, 730.0, 850.0, 975.0, 1110.0, 1255.0, 1965.0],
    'Theory [TYPE=BSM]' : [220.0, 270.0, 340.0, 425.0, 520.0, 620.0, 730.0, 850.0, 975.0, 1110.0, 1255.0, 1965.0],
    'SM as BG [TYPE=BSM]' : [220.0, 270.0, 340.0, 425.0, 520.0, 620.0, 730.0, 850.0, 975.0, 1110.0, 1255.0, 1965.0],
}
xedges = {
    'ATLAS Data' : [200.0, 240.0, 300.0, 380.0, 470.0, 570.0, 670.0, 790.0, 910.0, 1040.0, 1180.0, 1330.0, 2600.0],
    'Theory [TYPE=BSM]' : [200.0, 240.0, 300.0, 380.0, 470.0, 570.0, 670.0, 790.0, 910.0, 1040.0, 1180.0, 1330.0, 2600.0],
    'SM as BG [TYPE=BSM]' : [200.0, 240.0, 300.0, 380.0, 470.0, 570.0, 670.0, 790.0, 910.0, 1040.0, 1180.0, 1330.0, 2600.0],
}
ref_xerrs = [
  [abs(xpoints['ATLAS Data'][i]   - xedges['ATLAS Data'][i]) for i in range(len(xpoints['ATLAS Data']))],
  [abs(xedges['ATLAS Data'][i+1] - xpoints['ATLAS Data'][i]) for i in range(len(xpoints['ATLAS Data']))]
]

yvals = {
    'ATLAS Data' : [310.3, 122.21, 36.729, 10.387, 3.1388, 1.0457, 0.36992, 0.12873, 0.048058, 0.021475, 0.0072755, 0.00054941],
    'Theory [TYPE=BSM]' : [282.68, 111.42, 33.951, 9.6207, 2.9028, 0.9748, 0.34638, 0.12481, 0.047952, 0.018562, 0.0072966, 0.00060687],
    'SM as BG [TYPE=BSM]' : [282.68132425100004, 111.420714675, 33.9515044765, 9.6208961853, 2.9028, 0.97487567147, 0.34640101985000005, 0.12485203971, 0.047971402940000005, 0.018562, 0.0072966, 0.000608856128],
}
xerrs = {
    'ATLAS Data' : [
        [20.0, 30.0, 40.0, 45.0, 50.0, 50.0, 60.0, 60.0, 65.0, 70.0, 75.0, 635.0],
        [20.0, 30.0, 40.0, 45.0, 50.0, 50.0, 60.0, 60.0, 65.0, 70.0, 75.0, 635.0],
    ],
    'Theory [TYPE=BSM]' : [
        [20.0, 30.0, 40.0, 45.0, 50.0, 50.0, 60.0, 60.0, 65.0, 70.0, 75.0, 635.0],
        [20.0, 30.0, 40.0, 45.0, 50.0, 50.0, 60.0, 60.0, 65.0, 70.0, 75.0, 635.0],
    ],
    'SM as BG [TYPE=BSM]' : [
        [20.0, 30.0, 40.0, 45.0, 50.0, 50.0, 60.0, 60.0, 65.0, 70.0, 75.0, 635.0],
        [20.0, 30.0, 40.0, 45.0, 50.0, 50.0, 60.0, 60.0, 65.0, 70.0, 75.0, 635.0],
    ],
}
yerrs = {
    'ATLAS Data' : [
        [14.395651824066498, 5.541411079486552, 1.5713395433406372, 0.3807776592756349, 0.11116363833838654, 0.034904123222588526, 0.013466776491003273, 0.00578558637178066, 0.0026567788721877134, 0.0014491293147336792, 0.0008591953613257362, 7.710090512167961e-05],
        [14.395651824066498, 5.541411079486552, 1.5713395433406372, 0.3807776592756349, 0.11116363833838654, 0.034904123222588526, 0.013466776491003273, 0.00578558637178066, 0.0026567788721877134, 0.0014491293147336792, 0.0008591953613257362, 7.710090512167961e-05],
    ],
    'Theory [TYPE=BSM]' : [
        [19.59113, 7.502402, 2.195347, 0.5798626, 0.1589246, 0.05280663, 0.0196861, 0.007858876, 0.003387728, 0.00140201, 0.0006257015, 6.204439e-05],
        [19.59113, 7.502402, 2.195347, 0.5798626, 0.1589246, 0.05280663, 0.0196861, 0.007858876, 0.003387728, 0.00140201, 0.0006257015, 6.204439e-05],
    ],
    'SM as BG [TYPE=BSM]' : [
        [19.591130002131237, 7.50240200200234, 2.1953470036226683, 0.579862604741107, 0.1589246, 0.05280664807276048, 0.01968611122197815, 0.007858932220839256, 0.0033877835639344856, 0.00140201, 0.0006257015, 6.207617123264356e-05],
        [19.591130002131237, 7.50240200200234, 2.1953470036226683, 0.579862604741107, 0.1589246, 0.05280664807276048, 0.01968611122197815, 0.007858932220839256, 0.0033877835639344856, 0.00140201, 0.0006257015, 6.207617123264356e-05],
    ],
}
variation_yvals = {
}


# lists for ratio plot
ratio0_yvals = {
    'ATLAS Data' : [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],
    'Theory [TYPE=BSM]' : [-1.9186349001456942, -1.9471574740128748, -1.7679183418842912, -2.012460503743201, -2.1229963639873533, -2.031278641433299, -1.7480055465185997, -0.677545843774782, -0.03989793848093565, -2.010172570786309, 0.024557860702882767, 0.745257139450146],
    'SM as BG [TYPE=BSM]' : [-1.9185429104938039, -1.9470285041548827, -1.7675972931955237, -2.0119452810266862, -2.1229963639873533, -2.0291106606042884, -1.7464446792974002, -0.6702795604115179, -0.03259475634443143, -2.010172570786309, 0.024557860702882767, 0.7710172520826176],
}
ratio0_yerrs = {
    'ATLAS Data' : [
        [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
        [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
    ],
    'Theory [TYPE=BSM]' : [
        [1.3609060735442182, 1.3538793445179935, 1.3971181526640226, 1.5228377660157126, 1.4296455421531562, 1.5129052136117174, 1.4618271873118012, 1.3583542781993303, 1.2751260691900903, 0.9674843961442193, 0.7282412454305436, 0.8047167527032579],
        [1.3609060735442182, 1.3538793445179935, 1.3971181526640226, 1.5228377660157126, 1.4296455421531562, 1.5129052136117174, 1.4618271873118012, 1.3583542781993303, 1.2751260691900903, 0.9674843961442193, 0.7282412454305436, 0.8047167527032579],
    ],
    'SM as BG [TYPE=BSM]' : [
        [1.3609060736922656, 1.3538793448793347, 1.3971181549694878, 1.522837778466829, 1.4296455421531562, 1.5129057313946843, 1.4618280206202143, 1.3583639955962616, 1.2751469832131077, 0.9674843961442193, 0.7282412454305436, 0.8051289558102566],
        [1.3609060736922656, 1.3538793448793347, 1.3971181549694878, 1.522837778466829, 1.4296455421531562, 1.5129057313946843, 1.4618280206202143, 1.3583639955962616, 1.2751469832131077, 0.9674843961442193, 0.7282412454305436, 0.8051289558102566],
    ],
}
ratio0_variation_vals = {
}
ratio_band_edges = {
    'ratio0_ATLAS Data_1sigma-band_dn' : [-1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0],
    'ratio0_ATLAS Data_1sigma-band_up' : [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
    'ratio0_Theory [TYPE=BSM]_1sigma-band_dn' : [-3.279540973689912, -3.279540973689912, -3.3010368185308683, -3.165036494548314, -3.5352982697589135, -3.5526419061405092, -3.544183855045016, -3.2098327338304005, -2.0359001219741124, -1.3150240076710258, -2.9776569669305286, -0.7036833847276608, -0.059459613253111866],
    'ratio0_Theory [TYPE=BSM]_1sigma-band_up' : [-0.5577288266014759, -0.5577288266014759, -0.5932781294948812, -0.37080018922026864, -0.4896227377274883, -0.6933508218341972, -0.5183734278215814, -0.2861783592067985, 0.6808084344245483, 1.2352281307091546, -1.0426881746420897, 0.7527991061334264, 1.549973892153404],
    'ratio0_SM as BG [TYPE=BSM]_1sigma-band_dn' : [-3.2794489841860694, -3.2794489841860694, -3.3009078490342176, -3.1647154481650115, -3.5347830594935146, -3.5526419061405092, -3.5420163919989727, -3.2082726999176145, -2.0286435560077796, -1.3077417395575393, -2.9776569669305286, -0.7036833847276608, -0.034111703727638915],
    'ratio0_SM as BG [TYPE=BSM]_1sigma-band_up' : [-0.5576368368015385, -0.5576368368015385, -0.593149159275548, -0.3704791382260361, -0.48910750255985724, -0.6933508218341972, -0.5162049292096041, -0.2846166586771859, 0.6880844351847437, 1.2425522268686764, -1.0426881746420897, 0.7527991061334264, 1.576146207892874],
}