
import numpy as np
from numpy import nan

add_legend_handle = [
    'ATLAS Data',
    'Theory [TYPE=BSM]',
    'SM as BG [TYPE=BSM]'
]

xpoints = {
    'ATLAS Data' : [-0.95, -0.8500000000000001, -0.75, -0.6499999999999999, -0.55, -0.45, -0.35, -0.25, -0.15000000000000002, -0.05, 0.05, 0.15000000000000002, 0.25, 0.35, 0.45, 0.55, 0.6499999999999999, 0.75, 0.8500000000000001, 0.95],
    'Theory [TYPE=BSM]' : [-0.95, -0.85, -0.75, -0.65, -0.55, -0.45, -0.35, -0.25, -0.15, -0.05, 0.05, 0.15, 0.25, 0.35, 0.45, 0.55, 0.65, 0.75, 0.85, 0.95],
    'SM as BG [TYPE=BSM]' : [-0.95, -0.8500000000000001, -0.75, -0.6499999999999999, -0.55, -0.45, -0.35, -0.25, -0.15000000000000002, -0.05, 0.05, 0.15000000000000002, 0.25, 0.35, 0.45, 0.55, 0.6499999999999999, 0.75, 0.8500000000000001, 0.95],
}
xedges = {
    'ATLAS Data' : [-1.0, -0.9, -0.8, -0.7, -0.6, -0.5, -0.4, -0.3, -0.2, -0.1, 0.0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0],
    'Theory [TYPE=BSM]' : [-1.0, -0.9, -0.8, -0.7000000000000001, -0.6000000000000001, -0.5, -0.39999999999999997, -0.3, -0.2, -0.1, 0.0, 0.09999999999999999, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.7999999999999999, 0.8999999999999999, 1.0],
    'SM as BG [TYPE=BSM]' : [-1.0, -0.9, -0.8, -0.7, -0.6, -0.5, -0.4, -0.3, -0.2, -0.1, 0.0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0],
}
ref_xerrs = [
  [abs(xpoints['ATLAS Data'][i]   - xedges['ATLAS Data'][i]) for i in range(len(xpoints['ATLAS Data']))],
  [abs(xedges['ATLAS Data'][i+1] - xpoints['ATLAS Data'][i]) for i in range(len(xpoints['ATLAS Data']))]
]

yvals = {
    'ATLAS Data' : [14.434, 11.899, 11.35, 11.207, 11.103, 10.852, 11.124, 11.2, 11.27, 12.169, 11.394, 11.56, 11.436, 11.069, 10.963, 11.247, 11.258, 11.44, 12.592, 14.191],
    'Theory [TYPE=BSM]' : [13.859, 12.766, 11.704, 11.521, 11.46, 11.562, 11.382, 11.352, 11.214, 11.263, 11.267, 11.375, 11.328, 11.39, 11.467, 11.438, 11.491, 11.676, 12.677, 14.037],
    'SM as BG [TYPE=BSM]' : [13.88532, 12.78323, 11.71817, 11.5302, 11.46579, 11.56679, 11.38807, 11.3563, 11.21956, 11.26677, 11.27065, 11.37875, 11.33123, 11.39266, 11.47226, 11.44491, 11.50222, 11.68785, 12.69812, 14.06946],
}
xerrs = {
    'ATLAS Data' : [
        [0.04999999999999993, 0.050000000000000044, 0.050000000000000044, 0.04999999999999993, 0.050000000000000044, 0.04999999999999999, 0.04999999999999999, 0.04999999999999999, 0.05000000000000002, 0.05, 0.05, 0.04999999999999999, 0.04999999999999999, 0.050000000000000044, 0.04999999999999999, 0.04999999999999993, 0.050000000000000044, 0.050000000000000044, 0.04999999999999993, 0.050000000000000044],
        [0.050000000000000044, 0.04999999999999993, 0.050000000000000044, 0.050000000000000044, 0.04999999999999993, 0.04999999999999999, 0.050000000000000044, 0.04999999999999999, 0.04999999999999999, 0.05, 0.05, 0.05000000000000002, 0.04999999999999999, 0.04999999999999999, 0.04999999999999999, 0.050000000000000044, 0.04999999999999993, 0.050000000000000044, 0.050000000000000044, 0.04999999999999993],
    ],
    'Theory [TYPE=BSM]' : [
        [0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05],
        [0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05],
    ],
    'SM as BG [TYPE=BSM]' : [
        [0.04999999999999993, 0.050000000000000044, 0.050000000000000044, 0.04999999999999993, 0.050000000000000044, 0.04999999999999999, 0.04999999999999999, 0.04999999999999999, 0.05000000000000002, 0.05, 0.05, 0.04999999999999999, 0.04999999999999999, 0.050000000000000044, 0.04999999999999999, 0.04999999999999993, 0.050000000000000044, 0.050000000000000044, 0.04999999999999993, 0.050000000000000044],
        [0.050000000000000044, 0.04999999999999993, 0.050000000000000044, 0.050000000000000044, 0.04999999999999993, 0.04999999999999999, 0.050000000000000044, 0.04999999999999999, 0.04999999999999999, 0.05, 0.05, 0.05000000000000002, 0.04999999999999999, 0.04999999999999999, 0.04999999999999999, 0.050000000000000044, 0.04999999999999993, 0.050000000000000044, 0.050000000000000044, 0.04999999999999993],
    ],
}
yerrs = {
    'ATLAS Data' : [
        [1.7126604016104945, 0.8913329821252347, 0.5284732591248043, 0.34994580673104575, 0.3075043174224832, 0.32305581404956946, 0.3661879853815112, 0.42524187369764044, 0.38648764941066804, 0.4727921830694116, 0.4535287243389258, 0.48792287310562726, 0.4228375621419686, 0.36618856528037574, 0.3354712809032392, 0.34737487363952235, 0.31454758603420147, 0.6031948357741966, 0.7516975666959949, 1.0593784509798612],
        [1.7126604016104945, 0.8913329821252347, 0.5284732591248043, 0.34994580673104575, 0.3075043174224832, 0.32305581404956946, 0.3661879853815112, 0.42524187369764044, 0.38648764941066804, 0.4727921830694116, 0.4535287243389258, 0.48792287310562726, 0.4228375621419686, 0.36618856528037574, 0.3354712809032392, 0.34737487363952235, 0.31454758603420147, 0.6031948357741966, 0.7516975666959949, 1.0593784509798612],
    ],
    'Theory [TYPE=BSM]' : [
        [0.3277452, 0.2420249, 0.2168744, 0.2244833, 0.2220144, 0.2250035, 0.2196623, 0.2235548, 0.2140031, 0.2222743, 0.2254279, 0.2369588, 0.228158, 0.2253487, 0.2141122, 0.2250269, 0.2312129, 0.2173375, 0.2278859, 0.3844033],
        [0.3277452, 0.2420249, 0.2168744, 0.2244833, 0.2220144, 0.2250035, 0.2196623, 0.2235548, 0.2140031, 0.2222743, 0.2254279, 0.2369588, 0.228158, 0.2253487, 0.2141122, 0.2250269, 0.2312129, 0.2173375, 0.2278859, 0.3844033],
    ],
    'SM as BG [TYPE=BSM]' : [
        [0.32820021231505697, 0.24203606830798297, 0.2168780976563625, 0.22449489675815776, 0.22201416517912959, 0.22500521712201174, 0.21966488717527707, 0.22355916929439734, 0.21400967564893594, 0.22228920620036535, 0.2254343459743705, 0.23696377065725335, 0.22816822212161814, 0.2253624093998631, 0.21411409657270716, 0.22502720383826644, 0.23121365204208996, 0.21735659237366814, 0.22792597839763387, 0.3844617277380422],
        [0.32820021231505697, 0.24203606830798297, 0.2168780976563625, 0.22449489675815776, 0.22201416517912959, 0.22500521712201174, 0.21966488717527707, 0.22355916929439734, 0.21400967564893594, 0.22228920620036535, 0.2254343459743705, 0.23696377065725335, 0.22816822212161814, 0.2253624093998631, 0.21411409657270716, 0.22502720383826644, 0.23121365204208996, 0.21735659237366814, 0.22792597839763387, 0.3844617277380422],
    ],
}
variation_yvals = {
}


# lists for ratio plot
ratio0_yvals = {
    'ATLAS Data' : [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],
    'Theory [TYPE=BSM]' : [-0.3357349766826511, 0.9727004580631405, 0.66985413904623, 0.8972817903811255, 1.1609593094249644, 2.197762643860225, 0.7045561577647149, 0.357443632439823, -0.14489466891216374, -1.916275337122037, -0.28002636478013354, -0.37915828545293684, -0.25541723269074024, 0.8765975522862737, 1.5023640731421397, 0.5498382712567896, 0.7407464254857321, 0.3912500339912496, 0.11307739144827535, -0.1453682580172923],
    'SM as BG [TYPE=BSM]' : [-0.32036707305432516, 0.9920310565549831, 0.6966672270413856, 0.9235715753222282, 1.17978831335093, 2.2125898031054225, 0.7211323433369344, 0.36755552467331526, -0.13050869821302954, -1.9083014320216518, -0.2719783629577116, -0.37147264453159323, -0.24777836545378507, 0.8838615693862127, 1.5180435077150114, 0.5697303259917852, 0.7764167040005379, 0.41089542764716447, 0.141173797417541, -0.11472764986637603],
}
ratio0_yerrs = {
    'ATLAS Data' : [
        [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
        [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
    ],
    'Theory [TYPE=BSM]' : [
        [0.19136613405191474, 0.271531408411402, 0.4103791369863483, 0.641480182594469, 0.7219879117826247, 0.6964849113208519, 0.5998621166424832, 0.5257121036931421, 0.5537126485835202, 0.47013108075724563, 0.4970531917875522, 0.48564806665397364, 0.5395878238542002, 0.6153897782893893, 0.6382430097250468, 0.6477926789647854, 0.735064932193947, 0.36031061128208886, 0.3031616837628566, 0.36285739024090036],
        [0.19136613405191474, 0.271531408411402, 0.4103791369863483, 0.641480182594469, 0.7219879117826247, 0.6964849113208519, 0.5998621166424832, 0.5257121036931421, 0.5537126485835202, 0.47013108075724563, 0.4970531917875522, 0.48564806665397364, 0.5395878238542002, 0.6153897782893893, 0.6382430097250468, 0.6477926789647854, 0.735064932193947, 0.36031061128208886, 0.3031616837628566, 0.36285739024090036],
    ],
    'SM as BG [TYPE=BSM]' : [
        [0.19163180978928163, 0.2715439383056244, 0.4103861338519393, 0.6415133213203366, 0.7219871481482394, 0.6964902265696017, 0.5998691817985788, 0.5257223785382775, 0.5537296624491533, 0.4701626087750495, 0.4970674047227525, 0.48565825403711826, 0.5396119989099033, 0.6154272163777486, 0.6382486631827796, 0.6477935536344565, 0.7350673230630026, 0.3603422633661848, 0.30321500094706677, 0.362912543088297],
        [0.19163180978928163, 0.2715439383056244, 0.4103861338519393, 0.6415133213203366, 0.7219871481482394, 0.6964902265696017, 0.5998691817985788, 0.5257223785382775, 0.5537296624491533, 0.4701626087750495, 0.4970674047227525, 0.48565825403711826, 0.5396119989099033, 0.6154272163777486, 0.6382486631827796, 0.6477935536344565, 0.7350673230630026, 0.3603422633661848, 0.30321500094706677, 0.362912543088297],
    ],
}
ratio0_variation_vals = {
}
ratio_band_edges = {
    'ratio0_ATLAS Data_1sigma-band_dn' : [-1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0],
    'ratio0_ATLAS Data_1sigma-band_up' : [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
    'ratio0_Theory [TYPE=BSM]_1sigma-band_dn' : [-0.5271011107345659, -0.5271011107345659, 0.7011690496517385, 0.2594750020598817, 0.2558016077866565, 0.4389713976423396, 1.5012777325393734, 0.1046940411222317, -0.16826847125331912, -0.6986073174956839, -2.3864064178792828, -0.7770795565676858, -0.8648063521069106, -0.7950050565449405, 0.26120777399688433, 0.8641210634170929, -0.09795440770799575, 0.005681493291785192, 0.030939422709160745, -0.19008429231458127, -0.5082256482581926],
    'ratio0_Theory [TYPE=BSM]_1sigma-band_up' : [-0.1443688426307364, -0.1443688426307364, 1.2442318664745426, 1.0802332760325783, 1.5387619729755944, 1.8829472212075888, 2.894247555181077, 1.304418274407198, 0.8831557361329652, 0.40881797967135647, -1.4461442563647913, 0.21702682700741865, 0.10648978120103682, 0.28417059116346, 1.4919873305756632, 2.1406070828671866, 1.1976309502215752, 1.4758113576796792, 0.7515606452733384, 0.4162390752111319, 0.21748913222360802],
    'ratio0_SM as BG [TYPE=BSM]_1sigma-band_dn' : [-0.5119988828436067, -0.5119988828436067, 0.7204871182493587, 0.2862810931894463, 0.2820582540018916, 0.4578011652026905, 1.5160995765358212, 0.12126316153835555, -0.15816685386496232, -0.6842383606621828, -2.3784640407967017, -0.7690457676804641, -0.8571308985687116, -0.7873903643636884, 0.26843435300846413, 0.8797948445322318, -0.07806322764267122, 0.041349380937535325, 0.050553164280979716, -0.16204120352952578, -0.477640192954673],
    'ratio0_SM as BG [TYPE=BSM]_1sigma-band_up' : [-0.12873526326504353, -0.12873526326504353, 1.2635749948606076, 1.1070533608933248, 1.5650848966425646, 1.9017754614991693, 2.909080029675024, 1.3210015251355134, 0.8932779032115928, 0.4232209642361238, -1.4381388232466024, 0.22508904176504094, 0.11418560950552503, 0.29183363345611824, 1.4992887857639612, 2.156292170897791, 1.2175238796262418, 1.5114840270635406, 0.7712376910133493, 0.4443887983646077, 0.248184893221921],
}