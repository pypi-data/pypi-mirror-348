
import numpy as np
from numpy import nan

add_legend_handle = [
    'ATLAS Data',
    'Theory [TYPE=BSM]',
    'SM as BG [TYPE=BSM]'
]

xpoints = {
    'ATLAS Data' : [-0.95, -0.8500000000000001, -0.75, -0.6499999999999999, -0.55, -0.45, -0.35, -0.25, -0.15000000000000002, -0.05, 0.05, 0.15000000000000002, 0.25, 0.35, 0.45, 0.55, 0.6499999999999999, 0.75, 0.8500000000000001, 0.95],
    'Theory [TYPE=BSM]' : [-0.95, -0.85, -0.75, -0.65, -0.55, -0.45, -0.35, -0.25, -0.15, -0.05, 0.05, 0.15, 0.25, 0.35, 0.45, 0.55, 0.65, 0.75, 0.85, 0.95],
    'SM as BG [TYPE=BSM]' : [-0.95, -0.8500000000000001, -0.75, -0.6499999999999999, -0.55, -0.45, -0.35, -0.25, -0.15000000000000002, -0.05, 0.05, 0.15000000000000002, 0.25, 0.35, 0.45, 0.55, 0.6499999999999999, 0.75, 0.8500000000000001, 0.95],
}
xedges = {
    'ATLAS Data' : [-1.0, -0.9, -0.8, -0.7, -0.6, -0.5, -0.4, -0.3, -0.2, -0.1, 0.0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0],
    'Theory [TYPE=BSM]' : [-1.0, -0.9, -0.8, -0.7000000000000001, -0.6000000000000001, -0.5, -0.39999999999999997, -0.3, -0.2, -0.1, 0.0, 0.09999999999999999, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.7999999999999999, 0.8999999999999999, 1.0],
    'SM as BG [TYPE=BSM]' : [-1.0, -0.9, -0.8, -0.7, -0.6, -0.5, -0.4, -0.3, -0.2, -0.1, 0.0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0],
}
ref_xerrs = [
  [abs(xpoints['ATLAS Data'][i]   - xedges['ATLAS Data'][i]) for i in range(len(xpoints['ATLAS Data']))],
  [abs(xedges['ATLAS Data'][i+1] - xpoints['ATLAS Data'][i]) for i in range(len(xpoints['ATLAS Data']))]
]

yvals = {
    'ATLAS Data' : [558.13, 1898.7, 2140.2, 2350.8, 2521.1, 2590.6, 2429.7, 2212.7, 2058.2, 2014.3, 1988.4, 2087.6, 2185.9, 2449.9, 2597.2, 2547.9, 2409.7, 2152.6, 1938.7, 585.08],
    'Theory [TYPE=BSM]' : [527.67, 1848.2, 2024.9, 2189.7, 2314.6, 2327.7, 2173.3, 1971.0, 1801.5, 1713.0, 1712.8, 1808.4, 1975.6, 2189.1, 2336.9, 2328.9, 2199.2, 2036.7, 1849.1, 526.71],
    'SM as BG [TYPE=BSM]' : [527.67, 1848.2, 2024.9, 2189.7, 2314.6, 2327.7, 2173.3, 1971.0, 1801.52522382, 1713.0, 1712.8, 1808.4252238200002, 1975.6, 2189.1, 2336.9, 2328.92522382, 2199.22522382, 2036.72522382, 1849.1, 526.7604476500001],
}
xerrs = {
    'ATLAS Data' : [
        [0.04999999999999993, 0.050000000000000044, 0.050000000000000044, 0.04999999999999993, 0.050000000000000044, 0.04999999999999999, 0.04999999999999999, 0.04999999999999999, 0.05000000000000002, 0.05, 0.05, 0.04999999999999999, 0.04999999999999999, 0.050000000000000044, 0.04999999999999999, 0.04999999999999993, 0.050000000000000044, 0.050000000000000044, 0.04999999999999993, 0.050000000000000044],
        [0.050000000000000044, 0.04999999999999993, 0.050000000000000044, 0.050000000000000044, 0.04999999999999993, 0.04999999999999999, 0.050000000000000044, 0.04999999999999999, 0.04999999999999999, 0.05, 0.05, 0.05000000000000002, 0.04999999999999999, 0.04999999999999999, 0.04999999999999999, 0.050000000000000044, 0.04999999999999993, 0.050000000000000044, 0.050000000000000044, 0.04999999999999993],
    ],
    'Theory [TYPE=BSM]' : [
        [0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05],
        [0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05],
    ],
    'SM as BG [TYPE=BSM]' : [
        [0.04999999999999993, 0.050000000000000044, 0.050000000000000044, 0.04999999999999993, 0.050000000000000044, 0.04999999999999999, 0.04999999999999999, 0.04999999999999999, 0.05000000000000002, 0.05, 0.05, 0.04999999999999999, 0.04999999999999999, 0.050000000000000044, 0.04999999999999999, 0.04999999999999993, 0.050000000000000044, 0.050000000000000044, 0.04999999999999993, 0.050000000000000044],
        [0.050000000000000044, 0.04999999999999993, 0.050000000000000044, 0.050000000000000044, 0.04999999999999993, 0.04999999999999999, 0.050000000000000044, 0.04999999999999999, 0.04999999999999999, 0.05, 0.05, 0.05000000000000002, 0.04999999999999999, 0.04999999999999999, 0.04999999999999999, 0.050000000000000044, 0.04999999999999993, 0.050000000000000044, 0.050000000000000044, 0.04999999999999993],
    ],
}
yerrs = {
    'ATLAS Data' : [
        [60.64816914894996, 141.82635559930952, 107.15763465932467, 107.31179325350314, 132.891020478657, 138.49891244308094, 151.54002770119828, 138.37485655059123, 140.7209220452507, 130.45914267898013, 148.11812054726465, 138.70389054555065, 143.92052018834877, 148.39106427787377, 138.35274008915832, 130.82336722160102, 115.05678477620256, 125.25425581830903, 117.19930025877778, 33.78764666747893],
        [60.64816914894996, 141.82635559930952, 107.15763465932467, 107.31179325350314, 132.891020478657, 138.49891244308094, 151.54002770119828, 138.37485655059123, 140.7209220452507, 130.45914267898013, 148.11812054726465, 138.70389054555065, 143.92052018834877, 148.39106427787377, 138.35274008915832, 130.82336722160102, 115.05678477620256, 125.25425581830903, 117.19930025877778, 33.78764666747893],
    ],
    'Theory [TYPE=BSM]' : [
        [141.2185, 401.6717, 457.9463, 487.0798, 505.6504, 498.0296, 459.6923, 418.1979, 382.6895, 360.3479, 362.8372, 384.7261, 420.545, 467.8049, 499.8091, 511.1196, 496.764, 463.9262, 404.4891, 140.1559],
        [141.2185, 401.6717, 457.9463, 487.0798, 505.6504, 498.0296, 459.6923, 418.1979, 382.6895, 360.3479, 362.8372, 384.7261, 420.545, 467.8049, 499.8091, 511.1196, 496.764, 463.9262, 404.4891, 140.1559],
    ],
    'SM as BG [TYPE=BSM]' : [
        [141.2185, 401.6717, 457.9463, 487.0798, 505.6504, 498.0296, 459.6923, 418.1979, 382.6895008312759, 360.3479, 362.8372, 384.7261008268754, 420.545, 467.8049, 499.8091, 511.11960062239945, 496.7640006403857, 463.9262006857137, 404.4891, 140.15590453952453],
        [141.2185, 401.6717, 457.9463, 487.0798, 505.6504, 498.0296, 459.6923, 418.1979, 382.6895008312759, 360.3479, 362.8372, 384.7261008268754, 420.545, 467.8049, 499.8091, 511.11960062239945, 496.7640006403857, 463.9262006857137, 404.4891, 140.15590453952453],
    ],
}
variation_yvals = {
}


# lists for ratio plot
ratio0_yvals = {
    'ATLAS Data' : [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],
    'Theory [TYPE=BSM]' : [-0.5022410474616513, -0.3560692213136573, -1.075984929739829, -1.5012329504123847, -1.5539048406447071, -1.8982098513448213, -1.6919622088598323, -1.7467046111200981, -1.8241779279804216, -2.3095353366027145, -1.8606771337748367, -2.0129211870110444, -1.4612231787710368, -1.7575182257041568, -1.8814228025571105, -1.6740128667460228, -1.8295313953839787, -0.9253178604016598, -0.7645096839500066, -1.7275544690770643],
    'SM as BG [TYPE=BSM]' : [-0.5022410474616513, -0.3560692213136573, -1.075984929739829, -1.5012329504123847, -1.5539048406447071, -1.8982098513448213, -1.6919622088598323, -1.7467046111200981, -1.8239986808604236, -2.3095353366027145, -1.8606771337748367, -2.0127393332800434, -1.4612231787710368, -1.7575182257041568, -1.8814228025571105, -1.673820058530367, -1.8293121660699567, -0.9251164794598684, -0.7645096839500066, -1.7260613893578254],
}
ratio0_yerrs = {
    'ATLAS Data' : [
        [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
        [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
    ],
    'Theory [TYPE=BSM]' : [
        [2.328487437983031, 2.8321372166877814, 4.27357604015712, 4.538921447798092, 3.8050005047648057, 3.5959098249574764, 3.033471136130491, 3.022210179109401, 2.719492556173993, 2.762151372454635, 2.4496476100249884, 2.77372248526551, 2.922064202169592, 3.152513948710544, 3.61257102445466, 3.9069442321738834, 4.317555031337419, 3.7038757443336756, 3.4512927902033725, 4.148140336003394],
        [2.328487437983031, 2.8321372166877814, 4.27357604015712, 4.538921447798092, 3.8050005047648057, 3.5959098249574764, 3.033471136130491, 3.022210179109401, 2.719492556173993, 2.762151372454635, 2.4496476100249884, 2.77372248526551, 2.922064202169592, 3.152513948710544, 3.61257102445466, 3.9069442321738834, 4.317555031337419, 3.7038757443336756, 3.4512927902033725, 4.148140336003394],
    ],
    'SM as BG [TYPE=BSM]' : [
        [2.328487437983031, 2.8321372166877814, 4.27357604015712, 4.538921447798092, 3.8050005047648057, 3.5959098249574764, 3.033471136130491, 3.022210179109401, 2.7194925620812587, 2.762151372454635, 2.4496476100249884, 2.773722491226953, 2.922064202169592, 3.152513948710544, 3.61257102445466, 3.906944236931439, 4.317555036903243, 3.7038757498082497, 3.4512927902033725, 4.148140470357958],
        [2.328487437983031, 2.8321372166877814, 4.27357604015712, 4.538921447798092, 3.8050005047648057, 3.5959098249574764, 3.033471136130491, 3.022210179109401, 2.7194925620812587, 2.762151372454635, 2.4496476100249884, 2.773722491226953, 2.922064202169592, 3.152513948710544, 3.61257102445466, 3.906944236931439, 4.317555036903243, 3.7038757498082497, 3.4512927902033725, 4.148140470357958],
    ],
}
ratio0_variation_vals = {
}
ratio_band_edges = {
    'ratio0_ATLAS Data_1sigma-band_dn' : [-1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0],
    'ratio0_ATLAS Data_1sigma-band_up' : [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
    'ratio0_Theory [TYPE=BSM]_1sigma-band_dn' : [-2.8307284854446824, -2.8307284854446824, -3.1882064380014383, -5.349560969896949, -6.040154398210476, -5.358905345409513, -5.494119676302298, -4.725433344990322, -4.768914790229499, -4.543670484154414, -5.071686709057349, -4.310324743799825, -4.786643672276554, -4.383287380940629, -4.910032174414701, -5.49399382701177, -5.580957098919907, -6.1470864267213985, -4.6291936047353355, -4.215802474153379, -5.875694805080458],
    'ratio0_Theory [TYPE=BSM]_1sigma-band_up' : [1.8262463905213797, 1.8262463905213797, 2.476067995374124, 3.19759111041729, 3.037688497385707, 2.2510956641200988, 1.697699973612655, 1.3415089272706584, 1.275505567989303, 0.8953146281935715, 0.45261603585192006, 0.5889704762501519, 0.7608012982544651, 1.4608410233985551, 1.3949957230063872, 1.7311482218975498, 2.2329313654278606, 2.488023635953441, 2.7785578839320157, 2.686783106253366, 2.4205858669263294],
    'ratio0_SM as BG [TYPE=BSM]_1sigma-band_dn' : [-2.8307284854446824, -2.8307284854446824, -3.1882064380014383, -5.349560969896949, -6.040154398210476, -5.358905345409513, -5.494119676302298, -4.725433344990322, -4.768914790229499, -4.543491242941682, -5.071686709057349, -4.310324743799825, -4.786461824506997, -4.383287380940629, -4.910032174414701, -5.49399382701177, -5.580764295461806, -6.146867202973199, -4.628992229268118, -4.215802474153379, -5.874201859715782],
    'ratio0_SM as BG [TYPE=BSM]_1sigma-band_up' : [1.8262463905213797, 1.8262463905213797, 2.476067995374124, 3.19759111041729, 3.037688497385707, 2.2510956641200988, 1.697699973612655, 1.3415089272706584, 1.275505567989303, 0.8954938812208353, 0.45261603585192006, 0.5889704762501519, 0.7609831579469096, 1.4608410233985551, 1.3949957230063872, 1.7311482218975498, 2.2331241784010722, 2.488242870833286, 2.7787592703483814, 2.686783106253366, 2.422079081000132],
}