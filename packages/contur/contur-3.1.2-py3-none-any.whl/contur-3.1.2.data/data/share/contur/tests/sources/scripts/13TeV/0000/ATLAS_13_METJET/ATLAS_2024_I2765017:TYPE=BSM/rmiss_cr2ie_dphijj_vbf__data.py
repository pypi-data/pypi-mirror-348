
import numpy as np
from numpy import nan

add_legend_handle = [
    'ATLAS Data',
    'Theory [TYPE=BSM]',
    'SM as BG [TYPE=BSM]'
]

xpoints = {
    'ATLAS Data' : [-0.95, -0.8500000000000001, -0.75, -0.6499999999999999, -0.55, -0.45, -0.35, -0.25, -0.15000000000000002, -0.05, 0.05, 0.15000000000000002, 0.25, 0.35, 0.45, 0.55, 0.6499999999999999, 0.75, 0.8500000000000001, 0.95],
    'Theory [TYPE=BSM]' : [-0.95, -0.85, -0.75, -0.65, -0.55, -0.45, -0.35, -0.25, -0.15, -0.05, 0.05, 0.15, 0.25, 0.35, 0.45, 0.55, 0.65, 0.75, 0.85, 0.95],
    'SM as BG [TYPE=BSM]' : [-0.95, -0.8500000000000001, -0.75, -0.6499999999999999, -0.55, -0.45, -0.35, -0.25, -0.15000000000000002, -0.05, 0.05, 0.15000000000000002, 0.25, 0.35, 0.45, 0.55, 0.6499999999999999, 0.75, 0.8500000000000001, 0.95],
}
xedges = {
    'ATLAS Data' : [-1.0, -0.9, -0.8, -0.7, -0.6, -0.5, -0.4, -0.3, -0.2, -0.1, 0.0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0],
    'Theory [TYPE=BSM]' : [-1.0, -0.9, -0.8, -0.7000000000000001, -0.6000000000000001, -0.5, -0.39999999999999997, -0.3, -0.2, -0.1, 0.0, 0.09999999999999999, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.7999999999999999, 0.8999999999999999, 1.0],
    'SM as BG [TYPE=BSM]' : [-1.0, -0.9, -0.8, -0.7, -0.6, -0.5, -0.4, -0.3, -0.2, -0.1, 0.0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0],
}
ref_xerrs = [
  [abs(xpoints['ATLAS Data'][i]   - xedges['ATLAS Data'][i]) for i in range(len(xpoints['ATLAS Data']))],
  [abs(xedges['ATLAS Data'][i+1] - xpoints['ATLAS Data'][i]) for i in range(len(xpoints['ATLAS Data']))]
]

yvals = {
    'ATLAS Data' : [14.846, 13.219, 12.398, 12.663, 12.317, 12.647, 12.137, 12.568, 12.22, 13.092, 12.998, 12.587, 12.285, 11.986, 12.931, 12.784, 12.893, 12.543, 13.971, 16.548],
    'Theory [TYPE=BSM]' : [15.942, 14.365, 13.204, 12.991, 12.916, 12.975, 12.744, 12.739, 12.533, 12.6, 12.491, 12.659, 12.668, 12.835, 12.892, 12.935, 12.974, 13.1, 14.354, 15.873],
    'SM as BG [TYPE=BSM]' : [15.96377, 14.38848, 13.2234, 13.0022, 12.92423, 12.98215, 12.75186, 12.74491, 12.53846, 12.603, 12.49581, 12.66404, 12.67304, 12.8393, 12.89893, 12.94351, 12.98704, 13.11393, 14.37981, 15.91373],
}
xerrs = {
    'ATLAS Data' : [
        [0.04999999999999993, 0.050000000000000044, 0.050000000000000044, 0.04999999999999993, 0.050000000000000044, 0.04999999999999999, 0.04999999999999999, 0.04999999999999999, 0.05000000000000002, 0.05, 0.05, 0.04999999999999999, 0.04999999999999999, 0.050000000000000044, 0.04999999999999999, 0.04999999999999993, 0.050000000000000044, 0.050000000000000044, 0.04999999999999993, 0.050000000000000044],
        [0.050000000000000044, 0.04999999999999993, 0.050000000000000044, 0.050000000000000044, 0.04999999999999993, 0.04999999999999999, 0.050000000000000044, 0.04999999999999999, 0.04999999999999999, 0.05, 0.05, 0.05000000000000002, 0.04999999999999999, 0.04999999999999999, 0.04999999999999999, 0.050000000000000044, 0.04999999999999993, 0.050000000000000044, 0.050000000000000044, 0.04999999999999993],
    ],
    'Theory [TYPE=BSM]' : [
        [0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05],
        [0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05],
    ],
    'SM as BG [TYPE=BSM]' : [
        [0.04999999999999993, 0.050000000000000044, 0.050000000000000044, 0.04999999999999993, 0.050000000000000044, 0.04999999999999999, 0.04999999999999999, 0.04999999999999999, 0.05000000000000002, 0.05, 0.05, 0.04999999999999999, 0.04999999999999999, 0.050000000000000044, 0.04999999999999999, 0.04999999999999993, 0.050000000000000044, 0.050000000000000044, 0.04999999999999993, 0.050000000000000044],
        [0.050000000000000044, 0.04999999999999993, 0.050000000000000044, 0.050000000000000044, 0.04999999999999993, 0.04999999999999999, 0.050000000000000044, 0.04999999999999999, 0.04999999999999999, 0.05, 0.05, 0.05000000000000002, 0.04999999999999999, 0.04999999999999999, 0.04999999999999999, 0.050000000000000044, 0.04999999999999993, 0.050000000000000044, 0.050000000000000044, 0.04999999999999993],
    ],
}
yerrs = {
    'ATLAS Data' : [
        [1.844115863054613, 1.0113739313917478, 0.6274924226162353, 0.4393867029024444, 0.4171316338043304, 0.4226130451031934, 0.46779814045163753, 0.45101343418512496, 0.49288422978730007, 0.5180081259107332, 0.524031681246624, 0.5278837719027456, 0.4799722075972629, 0.3973070004555521, 0.42689192029195167, 0.4318834486300582, 0.4233551300417298, 0.6995739565025828, 0.8698030054643544, 1.4105036939206823],
        [1.844115863054613, 1.0113739313917478, 0.6274924226162353, 0.4393867029024444, 0.4171316338043304, 0.4226130451031934, 0.46779814045163753, 0.45101343418512496, 0.49288422978730007, 0.5180081259107332, 0.524031681246624, 0.5278837719027456, 0.4799722075972629, 0.3973070004555521, 0.42689192029195167, 0.4318834486300582, 0.4233551300417298, 0.6995739565025828, 0.8698030054643544, 1.4105036939206823],
    ],
    'Theory [TYPE=BSM]' : [
        [0.3840717, 0.273179, 0.2419712, 0.2580055, 0.2530129, 0.262146, 0.248892, 0.2508364, 0.2542861, 0.237362, 0.2437028, 0.2533805, 0.2590496, 0.2507201, 0.2605538, 0.2479121, 0.2632573, 0.2505767, 0.2682654, 0.4288244],
        [0.3840717, 0.273179, 0.2419712, 0.2580055, 0.2530129, 0.262146, 0.248892, 0.2508364, 0.2542861, 0.237362, 0.2437028, 0.2533805, 0.2590496, 0.2507201, 0.2605538, 0.2479121, 0.2632573, 0.2505767, 0.2682654, 0.4288244],
    ],
    'SM as BG [TYPE=BSM]' : [
        [0.38431328760432054, 0.27319137507673347, 0.24197697388260678, 0.25800659661675984, 0.25301356560550126, 0.2621491780134899, 0.24889709348323721, 0.25084236806225496, 0.2543045255776095, 0.23736956490840322, 0.24371137941142187, 0.2534088960880111, 0.25905477028380824, 0.2507241361985854, 0.26055616382438396, 0.24791268076370168, 0.26325887171585655, 0.25060235022194416, 0.2682744175101618, 0.42890719796710786],
        [0.38431328760432054, 0.27319137507673347, 0.24197697388260678, 0.25800659661675984, 0.25301356560550126, 0.2621491780134899, 0.24889709348323721, 0.25084236806225496, 0.2543045255776095, 0.23736956490840322, 0.24371137941142187, 0.2534088960880111, 0.25905477028380824, 0.2507241361985854, 0.26055616382438396, 0.24791268076370168, 0.26325887171585655, 0.25060235022194416, 0.2682744175101618, 0.42890719796710786],
    ],
}
variation_yvals = {
}


# lists for ratio plot
ratio0_yvals = {
    'ATLAS Data' : [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],
    'Theory [TYPE=BSM]' : [0.5943227440083803, 1.1331120611572365, 1.2844776621198153, 0.7464950528391938, 1.43599754000192, 0.7761236994468748, 1.297568219091185, 0.37914613410342834, 0.6350375627458629, -0.9497920503370362, -0.9674987565520704, 0.13639366055993446, 0.7979628693863215, 2.136886586510021, -0.09135801861353472, 0.3496313657746654, 0.1913287314884206, 0.7961988790786896, 0.44032958910682324, -0.4785524510919548],
    'SM as BG [TYPE=BSM]' : [0.606127859096941, 1.1563280046092181, 1.315394370116246, 0.7719851278141919, 1.4557275228971034, 0.7930422496025028, 1.3143703380402094, 0.392249956632968, 0.646115214798876, -0.9440006353959565, -0.9583199221950363, 0.14594121679912836, 0.808463477380337, 2.147709451435805, -0.07512440145989753, 0.3693357559915011, 0.2221302951749521, 0.8161109982628302, 0.4700029747330579, -0.44967624170976916],
}
ratio0_yerrs = {
    'ATLAS Data' : [
        [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
        [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
    ],
    'Theory [TYPE=BSM]' : [
        [0.2082687469342732, 0.27010682352083115, 0.3856161306157889, 0.5871946016929969, 0.60655409347037, 0.6202979369365877, 0.5320499986590503, 0.5561617038153249, 0.5159144574573525, 0.45822061108150236, 0.46505356206757015, 0.47999297096536137, 0.5397179167868912, 0.6310487852278576, 0.6103507412878817, 0.574025470960699, 0.6218356205440358, 0.35818471752825304, 0.30842087037487687, 0.3040221743822773],
        [0.2082687469342732, 0.27010682352083115, 0.3856161306157889, 0.5871946016929969, 0.60655409347037, 0.6202979369365877, 0.5320499986590503, 0.5561617038153249, 0.5159144574573525, 0.45822061108150236, 0.46505356206757015, 0.47999297096536137, 0.5397179167868912, 0.6310487852278576, 0.6103507412878817, 0.574025470960699, 0.6218356205440358, 0.35818471752825304, 0.30842087037487687, 0.3040221743822773],
    ],
    'SM as BG [TYPE=BSM]' : [
        [0.20839975150354162, 0.270119059427205, 0.38562533213344663, 0.5871970974825886, 0.6065556891429283, 0.6203054568499619, 0.5320608868665843, 0.5561749363751615, 0.5159518406327434, 0.45823521492268715, 0.46506993400027746, 0.48004676327632545, 0.5397286888352023, 0.6310589441190444, 0.6103562785779347, 0.574026815683919, 0.621839333067506, 0.358221383018307, 0.30843123767655917, 0.3040808753750253],
        [0.20839975150354162, 0.270119059427205, 0.38562533213344663, 0.5871970974825886, 0.6065556891429283, 0.6203054568499619, 0.5320608868665843, 0.5561749363751615, 0.5159518406327434, 0.45823521492268715, 0.46506993400027746, 0.48004676327632545, 0.5397286888352023, 0.6310589441190444, 0.6103562785779347, 0.574026815683919, 0.621839333067506, 0.358221383018307, 0.30843123767655917, 0.3040808753750253],
    ],
}
ratio0_variation_vals = {
}
ratio_band_edges = {
    'ratio0_ATLAS Data_1sigma-band_dn' : [-1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0],
    'ratio0_ATLAS Data_1sigma-band_up' : [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
    'ratio0_Theory [TYPE=BSM]_1sigma-band_dn' : [0.3860539970741071, 0.3860539970741071, 0.8630052376364052, 0.8988615315040261, 0.15930045114619695, 0.82944344653155, 0.15582576251028696, 0.7655182204321346, -0.17701556971189658, 0.11912310528851024, -1.4080126614185384, -1.4325523186196405, -0.3435993104054269, 0.2582449525994304, 1.5058378012821636, -0.7017087599014165, -0.22439410518603356, -0.4305068890556152, 0.4380141615504366, 0.13190871873194637, -0.7825746254742321],
    'ratio0_Theory [TYPE=BSM]_1sigma-band_up' : [0.8025914909426535, 0.8025914909426535, 1.4032188846780675, 1.670093792735604, 1.3336896545321908, 2.04255163347229, 1.3964216363834625, 1.8296182177502354, 0.9353078379187533, 1.1509520202032155, -0.49157143925553387, -0.5024451944845003, 0.6163866315252958, 1.3376807861732127, 2.767935371737879, 0.5189927226743469, 0.9236568367353644, 0.8131643520324564, 1.1543835966069427, 0.7487504594817002, -0.1745302767096775],
    'ratio0_SM as BG [TYPE=BSM]_1sigma-band_dn' : [0.3977281075933994, 0.3977281075933994, 0.8862089451820132, 0.9297690379827995, 0.18478803033160338, 0.8491718337541749, 0.172736792752541, 0.7823094511736252, -0.1639249797421935, 0.13016337416613266, -1.4022358503186436, -1.4233898561953138, -0.3341055464771971, 0.26873478854513466, 1.5166505073167607, -0.6854806800378322, -0.20469105969241788, -0.3997090378925539, 0.4578896152445232, 0.16157173705649872, -0.7537571170847944],
    'ratio0_SM as BG [TYPE=BSM]_1sigma-band_up' : [0.8145276106004825, 0.8145276106004825, 1.426447064036423, 1.7010197022496927, 1.3591822252967805, 2.0622832120400316, 1.4133477064524647, 1.8464312249067936, 0.9484248930081295, 1.1620670554316195, -0.4857654204732693, -0.4932499881947589, 0.6259879800754538, 1.3481921662155392, 2.7787683955548497, 0.5352318771180372, 0.9433625716754199, 0.8439696282424581, 1.174332381281137, 0.7784342124096171, -0.14559536633474385],
}