
import numpy as np
from numpy import nan

add_legend_handle = [
    'ATLAS Data',
    'Theory [TYPE=BSM]',
    'SM as BG [TYPE=BSM]'
]

xpoints = {
    'ATLAS Data' : [220.0, 270.0, 340.0, 425.0, 520.0, 620.0, 730.0, 850.0, 975.0, 1110.0, 1890.0],
    'Theory [TYPE=BSM]' : [220.0, 270.0, 340.0, 425.0, 520.0, 620.0, 730.0, 850.0, 975.0, 1110.0, 1890.0],
    'SM as BG [TYPE=BSM]' : [220.0, 270.0, 340.0, 425.0, 520.0, 620.0, 730.0, 850.0, 975.0, 1110.0, 1890.0],
}
xedges = {
    'ATLAS Data' : [200.0, 240.0, 300.0, 380.0, 470.0, 570.0, 670.0, 790.0, 910.0, 1040.0, 1180.0, 2600.0],
    'Theory [TYPE=BSM]' : [200.0, 240.0, 300.0, 380.0, 470.0, 570.0, 670.0, 790.0, 910.0, 1040.0, 1180.0, 2600.0],
    'SM as BG [TYPE=BSM]' : [200.0, 240.0, 300.0, 380.0, 470.0, 570.0, 670.0, 790.0, 910.0, 1040.0, 1180.0, 2600.0],
}
ref_xerrs = [
  [abs(xpoints['ATLAS Data'][i]   - xedges['ATLAS Data'][i]) for i in range(len(xpoints['ATLAS Data']))],
  [abs(xedges['ATLAS Data'][i+1] - xpoints['ATLAS Data'][i]) for i in range(len(xpoints['ATLAS Data']))]
]

yvals = {
    'ATLAS Data' : [44.269, 19.931, 6.9603, 2.2489, 0.74431, 0.25264, 0.089339, 0.037162, 0.012799, 0.0039556, 0.00034302],
    'Theory [TYPE=BSM]' : [49.489, 21.639, 7.8222, 2.3961, 0.80728, 0.29401, 0.10992, 0.044198, 0.017446, 0.0063069, 0.00045793],
    'SM as BG [TYPE=BSM]' : [49.489063059559996, 21.6391681588, 7.8223576489, 2.3961560529400003, 0.8073808953, 0.29421179059999997, 0.11000407941, 0.04426105956, 0.01754301471, 0.00637896807, 0.00047746958],
}
xerrs = {
    'ATLAS Data' : [
        [20.0, 30.0, 40.0, 45.0, 50.0, 50.0, 60.0, 60.0, 65.0, 70.0, 710.0],
        [20.0, 30.0, 40.0, 45.0, 50.0, 50.0, 60.0, 60.0, 65.0, 70.0, 710.0],
    ],
    'Theory [TYPE=BSM]' : [
        [20.0, 30.0, 40.0, 45.0, 50.0, 50.0, 60.0, 60.0, 65.0, 70.0, 710.0],
        [20.0, 30.0, 40.0, 45.0, 50.0, 50.0, 60.0, 60.0, 65.0, 70.0, 710.0],
    ],
    'SM as BG [TYPE=BSM]' : [
        [20.0, 30.0, 40.0, 45.0, 50.0, 50.0, 60.0, 60.0, 65.0, 70.0, 710.0],
        [20.0, 30.0, 40.0, 45.0, 50.0, 50.0, 60.0, 60.0, 65.0, 70.0, 710.0],
    ],
}
yerrs = {
    'ATLAS Data' : [
        [4.184794291250278, 1.6633909325061835, 0.47469508627044665, 0.13593019329139439, 0.038666038512801766, 0.012008933666399983, 0.006787632286275262, 0.002786742886166942, 0.0014273865034391945, 0.0006738647515367151, 6.445529173893209e-05],
        [4.184794291250278, 1.6633909325061835, 0.47469508627044665, 0.13593019329139439, 0.038666038512801766, 0.012008933666399983, 0.006787632286275262, 0.002786742886166942, 0.0014273865034391945, 0.0006738647515367151, 6.445529173893209e-05],
    ],
    'Theory [TYPE=BSM]' : [
        [3.123878, 1.770006, 0.6985763, 0.2617456, 0.09117521, 0.03454059, 0.01688667, 0.008857252, 0.003947146, 0.001547388, 9.319487e-05],
        [3.123878, 1.770006, 0.6985763, 0.2617456, 0.09117521, 0.03454059, 0.01688667, 0.008857252, 0.003947146, 0.001547388, 9.319487e-05],
    ],
    'SM as BG [TYPE=BSM]' : [
        [3.12387800063647, 1.770006001996984, 0.6985763035576894, 0.26174560300094013, 0.09117522395645372, 0.03454066368034587, 0.016886722329277428, 0.008857326825511153, 0.003947384439897347, 0.001547807505428902, 9.338089986166194e-05],
        [3.12387800063647, 1.770006001996984, 0.6985763035576894, 0.26174560300094013, 0.09117522395645372, 0.03454066368034587, 0.016886722329277428, 0.008857326825511153, 0.003947384439897347, 0.001547807505428902, 9.338089986166194e-05],
    ],
}
variation_yvals = {
}


# lists for ratio plot
ratio0_yvals = {
    'ATLAS Data' : [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],
    'Theory [TYPE=BSM]' : [1.2473731411157214, 1.026818149974284, 1.8156918513139015, 1.0829087816012053, 1.6285609393150404, 3.4449353414075308, 3.0321324332219977, 2.524811325409984, 3.2556003498725516, 3.4892758445043714, 1.7827861281805732],
    'SM as BG [TYPE=BSM]' : [1.2473882098516282, 1.0269192439484753, 1.8160239569213952, 1.0833211472327324, 1.6311703429126343, 3.4617387150962844, 3.0445195818555506, 2.5474397351972744, 3.323567021664844, 3.596223225021979, 2.0859354813654534],
}
ratio0_yerrs = {
    'ATLAS Data' : [
        [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
        [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
    ],
    'Theory [TYPE=BSM]' : [
        [0.7464830485291759, 1.0640950154352367, 1.4716316224979886, 1.9255883749013318, 2.358017875811436, 2.876241218372432, 2.48785869472411, 3.1783527802174856, 2.76529586800044, 2.2962886788057375, 1.445883921796117],
        [0.7464830485291759, 1.0640950154352367, 1.4716316224979886, 1.9255883749013318, 2.358017875811436, 2.876241218372432, 2.48785869472411, 3.1783527802174856, 2.76529586800044, 2.2962886788057375, 1.445883921796117],
    ],
    'SM as BG [TYPE=BSM]' : [
        [0.746483048681267, 1.0640950166357868, 1.471631629992672, 1.9255883969783996, 2.3580182367600684, 2.8762473538335738, 2.487866404227987, 3.1783796307430667, 2.765462914484887, 2.2969112153428473, 1.4487701062604654],
        [0.746483048681267, 1.0640950166357868, 1.471631629992672, 1.9255883969783996, 2.3580182367600684, 2.8762473538335738, 2.487866404227987, 3.1783796307430667, 2.765462914484887, 2.2969112153428473, 1.4487701062604654],
    ],
}
ratio0_variation_vals = {
}
ratio_band_edges = {
    'ratio0_ATLAS Data_1sigma-band_dn' : [-1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0],
    'ratio0_ATLAS Data_1sigma-band_up' : [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
    'ratio0_Theory [TYPE=BSM]_1sigma-band_dn' : [0.5008900925865455, 0.5008900925865455, -0.03727686546095264, 0.3440602288159129, -0.8426795933001265, -0.7294569364963959, 0.568694123035099, 0.5442737384978878, -0.6535414548075016, 0.4903044818721119, 1.1929871656986337, 0.3369022063844561],
    'ratio0_Theory [TYPE=BSM]_1sigma-band_up' : [1.9938561896448972, 1.9938561896448972, 2.0909131654095208, 3.28732347381189, 3.008497156502537, 3.9865788151264767, 6.321176559779963, 5.519991127946107, 5.70316410562747, 6.020896217872992, 5.785564523310109, 3.22867004997669],
    'ratio0_SM as BG [TYPE=BSM]_1sigma-band_dn' : [0.5009051611703611, 0.5009051611703611, -0.037175772687311266, 0.3443923269287233, -0.8422672497456672, -0.7268478938474341, 0.5854913612627107, 0.5566531776275633, -0.6309398955457924, 0.5581041071799572, 1.2993120096791317, 0.637165375104988],
    'ratio0_SM as BG [TYPE=BSM]_1sigma-band_up' : [1.9938712585328953, 1.9938712585328953, 2.091014260584262, 3.2876555869140667, 3.008909544211132, 3.9891885796727027, 6.337986068929858, 5.532385986083538, 5.725819365940341, 6.089029936149731, 5.893134440364826, 3.534705587625919],
}