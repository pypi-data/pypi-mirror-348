
import numpy as np
from numpy import nan

add_legend_handle = [
    'ATLAS Data',
    'Theory [TYPE=BSM]',
    'SM as BG [TYPE=BSM]'
]

xpoints = {
    'ATLAS Data' : [235.0, 325.0, 445.0, 585.0, 750.0, 940.0, 1155.0, 1395.0, 1665.0, 2010.0, 2450.0, 2950.0, 3490.0, 5985.0],
    'Theory [TYPE=BSM]' : [235.0, 325.0, 445.0, 585.0, 750.0, 940.0, 1155.0, 1395.0, 1665.0, 2010.0, 2450.0, 2950.0, 3490.0, 5985.0],
    'SM as BG [TYPE=BSM]' : [235.0, 325.0, 445.0, 585.0, 750.0, 940.0, 1155.0, 1395.0, 1665.0, 2010.0, 2450.0, 2950.0, 3490.0, 5985.0],
}
xedges = {
    'ATLAS Data' : [200.0, 270.0, 380.0, 510.0, 660.0, 840.0, 1040.0, 1270.0, 1520.0, 1810.0, 2210.0, 2690.0, 3210.0, 3770.0, 8200.0],
    'Theory [TYPE=BSM]' : [200.0, 270.0, 380.0, 510.0, 660.0, 840.0, 1040.0, 1270.0, 1520.0, 1810.0, 2210.0, 2690.0, 3210.0, 3770.0, 8200.0],
    'SM as BG [TYPE=BSM]' : [200.0, 270.0, 380.0, 510.0, 660.0, 840.0, 1040.0, 1270.0, 1520.0, 1810.0, 2210.0, 2690.0, 3210.0, 3770.0, 8200.0],
}
ref_xerrs = [
  [abs(xpoints['ATLAS Data'][i]   - xedges['ATLAS Data'][i]) for i in range(len(xpoints['ATLAS Data']))],
  [abs(xedges['ATLAS Data'][i+1] - xpoints['ATLAS Data'][i]) for i in range(len(xpoints['ATLAS Data']))]
]

yvals = {
    'ATLAS Data' : [4.0047, 3.7114, 2.5042, 1.4273, 0.80927, 0.42642, 0.22374, 0.11567, 0.057676, 0.02717, 0.016436, 0.0058862, 0.0022732, 0.00026484],
    'Theory [TYPE=BSM]' : [4.2504, 4.0999, 2.905, 1.7402, 0.95752, 0.50347, 0.2664, 0.1387, 0.073867, 0.034967, 0.01555, 0.0064913, 0.0027581, 0.00024945],
    'SM as BG [TYPE=BSM]' : [4.25043603403, 4.0999458615, 2.90503880588, 1.7403008952999999, 0.95760407941, 0.5035204476499999, 0.26647676816000004, 0.13873026858999998, 0.07391918722, 0.03498591787, 0.01555, 0.006496150735, 0.0027581, 0.00024945],
}
xerrs = {
    'ATLAS Data' : [
        [35.0, 55.0, 65.0, 75.0, 90.0, 100.0, 115.0, 125.0, 145.0, 200.0, 240.0, 260.0, 280.0, 2215.0],
        [35.0, 55.0, 65.0, 75.0, 90.0, 100.0, 115.0, 125.0, 145.0, 200.0, 240.0, 260.0, 280.0, 2215.0],
    ],
    'Theory [TYPE=BSM]' : [
        [35.0, 55.0, 65.0, 75.0, 90.0, 100.0, 115.0, 125.0, 145.0, 200.0, 240.0, 260.0, 280.0, 2215.0],
        [35.0, 55.0, 65.0, 75.0, 90.0, 100.0, 115.0, 125.0, 145.0, 200.0, 240.0, 260.0, 280.0, 2215.0],
    ],
    'SM as BG [TYPE=BSM]' : [
        [35.0, 55.0, 65.0, 75.0, 90.0, 100.0, 115.0, 125.0, 145.0, 200.0, 240.0, 260.0, 280.0, 2215.0],
        [35.0, 55.0, 65.0, 75.0, 90.0, 100.0, 115.0, 125.0, 145.0, 200.0, 240.0, 260.0, 280.0, 2215.0],
    ],
}
yerrs = {
    'ATLAS Data' : [
        [0.24127889625440138, 0.1972126430976621, 0.1486597847705586, 0.09395712322974266, 0.04027575370007494, 0.026898845430862305, 0.009748376299381451, 0.007749396028905647, 0.0049148033031296565, 0.005005899451419751, 0.0014910402232046068, 0.0007109718325000519, 0.00025451392274294303, 4.696375581960971e-05],
        [0.24127889625440138, 0.1972126430976621, 0.1486597847705586, 0.09395712322974266, 0.04027575370007494, 0.026898845430862305, 0.009748376299381451, 0.007749396028905647, 0.0049148033031296565, 0.005005899451419751, 0.0014910402232046068, 0.0007109718325000519, 0.00025451392274294303, 4.696375581960971e-05],
    ],
    'Theory [TYPE=BSM]' : [
        [0.7602981, 0.7406643, 0.5262287, 0.3136401, 0.1708111, 0.08652488, 0.04390589, 0.02103735, 0.01050215, 0.004765953, 0.002080748, 0.0009067581, 0.0004504231, 4.76057e-05],
        [0.7602981, 0.7406643, 0.5262287, 0.3136401, 0.1708111, 0.08652488, 0.04390589, 0.02103735, 0.01050215, 0.004765953, 0.002080748, 0.0009067581, 0.0004504231, 4.76057e-05],
    ],
    'SM as BG [TYPE=BSM]' : [
        [0.7602981008539094, 0.7406643007099295, 0.526228700715419, 0.3136401027047614, 0.1708111034489118, 0.0865248836766366, 0.043905899587634745, 0.021037357258419993, 0.010502171610672363, 0.004765965515353171, 0.002080748, 0.0009067710744976651, 0.0004504231, 4.76057e-05],
        [0.7602981008539094, 0.7406643007099295, 0.526228700715419, 0.3136401027047614, 0.1708111034489118, 0.0865248836766366, 0.043905899587634745, 0.021037357258419993, 0.010502171610672363, 0.004765965515353171, 0.002080748, 0.0009067710744976651, 0.0004504231, 4.76057e-05],
    ],
}
variation_yvals = {
}


# lists for ratio plot
ratio0_yvals = {
    'ATLAS Data' : [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],
    'Theory [TYPE=BSM]' : [1.018323623881872, 1.9699548360477586, 2.6960889296227237, 3.3302424472373553, 3.6808746300314215, 2.8644352114681055, 4.376113384411194, 2.9718445042809667, 3.294333262470519, 1.5575622474376005, -0.5942160286566722, 0.8510885696726329, 1.9052002922832043, -0.3276995149006781],
    'SM as BG [TYPE=BSM]' : [1.0184729698485488, 1.970187384525787, 2.6963499678050398, 3.331316291311457, 3.682962223739192, 2.866310669287647, 4.38398835329241, 2.9757504331929865, 3.304951636550061, 1.5613413624964612, -0.5942160286566722, 0.857911252060686, 1.9052002922832043, -0.3276995149006781],
}
ratio0_yerrs = {
    'ATLAS Data' : [
        [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
        [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
    ],
    'Theory [TYPE=BSM]' : [
        [3.1511172829568626, 3.755663371101487, 3.5398187937119707, 3.3381194444735343, 4.241040435195684, 3.216676352239489, 4.503918257934493, 2.7147083361760838, 2.136840347875656, 0.9520672650842601, 1.395500917827668, 1.2753783744307954, 1.7697385476822172, 1.0136689276482918],
        [3.1511172829568626, 3.755663371101487, 3.5398187937119707, 3.3381194444735343, 4.241040435195684, 3.216676352239489, 4.503918257934493, 2.7147083361760838, 2.136840347875656, 0.9520672650842601, 1.395500917827668, 1.2753783744307954, 1.7697385476822172, 1.0136689276482918],
    ],
    'SM as BG [TYPE=BSM]' : [
        [3.151117286495959, 3.7556633747013044, 3.5398187985244296, 3.338119473260723, 4.241040520828142, 3.216676488923296, 4.503919241445433, 2.7147092728193996, 2.1368447449330827, 0.9520697652050261, 1.395500917827668, 1.2753966233923886, 1.7697385476822172, 1.0136689276482918],
        [3.151117286495959, 3.7556633747013044, 3.5398187985244296, 3.338119473260723, 4.241040520828142, 3.216676488923296, 4.503919241445433, 2.7147092728193996, 2.1368447449330827, 0.9520697652050261, 1.395500917827668, 1.2753966233923886, 1.7697385476822172, 1.0136689276482918],
    ],
}
ratio0_variation_vals = {
}
ratio_band_edges = {
    'ratio0_ATLAS Data_1sigma-band_dn' : [-1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0],
    'ratio0_ATLAS Data_1sigma-band_up' : [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
    'ratio0_Theory [TYPE=BSM]_1sigma-band_dn' : [-2.1327936590749905, -2.1327936590749905, -1.7857085350537285, -0.8437298640892473, -0.007876997236179092, -0.5601658051642624, -0.3522411407713832, -0.12780487352329897, 0.257136168104883, 1.1574929145948625, 0.6054949823533404, -1.9897169464843403, -0.4242898047581625, 0.13546174460098706, -1.3413684425489698],
    'ratio0_Theory [TYPE=BSM]_1sigma-band_up' : [4.169440906838735, 4.169440906838735, 5.725618207149246, 6.2359077233346945, 6.66836189171089, 7.921915065227105, 6.081111563707594, 8.880031642345687, 5.68655284045705, 5.431173610346176, 2.5096295125218604, 0.8012848891709958, 2.1264669441034285, 3.6749388399654213, 0.6859694127476137],
    'ratio0_SM as BG [TYPE=BSM]_1sigma-band_dn' : [-2.1326443166474105, -2.1326443166474105, -1.7854759901755173, -0.8434688307193895, -0.006803181949265853, -0.5580782970889501, -0.3503658196356489, -0.11993088815302282, 0.26104116037358666, 1.1681068916169783, 0.609271597291435, -1.9897169464843403, -0.41748537133170266, 0.13546174460098706, -1.3413684425489698],
    'ratio0_SM as BG [TYPE=BSM]_1sigma-band_up' : [4.169590256344509, 4.169590256344509, 5.725850759227092, 6.236168766329469, 6.66943576457218, 7.924002744567335, 6.082987158210943, 8.887907594737843, 5.690459706012386, 5.441796381483144, 2.5134111277014872, 0.8012848891709958, 2.1333078754530748, 3.6749388399654213, 0.6859694127476137],
}