
import numpy as np
from numpy import nan

add_legend_handle = [
    'ATLAS Data',
    'Theory',
    'SM as BG'
]

xpoints = {
    'ATLAS Data' : [850.0, 950.0, 1050.0, 1150.0, 1250.0, 1350.0, 1450.0, 1550.0, 1650.0, 1750.0, 1850.0, 1950.0, 2050.0, 2150.0, 2250.0, 2350.0, 2450.0, 2550.0, 2650.0, 2750.0, 2850.0, 2950.0, 3050.0, 3150.0, 3250.0, 3350.0, 3450.0, 3550.0],
    'Theory' : [850.0, 950.0, 1050.0, 1150.0, 1250.0, 1350.0, 1450.0, 1550.0, 1650.0, 1750.0, 1850.0, 1950.0, 2050.0, 2150.0, 2250.0, 2350.0, 2450.0, 2550.0, 2650.0, 2750.0, 2850.0, 2950.0, 3050.0, 3150.0, 3250.0, 3350.0, 3450.0, 3550.0],
    'SM as BG' : [850.0, 950.0, 1050.0, 1150.0, 1250.0, 1350.0, 1450.0, 1550.0, 1650.0, 1750.0, 1850.0, 1950.0, 2050.0, 2150.0, 2250.0, 2350.0, 2450.0, 2550.0, 2650.0, 2750.0, 2850.0, 2950.0, 3050.0, 3150.0, 3250.0, 3350.0, 3450.0, 3550.0],
}
xedges = {
    'ATLAS Data' : [800.0, 900.0, 1000.0, 1100.0, 1200.0, 1300.0, 1400.0, 1500.0, 1600.0, 1700.0, 1800.0, 1900.0, 2000.0, 2100.0, 2200.0, 2300.0, 2400.0, 2500.0, 2600.0, 2700.0, 2800.0, 2900.0, 3000.0, 3100.0, 3200.0, 3300.0, 3400.0, 3500.0, 3600.0],
    'Theory' : [800.0, 900.0, 1000.0, 1100.0, 1200.0, 1300.0, 1400.0, 1500.0, 1600.0, 1700.0, 1800.0, 1900.0, 2000.0, 2100.0, 2200.0, 2300.0, 2400.0, 2500.0, 2600.0, 2700.0, 2800.0, 2900.0, 3000.0, 3100.0, 3200.0, 3300.0, 3400.0, 3500.0, 3600.0],
    'SM as BG' : [800.0, 900.0, 1000.0, 1100.0, 1200.0, 1300.0, 1400.0, 1500.0, 1600.0, 1700.0, 1800.0, 1900.0, 2000.0, 2100.0, 2200.0, 2300.0, 2400.0, 2500.0, 2600.0, 2700.0, 2800.0, 2900.0, 3000.0, 3100.0, 3200.0, 3300.0, 3400.0, 3500.0, 3600.0],
}
ref_xerrs = [
  [abs(xpoints['ATLAS Data'][i]   - xedges['ATLAS Data'][i]) for i in range(len(xpoints['ATLAS Data']))],
  [abs(xedges['ATLAS Data'][i+1] - xpoints['ATLAS Data'][i]) for i in range(len(xpoints['ATLAS Data']))]
]

yvals = {
    'ATLAS Data' : [15.0, 21.0, 27.0, 26.0, 23.0, 20.0, 17.0, 21.0, 13.0, 10.0, 13.0, 5.0, 6.0, 2.0, 4.0, 3.0, 3.0, 2.0, 2.0, 2.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 2.0],
    'Theory' : [7.636, 22.72, 28.58, 28.62, 26.53, 22.5, 18.32, 15.68, 12.96, 10.87, 8.497, 6.827, 4.935, 3.795, 2.786, 2.333, 1.74, 1.612, 1.44, 0.896, 0.601, 0.7839, 0.4612, 0.345, 0.2209, 0.2364, 0.1666, 0.7301],
    'SM as BG' : [7.636, 22.72, 28.58, 28.62, 26.53, 22.5, 18.32, 15.69614325, 12.96, 10.87, 8.505071624, 6.827, 4.935, 3.795, 2.786, 2.333, 1.74, 1.612, 1.44, 0.896, 0.601, 0.7839, 0.4612, 0.345, 0.2209, 0.2364, 0.1666, 0.738171624],
}
xerrs = {
    'ATLAS Data' : [
        [50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0],
        [50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0],
    ],
    'Theory' : [
        [50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0],
        [50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0],
    ],
    'SM as BG' : [
        [50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0],
        [50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0],
    ],
}
yerrs = {
    'ATLAS Data' : [
        [3.872983346207417, 4.58257569495584, 5.196152422706632, 5.0990195135927845, 4.795831523312719, 4.47213595499958, 4.123105625617661, 4.58257569495584, 3.605551275463989, 3.1622776601683795, 3.605551275463989, 2.23606797749979, 2.449489742783178, 1.4142135623730951, 2.0, 1.7320508075688772, 1.7320508075688772, 1.4142135623730951, 1.4142135623730951, 1.4142135623730951, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.4142135623730951],
        [3.872983346207417, 4.58257569495584, 5.196152422706632, 5.0990195135927845, 4.795831523312719, 4.47213595499958, 4.123105625617661, 4.58257569495584, 3.605551275463989, 3.1622776601683795, 3.605551275463989, 2.23606797749979, 2.449489742783178, 1.4142135623730951, 2.0, 1.7320508075688772, 1.7320508075688772, 1.4142135623730951, 1.4142135623730951, 1.4142135623730951, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.4142135623730951],
    ],
    'Theory' : [
        [1.253689, 1.843506, 3.309202, 4.234804, 3.390162, 3.234367, 2.638292, 3.083596, 2.078541, 1.43164, 1.081434, 1.037116, 0.5736544, 0.3775997, 0.456202, 0.394676, 0.4413096, 0.269306, 0.2482401, 0.4482059, 0.2082266, 0.2588697, 0.163576, 0.19396, 0.2244595, 0.1039347, 0.129977, 0.120232],
        [1.648499, 1.191981, 3.581394, 4.139658, 3.390162, 3.290702, 2.829431, 3.090529, 1.953134, 1.701644, 1.063973, 1.515977, 0.4681498, 0.5784465, 0.2883821, 0.4726112, 0.4350399, 0.3469077, 0.2665894, 0.3523326, 0.2069039, 0.3761995, 0.1729622, 0.1095018, 0.2028871, 0.1102404, 0.1375434, 0.1231727],
    ],
    'SM as BG' : [
        [1.253689, 1.843506, 3.309202, 4.234804, 3.390162, 3.234367, 2.638292, 3.0836171282182554, 2.078541, 1.43164, 1.0814641221372059, 1.037116, 0.5736544, 0.3775997, 0.456202, 0.394676, 0.4413096, 0.269306, 0.2482401, 0.4482059, 0.2082266, 0.2588697, 0.163576, 0.19396, 0.2244595, 0.1039347, 0.129977, 0.12050263456869886],
        [1.648499, 1.191981, 3.581394, 4.139658, 3.390162, 3.290702, 2.829431, 3.0905500808215356, 1.953134, 1.701644, 1.064003616461428, 1.515977, 0.4681498, 0.5784465, 0.2883821, 0.4726112, 0.4350399, 0.3469077, 0.2665894, 0.3523326, 0.2069039, 0.3761995, 0.1729622, 0.1095018, 0.2028871, 0.1102404, 0.1375434, 0.12343688727154203],
    ],
}
variation_yvals = {
}


# lists for ratio plot
ratio0_yvals = {
    'ATLAS Data' : [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],
    'Theory' : [-1.9013766240980945, 0.37533477120590664, 0.30407114177320255, 0.5138242740620423, 0.7360558816214742, 0.5590169943749475, 0.3201470250479596, -1.1609191760554796, -0.011094003924504346, 0.27511815643464876, -1.2489074918011034, 0.8170592389784231, -0.4347844293440143, 1.2692566722298526, -0.607, -0.3850926295494803, -0.7274613391789285, -0.27435743110038036, -0.3959797974644666, -0.7806458864299485, 0.601, 0.7839, 0.4612, 0.345, 0.2209, 0.2364, 0.1666, -0.8979549014287966],
    'SM as BG' : [-1.9013766240980945, 0.37533477120590664, 0.30407114177320255, 0.5138242740620423, 0.7360558816214742, 0.5590169943749475, 0.3201470250479596, -1.1573964300989272, -0.011094003924504346, 0.27511815643464876, -1.2466688260927754, 0.8170592389784231, -0.4347844293440143, 1.2692566722298526, -0.607, -0.3850926295494803, -0.7274613391789285, -0.27435743110038036, -0.3959797974644666, -0.7806458864299485, 0.601, 0.7839, 0.4612, 0.345, 0.2209, 0.2364, 0.1666, -0.8922474013632086],
}
ratio0_yerrs = {
    'ATLAS Data' : [
        [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
        [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
    ],
    'Theory' : [
        [0.37467085971876696, 0.3311987844893909, 0.6630479092461598, 0.8211835606507935, 0.7068976429885607, 0.7295248920938288, 0.6630588076652667, 0.6736522657766483, 0.5590927284040876, 0.4954156998081509, 0.29751442097074504, 0.570888950087887, 0.21265739182403626, 0.3380133755738151, 0.186146025, 0.25036424919235845, 0.25298030986459696, 0.21786444296502638, 0.1820197153024398, 0.2830331009754535, 0.20756525, 0.3175346, 0.1682691, 0.1517309, 0.2136733, 0.10708755, 0.1337602, 0.08605655697133861],
        [0.37467085971876696, 0.3311987844893909, 0.6630479092461598, 0.8211835606507935, 0.7068976429885607, 0.7295248920938288, 0.6630588076652667, 0.6736522657766483, 0.5590927284040876, 0.4954156998081509, 0.29751442097074504, 0.570888950087887, 0.21265739182403626, 0.3380133755738151, 0.186146025, 0.25036424919235845, 0.25298030986459696, 0.21786444296502638, 0.1820197153024398, 0.2830331009754535, 0.20756525, 0.3175346, 0.1682691, 0.1517309, 0.2136733, 0.10708755, 0.1337602, 0.08605655697133861],
    ],
    'SM as BG' : [
        [0.37467085971876696, 0.3311987844893909, 0.6630479092461598, 0.8211835606507935, 0.7068976429885607, 0.7295248920938288, 0.6630588076652667, 0.6736568711604543, 0.5590927284040876, 0.4954156998081509, 0.2975228438988902, 0.570888950087887, 0.21265739182403626, 0.3380133755738151, 0.186146025, 0.25036424919235845, 0.25298030986459696, 0.21786444296502638, 0.1820197153024398, 0.2830331009754535, 0.20756525, 0.3175346, 0.1682691, 0.1517309, 0.2136733, 0.10708755, 0.1337602, 0.08624564504631912],
        [0.37467085971876696, 0.3311987844893909, 0.6630479092461598, 0.8211835606507935, 0.7068976429885607, 0.7295248920938288, 0.6630588076652667, 0.6736568711604543, 0.5590927284040876, 0.4954156998081509, 0.2975228438988902, 0.570888950087887, 0.21265739182403626, 0.3380133755738151, 0.186146025, 0.25036424919235845, 0.25298030986459696, 0.21786444296502638, 0.1820197153024398, 0.2830331009754535, 0.20756525, 0.3175346, 0.1682691, 0.1517309, 0.2136733, 0.10708755, 0.1337602, 0.08624564504631912],
    ],
}
ratio0_variation_vals = {
}
ratio_band_edges = {
    'ratio0_ATLAS Data_1sigma-band_dn' : [-1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0],
    'ratio0_ATLAS Data_1sigma-band_up' : [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
    'ratio0_Theory_1sigma-band_dn' : [-2.2760474838168614, -2.2760474838168614, 0.044135986716515765, -0.3589767674729572, -0.30735928658875106, 0.029158238632913436, -0.17050789771888136, -0.34291178261730715, -1.834571441832128, -0.570186732328592, -0.2202975433735022, -1.5464219127718486, 0.24617028889053616, -0.6474418211680506, 0.9312432966560377, -0.793146025, -0.6354568787418386, -0.9804416490435255, -0.4922218740654067, -0.5779995127669064, -1.063678987405402, 0.39343474999999994, 0.46636540000000004, 0.2929309, 0.19326909999999997, 0.0072267000000000026, 0.12931245, 0.0328398, -0.9840114584001354],
    'ratio0_Theory_1sigma-band_up' : [-1.5267057643793274, -1.5267057643793274, 0.7065335556952975, 0.9671190510193624, 1.3350078347128358, 1.442953524610035, 1.288541886468776, 0.9832058327132264, -0.4872669102788313, 0.5479987244795833, 0.7705338562427997, -0.9513930708303583, 1.3879481890663101, -0.22212703751997806, 1.607270047803668, -0.420853975, -0.13472838035712187, -0.47448102931433156, -0.05649298813535395, -0.21396008216202683, -0.497612785454495, 0.80856525, 1.1014346000000002, 0.6294691, 0.4967309, 0.43457330000000005, 0.34348755, 0.30036019999999997, -0.811898344457458],
    'ratio0_SM as BG_1sigma-band_dn' : [-2.2760474838168614, -2.2760474838168614, 0.044135986716515765, -0.3589767674729572, -0.30735928658875106, 0.029158238632913436, -0.17050789771888136, -0.34291178261730715, -1.8310533012593815, -0.570186732328592, -0.2202975433735022, -1.5441916699916656, 0.24617028889053616, -0.6474418211680506, 0.9312432966560377, -0.793146025, -0.6354568787418386, -0.9804416490435255, -0.4922218740654067, -0.5779995127669064, -1.063678987405402, 0.39343474999999994, 0.46636540000000004, 0.2929309, 0.19326909999999997, 0.0072267000000000026, 0.12931245, 0.0328398, -0.9784930464095276],
    'ratio0_SM as BG_1sigma-band_up' : [-1.5267057643793274, -1.5267057643793274, 0.7065335556952975, 0.9671190510193624, 1.3350078347128358, 1.442953524610035, 1.288541886468776, 0.9832058327132264, -0.483739558938473, 0.5479987244795833, 0.7705338562427997, -0.9491459821938852, 1.3879481890663101, -0.22212703751997806, 1.607270047803668, -0.420853975, -0.13472838035712187, -0.47448102931433156, -0.05649298813535395, -0.21396008216202683, -0.497612785454495, 0.80856525, 1.1014346000000002, 0.6294691, 0.4967309, 0.43457330000000005, 0.34348755, 0.30036019999999997, -0.8060017563168894],
}