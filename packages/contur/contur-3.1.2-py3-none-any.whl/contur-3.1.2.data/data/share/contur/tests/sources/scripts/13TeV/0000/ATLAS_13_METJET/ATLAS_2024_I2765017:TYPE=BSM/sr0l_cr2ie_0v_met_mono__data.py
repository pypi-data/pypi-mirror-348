
import numpy as np
from numpy import nan

add_legend_handle = [
    'ATLAS Data',
    'Theory [TYPE=BSM]',
    'SM as BG [TYPE=BSM]'
]

xpoints = {
    'ATLAS Data' : [220.0, 270.0, 340.0, 425.0, 520.0, 620.0, 730.0, 850.0, 975.0, 1820.0],
    'Theory [TYPE=BSM]' : [220.0, 270.0, 340.0, 425.0, 520.0, 620.0, 730.0, 850.0, 975.0, 1820.0],
    'SM as BG [TYPE=BSM]' : [220.0, 270.0, 340.0, 425.0, 520.0, 620.0, 730.0, 850.0, 975.0, 1820.0],
}
xedges = {
    'ATLAS Data' : [200.0, 240.0, 300.0, 380.0, 470.0, 570.0, 670.0, 790.0, 910.0, 1040.0, 2600.0],
    'Theory [TYPE=BSM]' : [200.0, 240.0, 300.0, 380.0, 470.0, 570.0, 670.0, 790.0, 910.0, 1040.0, 2600.0],
    'SM as BG [TYPE=BSM]' : [200.0, 240.0, 300.0, 380.0, 470.0, 570.0, 670.0, 790.0, 910.0, 1040.0, 2600.0],
}
ref_xerrs = [
  [abs(xpoints['ATLAS Data'][i]   - xedges['ATLAS Data'][i]) for i in range(len(xpoints['ATLAS Data']))],
  [abs(xedges['ATLAS Data'][i+1] - xpoints['ATLAS Data'][i]) for i in range(len(xpoints['ATLAS Data']))]
]

yvals = {
    'ATLAS Data' : [22.318, 9.9848, 3.3584, 1.0719, 0.35995, 0.12195, 0.045582, 0.016139, 0.0061576, 0.00044014],
    'Theory [TYPE=BSM]' : [19.916, 8.727, 3.0294, 0.97139, 0.32305, 0.11532, 0.043319, 0.016299, 0.0065113, 0.0004182],
    'SM as BG [TYPE=BSM]' : [19.91606305956, 8.727, 3.02946305956, 0.97139, 0.32305, 0.11532, 0.043319, 0.016299, 0.0065113, 0.0004182],
}
xerrs = {
    'ATLAS Data' : [
        [20.0, 30.0, 40.0, 45.0, 50.0, 50.0, 60.0, 60.0, 65.0, 780.0],
        [20.0, 30.0, 40.0, 45.0, 50.0, 50.0, 60.0, 60.0, 65.0, 780.0],
    ],
    'Theory [TYPE=BSM]' : [
        [20.0, 30.0, 40.0, 45.0, 50.0, 50.0, 60.0, 60.0, 65.0, 780.0],
        [20.0, 30.0, 40.0, 45.0, 50.0, 50.0, 60.0, 60.0, 65.0, 780.0],
    ],
    'SM as BG [TYPE=BSM]' : [
        [20.0, 30.0, 40.0, 45.0, 50.0, 50.0, 60.0, 60.0, 65.0, 780.0],
        [20.0, 30.0, 40.0, 45.0, 50.0, 50.0, 60.0, 60.0, 65.0, 780.0],
    ],
}
yerrs = {
    'ATLAS Data' : [
        [1.1479476284770014, 0.49081121399434213, 0.16207482582603167, 0.05219366453184775, 0.019403898040805164, 0.007226769308736537, 0.003393519359408043, 0.001639485612651684, 0.0008394675870408672, 7.480998874752599e-05],
        [1.1479476284770014, 0.49081121399434213, 0.16207482582603167, 0.05219366453184775, 0.019403898040805164, 0.007226769308736537, 0.003393519359408043, 0.001639485612651684, 0.0008394675870408672, 7.480998874752599e-05],
    ],
    'Theory [TYPE=BSM]' : [
        [1.086599, 0.4829498, 0.1661561, 0.05112596, 0.0158473, 0.005671128, 0.002246988, 0.0009398886, 0.0004214838, 3.204688e-05],
        [1.086599, 0.4829498, 0.1661561, 0.05112596, 0.0158473, 0.005671128, 0.002246988, 0.0009398886, 0.0004214838, 3.204688e-05],
    ],
    'SM as BG [TYPE=BSM]' : [
        [1.0865990018297957, 0.4829498, 0.16615610598309, 0.05112596, 0.0158473, 0.005671128, 0.002246988, 0.0009398886, 0.0004214838, 3.204688e-05],
        [1.0865990018297957, 0.4829498, 0.16615610598309, 0.05112596, 0.0158473, 0.005671128, 0.002246988, 0.0009398886, 0.0004214838, 3.204688e-05],
    ],
}
variation_yvals = {
}


# lists for ratio plot
ratio0_yvals = {
    'ATLAS Data' : [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],
    'Theory [TYPE=BSM]' : [-2.0924299509959083, -2.562696132722222, -2.0299265991693436, -1.9257126492559358, -1.9016797512748023, -0.9174223939852213, -0.6668593163395851, 0.09759158529071711, 0.4213384834151807, -0.2932763440727772],
    'SM as BG [TYPE=BSM]' : [-2.0923750185595895, -2.562696132722222, -2.0295375223359824, -1.9257126492559358, -1.9016797512748023, -0.9174223939852213, -0.6668593163395851, 0.09759158529071711, 0.4213384834151807, -0.2932763440727772],
}
ratio0_yerrs = {
    'ATLAS Data' : [
        [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
        [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
    ],
    'Theory [TYPE=BSM]' : [
        [0.9465579901424654, 0.983982815041319, 1.0251814194657787, 0.9795434073958104, 0.8167070331267531, 0.7847390386661572, 0.6621409109603427, 0.5732826154417029, 0.5020846623581205, 0.4283770193864627],
        [0.9465579901424654, 0.983982815041319, 1.0251814194657787, 0.9795434073958104, 0.8167070331267531, 0.7847390386661572, 0.6621409109603427, 0.5732826154417029, 0.5020846623581205, 0.4283770193864627],
    ],
    'SM as BG [TYPE=BSM]' : [
        [0.9465579917364368, 0.983982815041319, 1.0251814563813821, 0.9795434073958104, 0.8167070331267531, 0.7847390386661572, 0.6621409109603427, 0.5732826154417029, 0.5020846623581205, 0.4283770193864627],
        [0.9465579917364368, 0.983982815041319, 1.0251814563813821, 0.9795434073958104, 0.8167070331267531, 0.7847390386661572, 0.6621409109603427, 0.5732826154417029, 0.5020846623581205, 0.4283770193864627],
    ],
}
ratio0_variation_vals = {
}
ratio_band_edges = {
    'ratio0_ATLAS Data_1sigma-band_dn' : [-1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0],
    'ratio0_ATLAS Data_1sigma-band_up' : [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
    'ratio0_Theory [TYPE=BSM]_1sigma-band_dn' : [-3.0389879411383736, -3.0389879411383736, -3.5466789477635414, -3.0551080186351225, -2.9052560566517465, -2.7183867844015555, -1.7021614326513788, -1.3290002272999277, -0.4756910301509858, -0.08074617894293987, -0.7216533634592399],
    'ratio0_Theory [TYPE=BSM]_1sigma-band_up' : [-1.1458719608534427, -1.1458719608534427, -1.5787133176809032, -1.004745179703565, -0.9461692418601254, -1.0849727181480493, -0.13268335531906406, -0.004718405379242382, 0.67087420073242, 0.9234231457733013, 0.1351006753136855],
    'ratio0_SM as BG [TYPE=BSM]_1sigma-band_dn' : [-3.038933010296026, -3.038933010296026, -3.5466789477635414, -3.0547189787173648, -2.9052560566517465, -2.7183867844015555, -1.7021614326513788, -1.3290002272999277, -0.4756910301509858, -0.08074617894293987, -0.7216533634592399],
    'ratio0_SM as BG [TYPE=BSM]_1sigma-band_up' : [-1.1458170268231525, -1.1458170268231525, -1.5787133176809032, -1.0043560659546003, -0.9461692418601254, -1.0849727181480493, -0.13268335531906406, -0.004718405379242382, 0.67087420073242, 0.9234231457733013, 0.1351006753136855],
}