
import numpy as np
from numpy import nan

add_legend_handle = [
    'ATLAS Data',
    'Theory [TYPE=BSM]',
    'SM as BG [TYPE=BSM]'
]

xpoints = {
    'ATLAS Data' : [220.0, 270.0, 340.0, 425.0, 520.0, 620.0, 730.0, 850.0, 975.0, 1110.0, 1890.0],
    'Theory [TYPE=BSM]' : [220.0, 270.0, 340.0, 425.0, 520.0, 620.0, 730.0, 850.0, 975.0, 1110.0, 1890.0],
    'SM as BG [TYPE=BSM]' : [220.0, 270.0, 340.0, 425.0, 520.0, 620.0, 730.0, 850.0, 975.0, 1110.0, 1890.0],
}
xedges = {
    'ATLAS Data' : [200.0, 240.0, 300.0, 380.0, 470.0, 570.0, 670.0, 790.0, 910.0, 1040.0, 1180.0, 2600.0],
    'Theory [TYPE=BSM]' : [200.0, 240.0, 300.0, 380.0, 470.0, 570.0, 670.0, 790.0, 910.0, 1040.0, 1180.0, 2600.0],
    'SM as BG [TYPE=BSM]' : [200.0, 240.0, 300.0, 380.0, 470.0, 570.0, 670.0, 790.0, 910.0, 1040.0, 1180.0, 2600.0],
}
ref_xerrs = [
  [abs(xpoints['ATLAS Data'][i]   - xedges['ATLAS Data'][i]) for i in range(len(xpoints['ATLAS Data']))],
  [abs(xedges['ATLAS Data'][i+1] - xpoints['ATLAS Data'][i]) for i in range(len(xpoints['ATLAS Data']))]
]

yvals = {
    'ATLAS Data' : [3.112, 2.515, 2.1567, 1.9189, 1.5911, 1.5824, 1.344, 1.4161, 0.93652, 1.0705, 1.7928],
    'Theory [TYPE=BSM]' : [2.8746, 2.3871, 1.9667, 1.6719, 1.4811, 1.3553, 1.2362, 1.185, 1.1288, 1.0489, 0.9597],
    'SM as BG [TYPE=BSM]' : [2.877109, 2.389244, 1.968544, 1.673205, 1.482873, 1.356937, 1.238455, 1.180137, 1.113205, 1.022641, 0.9045919],
}
xerrs = {
    'ATLAS Data' : [
        [20.0, 30.0, 40.0, 45.0, 50.0, 50.0, 60.0, 60.0, 65.0, 70.0, 710.0],
        [20.0, 30.0, 40.0, 45.0, 50.0, 50.0, 60.0, 60.0, 65.0, 70.0, 710.0],
    ],
    'Theory [TYPE=BSM]' : [
        [20.0, 30.0, 40.0, 45.0, 50.0, 50.0, 60.0, 60.0, 65.0, 70.0, 710.0],
        [20.0, 30.0, 40.0, 45.0, 50.0, 50.0, 60.0, 60.0, 65.0, 70.0, 710.0],
    ],
    'SM as BG [TYPE=BSM]' : [
        [20.0, 30.0, 40.0, 45.0, 50.0, 50.0, 60.0, 60.0, 65.0, 70.0, 710.0],
        [20.0, 30.0, 40.0, 45.0, 50.0, 50.0, 60.0, 60.0, 65.0, 70.0, 710.0],
    ],
}
yerrs = {
    'ATLAS Data' : [
        [0.10764257884313475, 0.06538288749890991, 0.04743897580446087, 0.0713897724804723, 0.0683974120867742, 0.10626785096192569, 0.0830742839323288, 0.15550222766613903, 0.17232888790094716, 0.21045506216295737, 6.64808905855429],
        [0.10764257884313475, 0.06538288749890991, 0.04743897580446087, 0.0713897724804723, 0.0683974120867742, 0.10626785096192569, 0.0830742839323288, 0.15550222766613903, 0.17232888790094716, 0.21045506216295737, 6.64808905855429],
    ],
    'Theory [TYPE=BSM]' : [
        [0.1433714, 0.1011772, 0.07106044, 0.05618908, 0.05182423, 0.05721136, 0.0609253, 0.074086, 0.07638371, 0.08751677, 0.1267888],
        [0.1433714, 0.1011772, 0.07106044, 0.05618908, 0.05182423, 0.05721136, 0.0609253, 0.074086, 0.07638371, 0.08751677, 0.1267888],
    ],
    'SM as BG [TYPE=BSM]' : [
        [0.14337210575450776, 0.10117792199366431, 0.07106151755745922, 0.056192074583025345, 0.05183107093683184, 0.057204986506374386, 0.060969929067749, 0.07407981191925452, 0.07646633973375043, 0.08797907766423342, 0.1276546816062586],
        [0.14337210575450776, 0.10117792199366431, 0.07106151755745922, 0.056192074583025345, 0.05183107093683184, 0.057204986506374386, 0.060969929067749, 0.07407981191925452, 0.07646633973375043, 0.08797907766423342, 0.1276546816062586],
    ],
}
variation_yvals = {
}


# lists for ratio plot
ratio0_yvals = {
    'ATLAS Data' : [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],
    'Theory [TYPE=BSM]' : [-2.205446976014557, -1.9561693417430104, -4.005145490137954, -3.459879355513615, -1.6082479825471385, -2.137052720501207, -1.297633815150457, -1.4861523430787638, 1.1157734628364835, -0.10263473721185655, -0.12531420573074692],
    'SM as BG [TYPE=BSM]' : [-2.182138355699392, -1.9233778869447549, -3.9662744991705057, -3.441599426125171, -1.5823259491557191, -2.1216482497682225, -1.2704894343233286, -1.5174252069662242, 1.0252778982799255, -0.22740721704732583, -0.1336035200757602],
}
ratio0_yerrs = {
    'ATLAS Data' : [
        [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
        [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
    ],
    'Theory [TYPE=BSM]' : [
        [1.331920895437967, 1.547456893849891, 1.4979336883853618, 0.7870746473575014, 0.7576928485868998, 0.5383694078889206, 0.7333833903356777, 0.47643047377470077, 0.4432437934834498, 0.41584540234168815, 0.019071465331358214],
        [1.331920895437967, 1.547456893849891, 1.4979336883853618, 0.7870746473575014, 0.7576928485868998, 0.5383694078889206, 0.7333833903356777, 0.47643047377470077, 0.4432437934834498, 0.41584540234168815, 0.019071465331358214],
    ],
    'SM as BG [TYPE=BSM]' : [
        [1.3319274519002458, 1.547467936397749, 1.4979564029874575, 0.7871165943048203, 0.757792866067432, 0.5383094321430302, 0.7339206091431891, 0.47639067961330284, 0.4437232820634372, 0.41804210723194857, 0.019201710518904916],
        [1.3319274519002458, 1.547467936397749, 1.4979564029874575, 0.7871165943048203, 0.757792866067432, 0.5383094321430302, 0.7339206091431891, 0.47639067961330284, 0.4437232820634372, 0.41804210723194857, 0.019201710518904916],
    ],
}
ratio0_variation_vals = {
}
ratio_band_edges = {
    'ratio0_ATLAS Data_1sigma-band_dn' : [-1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0],
    'ratio0_ATLAS Data_1sigma-band_up' : [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
    'ratio0_Theory [TYPE=BSM]_1sigma-band_dn' : [-3.5373678714525245, -3.5373678714525245, -3.5036262355929013, -5.503079178523316, -4.246954002871116, -2.365940831134038, -2.675422128390127, -2.0310172054861346, -1.9625828168534643, 0.6725296693530337, -0.5184801395535447, -0.14438567106210515],
    'ratio0_Theory [TYPE=BSM]_1sigma-band_up' : [-0.8735260805765899, -0.8735260805765899, -0.40871244789311945, -2.5072118017525917, -2.6728047081561135, -0.8505551339602386, -1.5986833126122864, -0.5642504248147793, -1.009721869304063, 1.5590172563199334, 0.3132106651298316, -0.1062427403993887],
    'ratio0_SM as BG [TYPE=BSM]_1sigma-band_dn' : [-3.5140658075996374, -3.5140658075996374, -3.470845823342504, -5.464230902157963, -4.2287160204299905, -2.340118815223151, -2.659957681911253, -2.004410043466518, -1.993815886579527, 0.5815546162164882, -0.6454493242792743, -0.15280523059466516],
    'ratio0_SM as BG [TYPE=BSM]_1sigma-band_up' : [-0.850210903799146, -0.850210903799146, -0.3759099505470058, -2.468318096183048, -2.6544828318203506, -0.8245330830882871, -1.5833388176251924, -0.5365688251801395, -1.0410345273529213, 1.4690011803433627, 0.1906348901846227, -0.1144018095568553],
}