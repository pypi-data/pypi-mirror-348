
import numpy as np
from numpy import nan

add_legend_handle = [
    'ATLAS Data',
    'Theory [TYPE=BSM]',
    'SM as BG [TYPE=BSM]'
]

xpoints = {
    'ATLAS Data' : [220.0, 270.0, 340.0, 425.0, 520.0, 620.0, 730.0, 850.0, 975.0, 1110.0, 1890.0],
    'Theory [TYPE=BSM]' : [220.0, 270.0, 340.0, 425.0, 520.0, 620.0, 730.0, 850.0, 975.0, 1110.0, 1890.0],
    'SM as BG [TYPE=BSM]' : [220.0, 270.0, 340.0, 425.0, 520.0, 620.0, 730.0, 850.0, 975.0, 1110.0, 1890.0],
}
xedges = {
    'ATLAS Data' : [200.0, 240.0, 300.0, 380.0, 470.0, 570.0, 670.0, 790.0, 910.0, 1040.0, 1180.0, 2600.0],
    'Theory [TYPE=BSM]' : [200.0, 240.0, 300.0, 380.0, 470.0, 570.0, 670.0, 790.0, 910.0, 1040.0, 1180.0, 2600.0],
    'SM as BG [TYPE=BSM]' : [200.0, 240.0, 300.0, 380.0, 470.0, 570.0, 670.0, 790.0, 910.0, 1040.0, 1180.0, 2600.0],
}
ref_xerrs = [
  [abs(xpoints['ATLAS Data'][i]   - xedges['ATLAS Data'][i]) for i in range(len(xpoints['ATLAS Data']))],
  [abs(xedges['ATLAS Data'][i+1] - xpoints['ATLAS Data'][i]) for i in range(len(xpoints['ATLAS Data']))]
]

yvals = {
    'ATLAS Data' : [16.862, 8.3362, 3.1303, 1.0432, 0.38032, 0.13125, 0.056222, 0.017098, 0.0093327, 0.0041662, 0.00011081],
    'Theory [TYPE=BSM]' : [18.855, 9.0194, 3.5383, 1.2059, 0.44347, 0.16579, 0.064796, 0.022824, 0.01085, 0.0042999, 0.00032646],
    'SM as BG [TYPE=BSM]' : [18.85506305956, 9.0195261191, 3.5384891787, 1.2060401324, 0.44349522381999995, 0.16586567147, 0.06481701985, 0.022929099300000002, 0.01094701471, 0.00437196807, 0.00033889428],
}
xerrs = {
    'ATLAS Data' : [
        [20.0, 30.0, 40.0, 45.0, 50.0, 50.0, 60.0, 60.0, 65.0, 70.0, 710.0],
        [20.0, 30.0, 40.0, 45.0, 50.0, 50.0, 60.0, 60.0, 65.0, 70.0, 710.0],
    ],
    'Theory [TYPE=BSM]' : [
        [20.0, 30.0, 40.0, 45.0, 50.0, 50.0, 60.0, 60.0, 65.0, 70.0, 710.0],
        [20.0, 30.0, 40.0, 45.0, 50.0, 50.0, 60.0, 60.0, 65.0, 70.0, 710.0],
    ],
    'SM as BG [TYPE=BSM]' : [
        [20.0, 30.0, 40.0, 45.0, 50.0, 50.0, 60.0, 60.0, 65.0, 70.0, 710.0],
        [20.0, 30.0, 40.0, 45.0, 50.0, 50.0, 60.0, 60.0, 65.0, 70.0, 710.0],
    ],
}
yerrs = {
    'ATLAS Data' : [
        [0.9700512198082406, 0.47139981656692576, 0.16604215894904287, 0.054675274118562496, 0.018726958058050882, 0.009734298612225866, 0.0036143299022793882, 0.0016387412967201974, 0.0011657477022148177, 0.00068802868712326, 7.29542964123883e-05],
        [0.9700512198082406, 0.47139981656692576, 0.16604215894904287, 0.054675274118562496, 0.018726958058050882, 0.009734298612225866, 0.0036143299022793882, 0.0016387412967201974, 0.0011657477022148177, 0.00068802868712326, 7.29542964123883e-05],
    ],
    'Theory [TYPE=BSM]' : [
        [1.569615, 0.7112545, 0.3610553, 0.1188306, 0.05215974, 0.02601899, 0.01161602, 0.004143999, 0.002310923, 0.00119931, 0.0001094303],
        [1.569615, 0.7112545, 0.3610553, 0.1188306, 0.05215974, 0.02601899, 0.01161602, 0.004143999, 0.002310923, 0.00119931, 0.0001094303],
    ],
    'SM as BG [TYPE=BSM]' : [
        [1.5696150012667145, 0.711254503727225, 0.36105530826017745, 0.11883061652526608, 0.052159746098966925, 0.02601902667940479, 0.01161603901829251, 0.004144265542057399, 0.002311330240999042, 0.001199851210533223, 0.00010953117313610156],
        [1.5696150012667145, 0.711254503727225, 0.36105530826017745, 0.11883061652526608, 0.052159746098966925, 0.02601902667940479, 0.01161603901829251, 0.004144265542057399, 0.002311330240999042, 0.001199851210533223, 0.00010953117313610156],
    ],
}
variation_yvals = {
}


# lists for ratio plot
ratio0_yvals = {
    'ATLAS Data' : [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],
    'Theory [TYPE=BSM]' : [2.054530687971278, 1.4493005215308645, 2.457207269421329, 2.9757509701220264, 3.372144039851216, 3.548278245401185, 2.372223961789649, 3.4941451780461676, 1.3015680812557167, 0.19432329276707516, 2.9559602464123094],
    'SM as BG [TYPE=BSM]' : [2.0545956943943526, 1.4495680632132506, 2.4583466107861804, 2.978313964130913, 3.373490965492945, 3.5560519405603794, 2.3780396594620563, 3.558279340168248, 1.3847890988186764, 0.2990690269912201, 3.1263995572064647],
}
ratio0_yerrs = {
    'ATLAS Data' : [
        [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
        [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
    ],
    'Theory [TYPE=BSM]' : [
        [1.6180743531359931, 1.5088136970011348, 2.1744796760370075, 2.1733882804559452, 2.785275635173224, 2.6729188240970183, 3.213879284421248, 2.5287694941806036, 1.9823526099253297, 1.7431104581038266, 1.4999843104705446],
        [1.6180743531359931, 1.5088136970011348, 2.1744796760370075, 2.1733882804559452, 2.785275635173224, 2.6729188240970183, 3.213879284421248, 2.5287694941806036, 1.9823526099253297, 1.7431104581038266, 1.4999843104705446],
    ],
    'SM as BG [TYPE=BSM]' : [
        [1.6180743544418155, 1.5088137049078518, 2.174479725784478, 2.173388582699809, 2.7852759608516875, 2.6729225921553295, 3.213884546335081, 2.5289321446599273, 1.9827019488073778, 1.7438970685218977, 1.501366999922189],
        [1.6180743544418155, 1.5088137049078518, 2.174479725784478, 2.173388582699809, 2.7852759608516875, 2.6729225921553295, 3.213884546335081, 2.5289321446599273, 1.9827019488073778, 1.7438970685218977, 1.501366999922189],
    ],
}
ratio0_variation_vals = {
}
ratio_band_edges = {
    'ratio0_ATLAS Data_1sigma-band_dn' : [-1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0],
    'ratio0_ATLAS Data_1sigma-band_up' : [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
    'ratio0_Theory [TYPE=BSM]_1sigma-band_dn' : [0.436456334835285, 0.436456334835285, -0.05951317547027022, 0.28272759338432163, 0.802362689666081, 0.5868684046779916, 0.8753594213041669, -0.841655322631599, 0.9653756838655643, -0.6807845286696129, -1.5487871653367513, 1.4559759359417646],
    'ratio0_Theory [TYPE=BSM]_1sigma-band_up' : [3.672605041107271, 3.672605041107271, 2.958114218531999, 4.631686945458337, 5.149139250577972, 6.157419675024441, 6.221197069498204, 5.586103246210897, 6.02291467222677, 3.2839206911810463, 1.9374337508709016, 4.455944556882854],
    'ratio0_SM as BG [TYPE=BSM]_1sigma-band_dn' : [0.43652133995253706, 0.43652133995253706, -0.05924564169460117, 0.28386688500170254, 0.804925381431104, 0.5882150046412575, 0.8831293484050496, -0.8358448868730249, 1.0293471955083207, -0.5979128499887014, -1.4448280415306776, 1.6250325572842754],
    'ratio0_SM as BG [TYPE=BSM]_1sigma-band_up' : [3.6726700488361677, 3.6726700488361677, 2.958381768121103, 4.632826336570659, 5.151702546830721, 6.158766926344633, 6.228974532715709, 5.591924205797137, 6.087211484828176, 3.3674910476260544, 2.0429660955131177, 4.627766557128654],
}