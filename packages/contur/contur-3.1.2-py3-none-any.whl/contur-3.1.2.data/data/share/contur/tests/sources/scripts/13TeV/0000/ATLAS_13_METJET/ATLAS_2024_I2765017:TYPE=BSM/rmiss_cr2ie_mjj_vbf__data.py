
import numpy as np
from numpy import nan

add_legend_handle = [
    'ATLAS Data',
    'Theory [TYPE=BSM]',
    'SM as BG [TYPE=BSM]'
]

xpoints = {
    'ATLAS Data' : [235.0, 325.0, 445.0, 585.0, 750.0, 940.0, 1155.0, 1395.0, 1665.0, 2010.0, 2450.0, 2950.0, 3490.0, 5985.0],
    'Theory [TYPE=BSM]' : [235.0, 325.0, 445.0, 585.0, 750.0, 940.0, 1155.0, 1395.0, 1665.0, 2010.0, 2450.0, 2950.0, 3490.0, 5985.0],
    'SM as BG [TYPE=BSM]' : [235.0, 325.0, 445.0, 585.0, 750.0, 940.0, 1155.0, 1395.0, 1665.0, 2010.0, 2450.0, 2950.0, 3490.0, 5985.0],
}
xedges = {
    'ATLAS Data' : [200.0, 270.0, 380.0, 510.0, 660.0, 840.0, 1040.0, 1270.0, 1520.0, 1810.0, 2210.0, 2690.0, 3210.0, 3770.0, 8200.0],
    'Theory [TYPE=BSM]' : [200.0, 270.0, 380.0, 510.0, 660.0, 840.0, 1040.0, 1270.0, 1520.0, 1810.0, 2210.0, 2690.0, 3210.0, 3770.0, 8200.0],
    'SM as BG [TYPE=BSM]' : [200.0, 270.0, 380.0, 510.0, 660.0, 840.0, 1040.0, 1270.0, 1520.0, 1810.0, 2210.0, 2690.0, 3210.0, 3770.0, 8200.0],
}
ref_xerrs = [
  [abs(xpoints['ATLAS Data'][i]   - xedges['ATLAS Data'][i]) for i in range(len(xpoints['ATLAS Data']))],
  [abs(xedges['ATLAS Data'][i+1] - xpoints['ATLAS Data'][i]) for i in range(len(xpoints['ATLAS Data']))]
]

yvals = {
    'ATLAS Data' : [12.786, 12.988, 12.377, 12.436, 12.839, 13.045, 13.422, 13.12, 11.994, 10.886, 12.198, 11.192, 10.702, 9.4624],
    'Theory [TYPE=BSM]' : [13.02996, 13.08907, 13.04767, 13.0271, 13.00908, 13.07447, 13.1474, 13.12112, 13.10954, 13.0743, 13.02294, 12.94429, 12.32116, 11.91596],
    'SM as BG [TYPE=BSM]' : [13.02996, 13.0891, 13.04771, 13.02716, 13.00809, 13.07447, 13.1474, 13.12112, 13.10954, 13.07522, 13.02294, 12.94429, 12.32116, 11.93041],
}
xerrs = {
    'ATLAS Data' : [
        [35.0, 55.0, 65.0, 75.0, 90.0, 100.0, 115.0, 125.0, 145.0, 200.0, 240.0, 260.0, 280.0, 2215.0],
        [35.0, 55.0, 65.0, 75.0, 90.0, 100.0, 115.0, 125.0, 145.0, 200.0, 240.0, 260.0, 280.0, 2215.0],
    ],
    'Theory [TYPE=BSM]' : [
        [35.0, 55.0, 65.0, 75.0, 90.0, 100.0, 115.0, 125.0, 145.0, 200.0, 240.0, 260.0, 280.0, 2215.0],
        [35.0, 55.0, 65.0, 75.0, 90.0, 100.0, 115.0, 125.0, 145.0, 200.0, 240.0, 260.0, 280.0, 2215.0],
    ],
    'SM as BG [TYPE=BSM]' : [
        [35.0, 55.0, 65.0, 75.0, 90.0, 100.0, 115.0, 125.0, 145.0, 200.0, 240.0, 260.0, 280.0, 2215.0],
        [35.0, 55.0, 65.0, 75.0, 90.0, 100.0, 115.0, 125.0, 145.0, 200.0, 240.0, 260.0, 280.0, 2215.0],
    ],
}
yerrs = {
    'ATLAS Data' : [
        [0.32348154127716466, 0.3498191768901295, 0.4986731213385779, 0.3965557105881912, 0.4137768018663202, 0.5355961780289232, 0.6263505239166373, 0.7757475410873759, 0.9606088378579442, 0.9899511850860779, 1.429879276905131, 1.8297304949287208, 2.5484090382875366, 2.730069172307444],
        [0.32348154127716466, 0.3498191768901295, 0.4986731213385779, 0.3965557105881912, 0.4137768018663202, 0.5355961780289232, 0.6263505239166373, 0.7757475410873759, 0.9606088378579442, 0.9899511850860779, 1.429879276905131, 1.8297304949287208, 2.5484090382875366, 2.730069172307444],
    ],
    'Theory [TYPE=BSM]' : [
        [0.2546658, 0.241099, 0.2379154, 0.2323678, 0.2315314, 0.2459333, 0.2638425, 0.2713492, 0.2701887, 0.303082, 0.3564311, 0.3817755, 0.4214308, 0.5028914],
        [0.2546658, 0.241099, 0.2379154, 0.2323678, 0.2315314, 0.2459333, 0.2638425, 0.2713492, 0.2701887, 0.303082, 0.3564311, 0.3817755, 0.4214308, 0.5028914],
    ],
    'SM as BG [TYPE=BSM]' : [
        [0.25487560643068297, 0.24133259379546526, 0.23815426167987083, 0.2326130437417597, 0.23177409047054015, 0.2461412028836208, 0.26398237080615633, 0.2713389408595642, 0.27000840320335545, 0.30221602542899295, 0.3550225828893005, 0.37821649449966865, 0.4149841630612057, 0.496323577949657],
        [0.25487560643068297, 0.24133259379546526, 0.23815426167987083, 0.2326130437417597, 0.23177409047054015, 0.2461412028836208, 0.26398237080615633, 0.2713389408595642, 0.27000840320335545, 0.30221602542899295, 0.3550225828893005, 0.37821649449966865, 0.4149841630612057, 0.496323577949657],
    ],
}
variation_yvals = {
}


# lists for ratio plot
ratio0_yvals = {
    'ATLAS Data' : [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],
    'Theory [TYPE=BSM]' : [0.7541697712852558, 0.28892069582492863, 1.3449090622725643, 1.490585015465423, 0.411042859901432, 0.05502279741512354, -0.4384126611452289, 0.0014437686756058714, 1.1612843397188986, 2.2105130363672663, 0.576929824303435, 0.957676556660473, 0.6353611118441306, 0.898717155187046],
    'SM as BG [TYPE=BSM]' : [0.7541697712852558, 0.2890064544167455, 1.344989275138044, 1.4907363182922326, 0.40865026564400564, 0.05502279741512354, -0.4384126611452289, 0.0014437686756058714, 1.1612843397188986, 2.2114423751203898, 0.576929824303435, 0.957676556660473, 0.6353611118441306, 0.9040100613692681],
}
ratio0_yerrs = {
    'ATLAS Data' : [
        [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
        [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
    ],
    'Theory [TYPE=BSM]' : [
        [0.7872653227585492, 0.6892103576006181, 0.47709689939046374, 0.5859650833305123, 0.5595562606595846, 0.4591767269607348, 0.4212377733001075, 0.34979060277734964, 0.28126818050361907, 0.30615853040637203, 0.24927356159148556, 0.20865121997918742, 0.16537015591625367, 0.18420463668140616],
        [0.7872653227585492, 0.6892103576006181, 0.47709689939046374, 0.5859650833305123, 0.5595562606595846, 0.4591767269607348, 0.4212377733001075, 0.34979060277734964, 0.28126818050361907, 0.30615853040637203, 0.24927356159148556, 0.20865121997918742, 0.16537015591625367, 0.18420463668140616],
    ],
    'SM as BG [TYPE=BSM]' : [
        [0.7879139113298, 0.6898781134324792, 0.4775758938853538, 0.5865835178536111, 0.5601427857364993, 0.45956489792264477, 0.4214610840515406, 0.34977737793306407, 0.28108049037467275, 0.3052837654845726, 0.24828850143049902, 0.20670612177472755, 0.16284048472064128, 0.1817989020146937],
        [0.7879139113298, 0.6898781134324792, 0.4775758938853538, 0.5865835178536111, 0.5601427857364993, 0.45956489792264477, 0.4214610840515406, 0.34977737793306407, 0.28108049037467275, 0.3052837654845726, 0.24828850143049902, 0.20670612177472755, 0.16284048472064128, 0.1817989020146937],
    ],
}
ratio0_variation_vals = {
}
ratio_band_edges = {
    'ratio0_ATLAS Data_1sigma-band_dn' : [-1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0],
    'ratio0_ATLAS Data_1sigma-band_up' : [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
    'ratio0_Theory [TYPE=BSM]_1sigma-band_dn' : [-0.033095551473293475, -0.033095551473293475, -0.4002896617756895, 0.8678121628821005, 0.9046199321349107, -0.14851340075815267, -0.40415392954561125, -0.8596504344453364, -0.3483468341017438, 0.8800161592152793, 1.9043545059608944, 0.32765626271194936, 0.7490253366812856, 0.46999095592787693, 0.7145125185056398],
    'ratio0_Theory [TYPE=BSM]_1sigma-band_up' : [1.5414350940438049, 1.5414350940438049, 0.9781310534255466, 1.822005961663028, 2.0765500987959356, 0.9705991205610167, 0.5141995243758584, -0.017174887845121455, 0.3512343714529555, 1.4425525202225176, 2.5166715667736383, 0.8262033858949205, 1.1663277766396603, 0.8007312677603843, 1.0829217918684522],
    'ratio0_SM as BG [TYPE=BSM]_1sigma-band_dn' : [-0.03374414004454429, -0.03374414004454429, -0.40087165901573374, 0.8674133812526901, 0.9041528004386216, -0.1514925200924937, -0.40454210050752126, -0.8598737451967696, -0.3483336092574582, 0.8802038493442258, 1.906158609635817, 0.3286413228729359, 0.7509704348857454, 0.47252062712348936, 0.7222111593545745],
    'ratio0_SM as BG [TYPE=BSM]_1sigma-band_up' : [1.5420836826150557, 1.5420836826150557, 0.9788845678492246, 1.8225651690233977, 2.077319836145844, 0.968793051380505, 0.5145876953377684, -0.016951577093688337, 0.35122114660866993, 1.4423648300935712, 2.516726140604962, 0.8252183257339339, 1.1643826784352007, 0.798201596564772, 1.0858089633839618],
}