
import numpy as np
from numpy import nan

add_legend_handle = [
    'ATLAS Data',
    'Theory [TYPE=BSM]',
    'SM as BG [TYPE=BSM]'
]

xpoints = {
    'ATLAS Data' : [220.0, 270.0, 340.0, 425.0, 520.0, 620.0, 730.0, 850.0, 975.0, 1110.0, 1255.0, 1965.0],
    'Theory [TYPE=BSM]' : [220.0, 270.0, 340.0, 425.0, 520.0, 620.0, 730.0, 850.0, 975.0, 1110.0, 1255.0, 1965.0],
    'SM as BG [TYPE=BSM]' : [220.0, 270.0, 340.0, 425.0, 520.0, 620.0, 730.0, 850.0, 975.0, 1110.0, 1255.0, 1965.0],
}
xedges = {
    'ATLAS Data' : [200.0, 240.0, 300.0, 380.0, 470.0, 570.0, 670.0, 790.0, 910.0, 1040.0, 1180.0, 1330.0, 2600.0],
    'Theory [TYPE=BSM]' : [200.0, 240.0, 300.0, 380.0, 470.0, 570.0, 670.0, 790.0, 910.0, 1040.0, 1180.0, 1330.0, 2600.0],
    'SM as BG [TYPE=BSM]' : [200.0, 240.0, 300.0, 380.0, 470.0, 570.0, 670.0, 790.0, 910.0, 1040.0, 1180.0, 1330.0, 2600.0],
}
ref_xerrs = [
  [abs(xpoints['ATLAS Data'][i]   - xedges['ATLAS Data'][i]) for i in range(len(xpoints['ATLAS Data']))],
  [abs(xedges['ATLAS Data'][i+1] - xpoints['ATLAS Data'][i]) for i in range(len(xpoints['ATLAS Data']))]
]

yvals = {
    'ATLAS Data' : [2.7683, 2.2419, 1.8778, 1.6605, 1.5038, 1.4367, 1.3328, 1.3023, 1.1802, 1.2295, 1.2095, 1.2738],
    'Theory [TYPE=BSM]' : [2.5946, 2.1231, 1.7558, 1.5153, 1.3608, 1.2535, 1.1887, 1.1224, 1.0552, 1.0145, 0.9432, 0.92702],
    'SM as BG [TYPE=BSM]' : [2.594869, 2.123347, 1.755986, 1.515222, 1.360763, 1.252763, 1.186746, 1.116543, 1.04356, 0.9881932, 0.9125324, 0.7965968],
}
xerrs = {
    'ATLAS Data' : [
        [20.0, 30.0, 40.0, 45.0, 50.0, 50.0, 60.0, 60.0, 65.0, 70.0, 75.0, 635.0],
        [20.0, 30.0, 40.0, 45.0, 50.0, 50.0, 60.0, 60.0, 65.0, 70.0, 75.0, 635.0],
    ],
    'Theory [TYPE=BSM]' : [
        [20.0, 30.0, 40.0, 45.0, 50.0, 50.0, 60.0, 60.0, 65.0, 70.0, 75.0, 635.0],
        [20.0, 30.0, 40.0, 45.0, 50.0, 50.0, 60.0, 60.0, 65.0, 70.0, 75.0, 635.0],
    ],
    'SM as BG [TYPE=BSM]' : [
        [20.0, 30.0, 40.0, 45.0, 50.0, 50.0, 60.0, 60.0, 65.0, 70.0, 75.0, 635.0],
        [20.0, 30.0, 40.0, 45.0, 50.0, 50.0, 60.0, 60.0, 65.0, 70.0, 75.0, 635.0],
    ],
}
yerrs = {
    'ATLAS Data' : [
        [0.04755840419686974, 0.035078007974240016, 0.031210113889383675, 0.041820192686928215, 0.04428009127948812, 0.05981904653886007, 0.05982737461739993, 0.07664577858389295, 0.09883435134153107, 0.1286304892571634, 0.23420402173067054, 0.4342773118570562],
        [0.04755840419686974, 0.035078007974240016, 0.031210113889383675, 0.041820192686928215, 0.04428009127948812, 0.05981904653886007, 0.05982737461739993, 0.07664577858389295, 0.09883435134153107, 0.1286304892571634, 0.23420402173067054, 0.4342773118570562],
    ],
    'Theory [TYPE=BSM]' : [
        [0.1486796, 0.1269762, 0.101557, 0.07748202, 0.06926924, 0.06739759, 0.07589574, 0.08549228, 0.09138957, 0.1098977, 0.1455112, 0.1734024],
        [0.1486796, 0.1269762, 0.101557, 0.07748202, 0.06926924, 0.06739759, 0.07589574, 0.08549228, 0.09138957, 0.1098977, 0.1455112, 0.1734024],
    ],
    'SM as BG [TYPE=BSM]' : [
        [0.148679603792039, 0.12697630004671842, 0.10155708297702627, 0.07748227700678156, 0.06926992105346906, 0.067398782140344, 0.07589736266251997, 0.08549485817033375, 0.09137651102816366, 0.10998420948638749, 0.14566623856439784, 0.1739096638853015],
        [0.148679603792039, 0.12697630004671842, 0.10155708297702627, 0.07748227700678156, 0.06926992105346906, 0.067398782140344, 0.07589736266251997, 0.08549485817033375, 0.09137651102816366, 0.10998420948638749, 0.14566623856439784, 0.1739096638853015],
    ],
}
variation_yvals = {
}


# lists for ratio plot
ratio0_yvals = {
    'ATLAS Data' : [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],
    'Theory [TYPE=BSM]' : [-3.6523513127346057, -3.386737356558049, -3.908989260096836, -3.472006958145492, -3.2294423039331437, -3.0625697098162266, -2.408596414626733, -2.347161230844432, -1.2647424534416294, -1.6714544214331892, -1.1370428143468823, -0.7985220285100776],
    'SM as BG [TYPE=BSM]' : [-3.646695109492656, -3.379695907676993, -3.9030296535199667, -3.4738720858502816, -3.230277893899897, -3.0748902004064806, -2.441257048868098, -2.423577702934792, -1.3825152707061126, -1.875968919915787, -1.267986765579569, -1.0988444180042107],
}
ratio0_yerrs = {
    'ATLAS Data' : [
        [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
        [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
    ],
    'Theory [TYPE=BSM]' : [
        [3.1262529201891507, 3.6198235684662197, 3.2539772318660227, 1.8527418221154834, 1.564342755365719, 1.1266911443701582, 1.2685788150551205, 1.1154205956225507, 0.9246741518462043, 0.8543674259085494, 0.621301030292873, 0.399289567439056],
        [3.1262529201891507, 3.6198235684662197, 3.2539772318660227, 1.8527418221154834, 1.564342755365719, 1.1266911443701582, 1.2685788150551205, 1.1154205956225507, 0.9246741518462043, 0.8543674259085494, 0.621301030292873, 0.399289567439056],
    ],
    'SM as BG [TYPE=BSM]' : [
        [3.126252999923513, 3.6198264205870836, 3.2539798905242567, 1.852747967634312, 1.5643581359453291, 1.1267110734799146, 1.268605937464057, 1.1154542330958908, 0.9245420219575665, 0.8550399685295647, 0.6219630110874476, 0.4004576318795683],
        [3.126252999923513, 3.6198264205870836, 3.2539798905242567, 1.852747967634312, 1.5643581359453291, 1.1267110734799146, 1.268605937464057, 1.1154542330958908, 0.9245420219575665, 0.8550399685295647, 0.6219630110874476, 0.4004576318795683],
    ],
}
ratio0_variation_vals = {
}
ratio_band_edges = {
    'ratio0_ATLAS Data_1sigma-band_dn' : [-1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0],
    'ratio0_ATLAS Data_1sigma-band_up' : [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
    'ratio0_Theory [TYPE=BSM]_1sigma-band_dn' : [-6.778604232923757, -6.778604232923757, -7.006560925024269, -7.162966491962859, -5.324748780260975, -4.793785059298863, -4.189260854186385, -3.6771752296818536, -3.462581826466982, -2.1894166052878337, -2.525821847341738, -1.7583438446397552, -1.1978115959491338],
    'ratio0_Theory [TYPE=BSM]_1sigma-band_up' : [-0.526098392545455, -0.526098392545455, 0.2330862119081709, -0.6550120282308137, -1.6192651360300088, -1.6650995485674245, -1.9358785654460684, -1.1400175995716126, -1.2317406352218812, -0.3400683015954251, -0.8170869955246397, -0.5157417840540093, -0.39923246107102156],
    'ratio0_SM as BG [TYPE=BSM]_1sigma-band_dn' : [-6.772948109416169, -6.772948109416169, -6.999522328264077, -7.1570095440442225, -5.326620053484594, -4.794636029845226, -4.2016012738863955, -3.7098629863321544, -3.539031936030683, -2.307057292663679, -2.7310088884453516, -1.8899497766670166, -1.499302049883779],
    'ratio0_SM as BG [TYPE=BSM]_1sigma-band_up' : [-0.5204421095691432, -0.5204421095691432, 0.24013051291009085, -0.6490497629957102, -1.62112411821597, -1.665919757954568, -1.9481791269265658, -1.172651111404041, -1.3081234698389013, -0.45797324874854617, -1.0209289513862223, -0.6460237544921213, -0.6983867861246424],
}