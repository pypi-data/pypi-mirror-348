
import numpy as np
from numpy import nan

add_legend_handle = [
    'ATLAS Data',
    'Theory',
    'SM as BG'
]

xpoints = {
    'ATLAS Data' : [900.0, 1100.0, 1300.0, 1500.0, 1700.0, 1900.0, 2100.0, 2300.0, 2500.0, 2700.0, 2900.0, 3100.0, 3300.0, 3500.0],
    'Theory' : [900.0, 1100.0, 1300.0, 1500.0, 1700.0, 1900.0, 2100.0, 2300.0, 2500.0, 2700.0, 2900.0, 3100.0, 3300.0, 3500.0],
    'SM as BG' : [900.0, 1100.0, 1300.0, 1500.0, 1700.0, 1900.0, 2100.0, 2300.0, 2500.0, 2700.0, 2900.0, 3100.0, 3300.0, 3500.0],
}
xedges = {
    'ATLAS Data' : [800.0, 1000.0, 1200.0, 1400.0, 1600.0, 1800.0, 2000.0, 2200.0, 2400.0, 2600.0, 2800.0, 3000.0, 3200.0, 3400.0, 3600.0],
    'Theory' : [800.0, 1000.0, 1200.0, 1400.0, 1600.0, 1800.0, 2000.0, 2200.0, 2400.0, 2600.0, 2800.0, 3000.0, 3200.0, 3400.0, 3600.0],
    'SM as BG' : [800.0, 1000.0, 1200.0, 1400.0, 1600.0, 1800.0, 2000.0, 2200.0, 2400.0, 2600.0, 2800.0, 3000.0, 3200.0, 3400.0, 3600.0],
}
ref_xerrs = [
  [abs(xpoints['ATLAS Data'][i]   - xedges['ATLAS Data'][i]) for i in range(len(xpoints['ATLAS Data']))],
  [abs(xedges['ATLAS Data'][i+1] - xpoints['ATLAS Data'][i]) for i in range(len(xpoints['ATLAS Data']))]
]

yvals = {
    'ATLAS Data' : [46.0, 58.0, 36.0, 22.0, 6.0, 5.0, 3.0, 3.0, 2.0, 0.0, 2.0, 0.0, 0.0, 0.0],
    'Theory' : [38.28, 65.88, 47.81, 24.65, 12.98, 6.821, 3.572, 1.885, 1.032, 0.8821, 0.2769, 0.1659, 0.09329, 0.2274],
    'SM as BG' : [38.288071624000004, 65.89614325, 47.81, 24.65, 12.988071624, 6.829071624, 3.572, 1.885, 1.032, 0.8821, 0.2769, 0.1659, 0.09329, 0.2274],
}
xerrs = {
    'ATLAS Data' : [
        [100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0],
        [100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0],
    ],
    'Theory' : [
        [100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0],
        [100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0],
    ],
    'SM as BG' : [
        [100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0],
        [100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0],
    ],
}
yerrs = {
    'ATLAS Data' : [
        [6.782329983125268, 7.615773105863909, 6.0, 4.69041575982343, 2.449489742783178, 2.23606797749979, 1.7320508075688772, 1.7320508075688772, 1.4142135623730951, 1.0, 1.4142135623730951, 1.0, 1.0, 1.0],
        [6.782329983125268, 7.615773105863909, 6.0, 4.69041575982343, 2.449489742783178, 2.23606797749979, 1.7320508075688772, 1.7320508075688772, 1.4142135623730951, 1.0, 1.4142135623730951, 1.0, 1.0, 1.0],
    ],
    'Theory' : [
        [6.788786, 35.87799, 6.025635, 3.282999, 2.15467, 0.9690497, 0.5857755, 0.424108, 0.2738331, 0.23954, 0.178032, 0.05201284, 0.04253555, 0.04713935],
        [5.126906, 7.551487, 7.448769, 2.307076, 1.609926, 1.168341, 0.5558995, 0.3731461, 0.2026609, 0.2964679, 0.09588045, 0.05271273, 0.04024873, 0.0513248],
    ],
    'SM as BG' : [
        [6.7887907984345786, 35.87799181590749, 6.025635, 3.282999, 2.1546851185298506, 0.9690833153986748, 0.5857755, 0.424108, 0.2738331, 0.23954, 0.178032, 0.05201284, 0.04253555, 0.04713935],
        [5.126912353839296, 7.55149562758226, 7.448769, 2.307076, 1.6099462340680815, 1.1683688815588156, 0.5558995, 0.3731461, 0.2026609, 0.2964679, 0.09588045, 0.05271273, 0.04024873, 0.0513248],
    ],
}
variation_yvals = {
}


# lists for ratio plot
ratio0_yvals = {
    'ATLAS Data' : [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],
    'Theory' : [-1.1382519015158057, 1.034694690934613, 1.9683333333333337, 0.5649818983423673, 2.849573067437764, 0.8143759574054232, 0.330244353976466, -0.6437455501464328, -0.6844793641885779, 0.8821, -1.21841569466254, 0.1659, 0.09329, 0.2274],
    'SM as BG' : [-1.1370618054838983, 1.0368144035068756, 1.9683333333333337, 0.5649818983423673, 2.852868294137031, 0.8179856973959871, 0.330244353976466, -0.6437455501464328, -0.6844793641885779, 0.8821, -1.21841569466254, 0.1659, 0.09329, 0.2274],
}
ratio0_yerrs = {
    'ATLAS Data' : [
        [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
        [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
    ],
    'Theory' : [
        [0.8784364687096292, 2.8512848529166823, 1.122867, 0.5959039972407945, 0.7684449406435485, 0.477935089967586, 0.329573184288533, 0.2301474346237664, 0.16846606929735136, 0.26800395, 0.09684267542321055, 0.052362784999999995, 0.04139214, 0.049232075],
        [0.8784364687096292, 2.8512848529166823, 1.122867, 0.5959039972407945, 0.7684449406435485, 0.477935089967586, 0.329573184288533, 0.2301474346237664, 0.16846606929735136, 0.26800395, 0.09684267542321055, 0.052362784999999995, 0.04139214, 0.049232075],
    ],
    'SM as BG' : [
        [0.8784372908661671, 2.8512855385653757, 1.122867, 0.5959039972407945, 0.768452156962383, 0.47794884110532176, 0.329573184288533, 0.2301474346237664, 0.16846606929735136, 0.26800395, 0.09684267542321055, 0.052362784999999995, 0.04139214, 0.049232075],
        [0.8784372908661671, 2.8512855385653757, 1.122867, 0.5959039972407945, 0.768452156962383, 0.47794884110532176, 0.329573184288533, 0.2301474346237664, 0.16846606929735136, 0.26800395, 0.09684267542321055, 0.052362784999999995, 0.04139214, 0.049232075],
    ],
}
ratio0_variation_vals = {
}
ratio_band_edges = {
    'ratio0_ATLAS Data_1sigma-band_dn' : [-1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0],
    'ratio0_ATLAS Data_1sigma-band_up' : [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
    'ratio0_Theory_1sigma-band_dn' : [-2.016688370225435, -2.016688370225435, -1.8165901619820692, 0.8454663333333338, -0.030922098898427116, 2.0811281267942157, 0.3364408674378373, 0.0006711696879329783, -0.8738929847701992, -0.8529454334859292, 0.61409605, -1.3152583700857505, 0.113537215, 0.05189786, 0.178167925],
    'ratio0_Theory_1sigma-band_up' : [-0.2598154328061764, -0.2598154328061764, 3.8859795438512954, 3.0912003333333335, 1.1608858955831616, 3.618018008081313, 1.2923110473730093, 0.6598175382649991, -0.41359811552266634, -0.5160132948912266, 1.15010395, -1.1215730192393294, 0.218262785, 0.13468214, 0.276632075],
    'ratio0_SM as BG_1sigma-band_dn' : [-2.0154990963500654, -2.0154990963500654, -1.8144711350584999, 0.8454663333333338, -0.030922098898427116, 2.084416137174648, 0.3400368562906654, 0.0006711696879329783, -0.8738929847701992, -0.8529454334859292, 0.61409605, -1.3152583700857505, 0.113537215, 0.05189786, 0.178167925],
    'ratio0_SM as BG_1sigma-band_up' : [-0.2586245146177314, -0.2586245146177314, 3.8880999420722513, 3.0912003333333335, 1.1608858955831616, 3.621320451099414, 1.2959345385013088, 0.6598175382649991, -0.41359811552266634, -0.5160132948912266, 1.15010395, -1.1215730192393294, 0.218262785, 0.13468214, 0.276632075],
}