
import numpy as np
from numpy import nan

add_legend_handle = [
    'ATLAS Data',
    'Theory',
    'SM as BG'
]

xpoints = {
    'ATLAS Data' : [850.0, 950.0, 1050.0, 1150.0, 1250.0, 1350.0, 1450.0, 1550.0, 1650.0, 1750.0, 1850.0, 1950.0, 2050.0, 2150.0, 2250.0, 2350.0, 2450.0, 2550.0, 2650.0, 2750.0, 2850.0, 2950.0, 3050.0, 3150.0, 3250.0, 3350.0, 3450.0, 3550.0],
    'Theory' : [850.0, 950.0, 1050.0, 1150.0, 1250.0, 1350.0, 1450.0, 1550.0, 1650.0, 1750.0, 1850.0, 1950.0, 2050.0, 2150.0, 2250.0, 2350.0, 2450.0, 2550.0, 2650.0, 2750.0, 2850.0, 2950.0, 3050.0, 3150.0, 3250.0, 3350.0, 3450.0, 3550.0],
    'SM as BG' : [850.0, 950.0, 1050.0, 1150.0, 1250.0, 1350.0, 1450.0, 1550.0, 1650.0, 1750.0, 1850.0, 1950.0, 2050.0, 2150.0, 2250.0, 2350.0, 2450.0, 2550.0, 2650.0, 2750.0, 2850.0, 2950.0, 3050.0, 3150.0, 3250.0, 3350.0, 3450.0, 3550.0],
}
xedges = {
    'ATLAS Data' : [800.0, 900.0, 1000.0, 1100.0, 1200.0, 1300.0, 1400.0, 1500.0, 1600.0, 1700.0, 1800.0, 1900.0, 2000.0, 2100.0, 2200.0, 2300.0, 2400.0, 2500.0, 2600.0, 2700.0, 2800.0, 2900.0, 3000.0, 3100.0, 3200.0, 3300.0, 3400.0, 3500.0, 3600.0],
    'Theory' : [800.0, 900.0, 1000.0, 1100.0, 1200.0, 1300.0, 1400.0, 1500.0, 1600.0, 1700.0, 1800.0, 1900.0, 2000.0, 2100.0, 2200.0, 2300.0, 2400.0, 2500.0, 2600.0, 2700.0, 2800.0, 2900.0, 3000.0, 3100.0, 3200.0, 3300.0, 3400.0, 3500.0, 3600.0],
    'SM as BG' : [800.0, 900.0, 1000.0, 1100.0, 1200.0, 1300.0, 1400.0, 1500.0, 1600.0, 1700.0, 1800.0, 1900.0, 2000.0, 2100.0, 2200.0, 2300.0, 2400.0, 2500.0, 2600.0, 2700.0, 2800.0, 2900.0, 3000.0, 3100.0, 3200.0, 3300.0, 3400.0, 3500.0, 3600.0],
}
ref_xerrs = [
  [abs(xpoints['ATLAS Data'][i]   - xedges['ATLAS Data'][i]) for i in range(len(xpoints['ATLAS Data']))],
  [abs(xedges['ATLAS Data'][i+1] - xpoints['ATLAS Data'][i]) for i in range(len(xpoints['ATLAS Data']))]
]

yvals = {
    'ATLAS Data' : [64.0, 75.0, 93.0, 70.0, 54.0, 42.0, 31.0, 39.0, 27.0, 16.0, 14.0, 7.0, 9.0, 2.0, 5.0, 4.0, 3.0, 2.0, 2.0, 3.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 2.0],
    'Theory' : [54.4, 79.0, 80.7, 72.06, 63.85, 51.99, 41.01, 31.98, 24.19, 19.4, 15.06, 12.27, 8.425, 6.093, 5.205, 3.543, 2.639, 2.426, 2.122, 1.264, 0.8884, 1.041, 0.575, 0.4638, 0.3507, 0.2931, 0.2119, 0.9725],
    'SM as BG' : [54.4, 79.008071624, 80.7, 72.068071624, 63.85, 51.99, 41.01, 31.99614325, 24.19, 19.416143249999998, 15.076143250000001, 12.278071623999999, 8.425, 6.093, 5.205, 3.543, 2.639, 2.426, 2.122, 1.264, 0.8964716239999999, 1.041, 0.575, 0.4638, 0.3507, 0.2931, 0.2119, 0.9886432500000001],
}
xerrs = {
    'ATLAS Data' : [
        [50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0],
        [50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0],
    ],
    'Theory' : [
        [50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0],
        [50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0],
    ],
    'SM as BG' : [
        [50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0],
        [50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0, 50.0],
    ],
}
yerrs = {
    'ATLAS Data' : [
        [8.0, 8.660254037844387, 9.643650760992955, 8.366600265340756, 7.3484692283495345, 6.48074069840786, 5.5677643628300215, 6.244997998398398, 5.196152422706632, 4.0, 3.7416573867739413, 2.6457513110645907, 3.0, 1.4142135623730951, 2.23606797749979, 2.0, 1.7320508075688772, 1.4142135623730951, 1.4142135623730951, 1.7320508075688772, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.4142135623730951],
        [8.0, 8.660254037844387, 9.643650760992955, 8.366600265340756, 7.3484692283495345, 6.48074069840786, 5.5677643628300215, 6.244997998398398, 5.196152422706632, 4.0, 3.7416573867739413, 2.6457513110645907, 3.0, 1.4142135623730951, 2.23606797749979, 2.0, 1.7320508075688772, 1.4142135623730951, 1.4142135623730951, 1.7320508075688772, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.4142135623730951],
    ],
    'Theory' : [
        [9.211151, 8.799191, 9.944656, 9.353225, 8.890461, 5.075099, 4.811288, 5.513868, 2.377238, 2.600416, 1.587151, 1.436861, 1.146548, 0.5735962, 0.7489501, 1.156597, 0.4601153, 0.3864181, 0.386012, 0.5685489, 0.1722459, 0.3133601, 0.2631327, 0.2069623, 0.2398141, 0.1183267, 0.2054321, 0.1921023],
        [8.654453, 8.117367, 9.567466, 8.624553, 8.657156, 5.141186, 4.731097, 5.806154, 1.911505, 2.651149, 1.447801, 1.892321, 1.00176, 0.6647088, 0.9708098, 0.4450644, 0.4789648, 0.4715737, 0.4072939, 0.4162575, 0.1850971, 0.4349434, 0.1225078, 0.1429328, 0.2334788, 0.1225817, 0.1759287, 0.1311985],
    ],
    'SM as BG' : [
        [9.211151, 8.799194702107403, 9.944656, 9.35322848281485, 8.890461, 5.075099, 4.811288, 5.513879815850995, 2.377238, 2.600441053990842, 1.5871920485643822, 1.4368836711560882, 1.146548, 0.5735962, 0.7489501, 1.156597, 0.4601153, 0.3864181, 0.386012, 0.5685489, 0.17243491868182437, 0.3133601, 0.2631327, 0.2069623, 0.2398141, 0.1183267, 0.2054321, 0.19244114916069796],
        [8.654453, 8.117371013068393, 9.567466, 8.624556777071097, 8.657156, 5.141186, 4.731097, 5.806165221033674, 1.911505, 2.65117357455637, 1.4478459993473063, 1.8923382145258805, 1.00176, 0.6647088, 0.9708098, 0.4450644, 0.4789648, 0.4715737, 0.4072939, 0.4162575, 0.18527300813234335, 0.4349434, 0.1225078, 0.1429328, 0.2334788, 0.1225817, 0.1759287, 0.13169414803722299],
    ],
}
variation_yvals = {
}


# lists for ratio plot
ratio0_yvals = {
    'ATLAS Data' : [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],
    'Theory' : [-1.2000000000000002, 0.46188021535170054, -1.2754505845184227, 0.24621709352288534, 1.3404152203563504, 1.5414904661212985, 1.7978490732880166, -1.1240996397117116, -0.5407847521409492, 0.8499999999999996, 0.28329691642717, 1.9918727727586272, -0.19166666666666643, 2.8941880553965387, 0.0916787870774914, -0.22849999999999993, -0.20842344717745503, 0.30122748878546934, 0.08626702730475871, -1.0022800673131904, 0.8884, 0.040999999999999925, 0.575, 0.4638, 0.3507, 0.2931, 0.2119, -0.7265522176691774],
    'SM as BG' : [-1.2000000000000002, 0.4628122462095396, -1.2754505845184227, 0.24718183711574387, 1.3404152203563504, 1.5414904661212985, 1.7978490732880166, -1.1215146508927978, -0.5407847521409492, 0.8540358124999994, 0.28761138147067294, 1.9949235598701156, -0.19166666666666643, 2.8941880553965387, 0.0916787870774914, -0.22849999999999993, -0.20842344717745503, 0.30122748878546934, 0.08626702730475871, -1.0022800673131904, 0.8964716239999999, 0.040999999999999925, 0.575, 0.4638, 0.3507, 0.2931, 0.2119, -0.7151372161237878],
}
ratio0_yerrs = {
    'ATLAS Data' : [
        [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
        [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
    ],
    'Theory' : [
        [1.1166002499999998, 0.9766779315061918, 1.0116563987843405, 1.0743777298931227, 1.1939641069941036, 0.7882034998337349, 0.8569314699903832, 0.9063271119464852, 0.4126844875891872, 0.656445625, 0.40556252033229806, 0.6291562600909025, 0.35805133333333333, 0.4378069313386038, 0.38455000413782403, 0.40041535000000006, 0.27108907426281037, 0.303345909991226, 0.28047599072264856, 0.2842891200698332, 0.17867149999999998, 0.37415175, 0.19282025, 0.17494755, 0.23664645, 0.12045420000000001, 0.1906804, 0.11430409402151788],
        [1.1166002499999998, 0.9766779315061918, 1.0116563987843405, 1.0743777298931227, 1.1939641069941036, 0.7882034998337349, 0.8569314699903832, 0.9063271119464852, 0.4126844875891872, 0.656445625, 0.40556252033229806, 0.6291562600909025, 0.35805133333333333, 0.4378069313386038, 0.38455000413782403, 0.40041535000000006, 0.27108907426281037, 0.303345909991226, 0.28047599072264856, 0.2842891200698332, 0.17867149999999998, 0.37415175, 0.19282025, 0.17494755, 0.23664645, 0.12045420000000001, 0.1906804, 0.11430409402151788],
    ],
    'SM as BG' : [
        [1.1166002499999998, 0.9766783769420739, 1.0116563987843405, 1.0743781637542922, 1.1939641069941036, 0.7882034998337349, 0.8569314699903832, 0.9063289563733907, 0.4126844875891872, 0.6564518285684016, 0.405574018968169, 0.6291637977762855, 0.35805133333333333, 0.4378069313386038, 0.38455000413782403, 0.40041535000000006, 0.27108907426281037, 0.303345909991226, 0.28047599072264856, 0.2842891200698332, 0.17885396340708387, 0.37415175, 0.19282025, 0.17494755, 0.23664645, 0.12045420000000001, 0.1906804, 0.1145991333352834],
        [1.1166002499999998, 0.9766783769420739, 1.0116563987843405, 1.0743781637542922, 1.1939641069941036, 0.7882034998337349, 0.8569314699903832, 0.9063289563733907, 0.4126844875891872, 0.6564518285684016, 0.405574018968169, 0.6291637977762855, 0.35805133333333333, 0.4378069313386038, 0.38455000413782403, 0.40041535000000006, 0.27108907426281037, 0.303345909991226, 0.28047599072264856, 0.2842891200698332, 0.17885396340708387, 0.37415175, 0.19282025, 0.17494755, 0.23664645, 0.12045420000000001, 0.1906804, 0.1145991333352834],
    ],
}
ratio0_variation_vals = {
}
ratio_band_edges = {
    'ratio0_ATLAS Data_1sigma-band_dn' : [-1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0],
    'ratio0_ATLAS Data_1sigma-band_up' : [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
    'ratio0_Theory_1sigma-band_dn' : [-2.31660025, -2.31660025, -0.5147977161544912, -2.2871069833027633, -0.8281606363702375, 0.14645111336224684, 0.7532869662875634, 0.9409176032976333, -2.030426751658197, -0.9534692397301364, 0.1935543749999996, -0.12226560390512808, 1.3627165126677248, -0.5497179999999998, 2.456381124057935, -0.2928712170603326, -0.62891535, -0.4795125214402654, -0.002118421205756657, -0.19420896341788985, -1.2865691873830234, 0.7097285, -0.3331517500000001, 0.38217974999999993, 0.28885245, 0.11405355, 0.17264580000000002, 0.021219600000000005, -0.8408563116906954],
    'ratio0_Theory_1sigma-band_up' : [-0.08339975000000033, -0.08339975000000033, 1.4385581468578923, -0.26379418573408214, 1.3205948234160083, 2.534379327350454, 2.3296939659550335, 2.6547805432783997, -0.21777252776522646, -0.12810026455176202, 1.5064456249999996, 0.688859436759468, 2.62102903284953, 0.16638466666666693, 3.331994986735143, 0.47622879121531536, 0.17191535000000013, 0.06266562708535532, 0.6045733987766954, 0.3667430180274073, -0.7179909472433572, 1.0670715, 0.41515174999999993, 0.76782025, 0.6387475499999999, 0.5873464500000001, 0.41355420000000004, 0.4025804, -0.6122481236476596],
    'ratio0_SM as BG_1sigma-band_dn' : [-2.31660025, -2.31660025, -0.5138661307325343, -2.2871069833027633, -0.8271963266385483, 0.14645111336224684, 0.7532869662875634, 0.9409176032976333, -2.0278436072661883, -0.9534692397301364, 0.19758398393159782, -0.11796263749749611, 1.36575976209383, -0.5497179999999998, 2.456381124057935, -0.2928712170603326, -0.62891535, -0.4795125214402654, -0.002118421205756657, -0.19420896341788985, -1.2865691873830234, 0.7176176605929161, -0.3331517500000001, 0.38217974999999993, 0.28885245, 0.11405355, 0.17264580000000002, 0.021219600000000005, -0.8297363494590713],
    'ratio0_SM as BG_1sigma-band_up' : [-0.08339975000000033, -0.08339975000000033, 1.4394906231516136, -0.26379418573408214, 1.321560000870036, 2.534379327350454, 2.3296939659550335, 2.6547805432783997, -0.2151856945194071, -0.12810026455176202, 1.510487641068401, 0.693185400438842, 2.624087357646401, 0.16638466666666693, 3.331994986735143, 0.47622879121531536, 0.17191535000000013, 0.06266562708535532, 0.6045733987766954, 0.3667430180274073, -0.7179909472433572, 1.0753255874070837, 0.41515174999999993, 0.76782025, 0.6387475499999999, 0.5873464500000001, 0.41355420000000004, 0.4025804, -0.6005380827885044],
}