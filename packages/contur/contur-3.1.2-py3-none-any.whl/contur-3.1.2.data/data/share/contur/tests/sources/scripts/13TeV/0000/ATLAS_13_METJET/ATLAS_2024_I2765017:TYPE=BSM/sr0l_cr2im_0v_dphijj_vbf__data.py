
import numpy as np
from numpy import nan

add_legend_handle = [
    'ATLAS Data',
    'Theory [TYPE=BSM]',
    'SM as BG [TYPE=BSM]'
]

xpoints = {
    'ATLAS Data' : [-0.95, -0.8500000000000001, -0.75, -0.6499999999999999, -0.55, -0.45, -0.35, -0.25, -0.15000000000000002, -0.05, 0.05, 0.15000000000000002, 0.25, 0.35, 0.45, 0.55, 0.6499999999999999, 0.75, 0.8500000000000001, 0.95],
    'Theory [TYPE=BSM]' : [-0.95, -0.85, -0.75, -0.65, -0.55, -0.45, -0.35, -0.25, -0.15, -0.05, 0.05, 0.15, 0.25, 0.35, 0.45, 0.55, 0.65, 0.75, 0.85, 0.95],
    'SM as BG [TYPE=BSM]' : [-0.95, -0.8500000000000001, -0.75, -0.6499999999999999, -0.55, -0.45, -0.35, -0.25, -0.15000000000000002, -0.05, 0.05, 0.15000000000000002, 0.25, 0.35, 0.45, 0.55, 0.6499999999999999, 0.75, 0.8500000000000001, 0.95],
}
xedges = {
    'ATLAS Data' : [-1.0, -0.9, -0.8, -0.7, -0.6, -0.5, -0.4, -0.3, -0.2, -0.1, 0.0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0],
    'Theory [TYPE=BSM]' : [-1.0, -0.9, -0.8, -0.7000000000000001, -0.6000000000000001, -0.5, -0.39999999999999997, -0.3, -0.2, -0.1, 0.0, 0.09999999999999999, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.7999999999999999, 0.8999999999999999, 1.0],
    'SM as BG [TYPE=BSM]' : [-1.0, -0.9, -0.8, -0.7, -0.6, -0.5, -0.4, -0.3, -0.2, -0.1, 0.0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0],
}
ref_xerrs = [
  [abs(xpoints['ATLAS Data'][i]   - xedges['ATLAS Data'][i]) for i in range(len(xpoints['ATLAS Data']))],
  [abs(xedges['ATLAS Data'][i+1] - xpoints['ATLAS Data'][i]) for i in range(len(xpoints['ATLAS Data']))]
]

yvals = {
    'ATLAS Data' : [38.667, 159.57, 188.57, 209.75, 227.06, 238.72, 218.41, 197.55, 182.63, 165.52, 174.51, 180.58, 191.14, 221.33, 236.92, 226.54, 214.04, 188.17, 153.96, 41.229],
    'Theory [TYPE=BSM]' : [36.305, 186.77, 213.41, 229.41, 243.89, 248.99, 235.97, 214.74, 197.92, 188.07, 187.84, 197.0, 214.49, 237.98, 248.41, 244.95, 229.58, 212.95, 186.26, 35.8],
    'SM as BG [TYPE=BSM]' : [36.305, 186.77, 213.41, 229.41, 243.89, 248.99, 235.97, 214.74, 197.92, 188.07, 187.84, 197.0, 214.49, 237.98, 248.41, 244.95, 229.58, 212.95, 186.26, 35.8],
}
xerrs = {
    'ATLAS Data' : [
        [0.04999999999999993, 0.050000000000000044, 0.050000000000000044, 0.04999999999999993, 0.050000000000000044, 0.04999999999999999, 0.04999999999999999, 0.04999999999999999, 0.05000000000000002, 0.05, 0.05, 0.04999999999999999, 0.04999999999999999, 0.050000000000000044, 0.04999999999999999, 0.04999999999999993, 0.050000000000000044, 0.050000000000000044, 0.04999999999999993, 0.050000000000000044],
        [0.050000000000000044, 0.04999999999999993, 0.050000000000000044, 0.050000000000000044, 0.04999999999999993, 0.04999999999999999, 0.050000000000000044, 0.04999999999999999, 0.04999999999999999, 0.05, 0.05, 0.05000000000000002, 0.04999999999999999, 0.04999999999999999, 0.04999999999999999, 0.050000000000000044, 0.04999999999999993, 0.050000000000000044, 0.050000000000000044, 0.04999999999999993],
    ],
    'Theory [TYPE=BSM]' : [
        [0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05],
        [0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05],
    ],
    'SM as BG [TYPE=BSM]' : [
        [0.04999999999999993, 0.050000000000000044, 0.050000000000000044, 0.04999999999999993, 0.050000000000000044, 0.04999999999999999, 0.04999999999999999, 0.04999999999999999, 0.05000000000000002, 0.05, 0.05, 0.04999999999999999, 0.04999999999999999, 0.050000000000000044, 0.04999999999999999, 0.04999999999999993, 0.050000000000000044, 0.050000000000000044, 0.04999999999999993, 0.050000000000000044],
        [0.050000000000000044, 0.04999999999999993, 0.050000000000000044, 0.050000000000000044, 0.04999999999999993, 0.04999999999999999, 0.050000000000000044, 0.04999999999999999, 0.04999999999999999, 0.05, 0.05, 0.05000000000000002, 0.04999999999999999, 0.04999999999999999, 0.04999999999999999, 0.050000000000000044, 0.04999999999999993, 0.050000000000000044, 0.050000000000000044, 0.04999999999999993],
    ],
}
yerrs = {
    'ATLAS Data' : [
        [2.372708602621174, 6.03917510771831, 7.763600566164392, 9.643273199349998, 12.45257478787977, 12.495524882429649, 12.225120668453702, 10.369206353349158, 11.038454696020594, 9.683288865846007, 10.860009112737076, 8.962681169999568, 11.045125498580703, 11.884506012680585, 11.362546963555484, 12.26192983032246, 10.611194996852072, 8.130188578332442, 5.945392620064016, 2.579223799989923],
        [2.372708602621174, 6.03917510771831, 7.763600566164392, 9.643273199349998, 12.45257478787977, 12.495524882429649, 12.225120668453702, 10.369206353349158, 11.038454696020594, 9.683288865846007, 10.860009112737076, 8.962681169999568, 11.045125498580703, 11.884506012680585, 11.362546963555484, 12.26192983032246, 10.611194996852072, 8.130188578332442, 5.945392620064016, 2.579223799989923],
    ],
    'Theory [TYPE=BSM]' : [
        [7.616522, 37.75464, 43.07323, 46.28384, 49.52398, 50.31782, 47.57746, 43.31059, 40.04638, 38.06744, 38.07392, 40.00427, 43.44361, 48.03972, 50.53324, 49.31289, 46.21286, 42.9177, 37.32379, 7.671826],
        [7.616522, 37.75464, 43.07323, 46.28384, 49.52398, 50.31782, 47.57746, 43.31059, 40.04638, 38.06744, 38.07392, 40.00427, 43.44361, 48.03972, 50.53324, 49.31289, 46.21286, 42.9177, 37.32379, 7.671826],
    ],
    'SM as BG [TYPE=BSM]' : [
        [7.616522, 37.75464, 43.07323, 46.28384, 49.52398, 50.31782, 47.57746, 43.31059, 40.04638, 38.06744, 38.07392, 40.00427, 43.44361, 48.03972, 50.53324, 49.31289, 46.21286, 42.9177, 37.32379, 7.671826],
        [7.616522, 37.75464, 43.07323, 46.28384, 49.52398, 50.31782, 47.57746, 43.31059, 40.04638, 38.06744, 38.07392, 40.00427, 43.44361, 48.03972, 50.53324, 49.31289, 46.21286, 42.9177, 37.32379, 7.671826],
    ],
}
variation_yvals = {
}


# lists for ratio plot
ratio0_yvals = {
    'ATLAS Data' : [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],
    'Theory [TYPE=BSM]' : [-0.9954867603171572, 4.503926366572368, 3.199546368763303, 2.038726850684389, 1.351527719101178, 0.821894245870454, 1.436386639954621, 1.6577932210258104, 1.385157653046499, 2.328754239640236, 1.2274391173729335, 1.8320410699157759, 2.1140547477709055, 1.4009837667829594, 1.0112169425440722, 1.5013949887785205, 1.4644910403220497, 3.0478997825512373, 5.432778298105433, -2.1048968298219073],
    'SM as BG [TYPE=BSM]' : [-0.9954867603171572, 4.503926366572368, 3.199546368763303, 2.038726850684389, 1.351527719101178, 0.821894245870454, 1.436386639954621, 1.6577932210258104, 1.385157653046499, 2.328754239640236, 1.2274391173729335, 1.8320410699157759, 2.1140547477709055, 1.4009837667829594, 1.0112169425440722, 1.5013949887785205, 1.4644910403220497, 3.0478997825512373, 5.432778298105433, -2.1048968298219073],
}
ratio0_yerrs = {
    'ATLAS Data' : [
        [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
        [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
    ],
    'Theory [TYPE=BSM]' : [
        [3.2100536878341868, 6.251622005751753, 5.548099703599298, 4.799598543274678, 3.9770072329300317, 4.02686725635299, 3.891778354611354, 4.176847149542074, 3.627897301099299, 3.9312510994346064, 3.5058828776989976, 4.4634266511571035, 3.933283510955353, 4.042214287135061, 4.447351475164993, 4.021625525702685, 4.355104209630447, 5.2788074454236975, 6.277767068577234, 2.9744708466283436],
        [3.2100536878341868, 6.251622005751753, 5.548099703599298, 4.799598543274678, 3.9770072329300317, 4.02686725635299, 3.891778354611354, 4.176847149542074, 3.627897301099299, 3.9312510994346064, 3.5058828776989976, 4.4634266511571035, 3.933283510955353, 4.042214287135061, 4.447351475164993, 4.021625525702685, 4.355104209630447, 5.2788074454236975, 6.277767068577234, 2.9744708466283436],
    ],
    'SM as BG [TYPE=BSM]' : [
        [3.2100536878341868, 6.251622005751753, 5.548099703599298, 4.799598543274678, 3.9770072329300317, 4.02686725635299, 3.891778354611354, 4.176847149542074, 3.627897301099299, 3.9312510994346064, 3.5058828776989976, 4.4634266511571035, 3.933283510955353, 4.042214287135061, 4.447351475164993, 4.021625525702685, 4.355104209630447, 5.2788074454236975, 6.277767068577234, 2.9744708466283436],
        [3.2100536878341868, 6.251622005751753, 5.548099703599298, 4.799598543274678, 3.9770072329300317, 4.02686725635299, 3.891778354611354, 4.176847149542074, 3.627897301099299, 3.9312510994346064, 3.5058828776989976, 4.4634266511571035, 3.933283510955353, 4.042214287135061, 4.447351475164993, 4.021625525702685, 4.355104209630447, 5.2788074454236975, 6.277767068577234, 2.9744708466283436],
    ],
}
ratio0_variation_vals = {
}
ratio_band_edges = {
    'ratio0_ATLAS Data_1sigma-band_dn' : [-1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0],
    'ratio0_ATLAS Data_1sigma-band_up' : [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
    'ratio0_Theory [TYPE=BSM]_1sigma-band_dn' : [-4.205540448151344, -4.205540448151344, -1.7476956391793852, -2.348553334835995, -2.760871692590289, -2.6254795138288536, -3.204973010482536, -2.455391714656733, -2.519053928516264, -2.2427396480528, -1.60249685979437, -2.278443760326064, -2.631385581241327, -1.8192287631844477, -2.6412305203521016, -3.436134532620921, -2.520230536924165, -2.8906131693083976, -2.2309076628724607, -0.8449887704718022, -5.079367676450251],
    'ratio0_Theory [TYPE=BSM]_1sigma-band_up' : [2.2145669275170294, 2.2145669275170294, 10.755548372324121, 8.747646072362599, 6.838325393959067, 5.328534952031209, 4.848761502223444, 5.328164994565975, 5.834640370567884, 5.013054954145798, 6.2600053390748425, 4.733321995071932, 6.295467721072879, 6.047338258726259, 5.443198053918021, 5.458568417709065, 5.523020514481207, 5.8195952499524966, 8.326707227974934, 11.710545366682666, 0.8695740168064364],
    'ratio0_SM as BG [TYPE=BSM]_1sigma-band_dn' : [-4.205540448151344, -4.205540448151344, -1.7476956391793852, -2.348553334835995, -2.760871692590289, -2.6254795138288536, -3.204973010482536, -2.455391714656733, -2.519053928516264, -2.2427396480528, -1.60249685979437, -2.278443760326064, -2.631385581241327, -1.8192287631844477, -2.6412305203521016, -3.436134532620921, -2.520230536924165, -2.8906131693083976, -2.2309076628724607, -0.8449887704718022, -5.079367676450251],
    'ratio0_SM as BG [TYPE=BSM]_1sigma-band_up' : [2.2145669275170294, 2.2145669275170294, 10.755548372324121, 8.747646072362599, 6.838325393959067, 5.328534952031209, 4.848761502223444, 5.328164994565975, 5.834640370567884, 5.013054954145798, 6.2600053390748425, 4.733321995071932, 6.295467721072879, 6.047338258726259, 5.443198053918021, 5.458568417709065, 5.523020514481207, 5.8195952499524966, 8.326707227974934, 11.710545366682666, 0.8695740168064364],
}