
import numpy as np
from numpy import nan

add_legend_handle = [
    'ATLAS Data',
    'Theory [TYPE=BSM]',
    'SM as BG [TYPE=BSM]'
]

xpoints = {
    'ATLAS Data' : [220.0, 270.0, 340.0, 425.0, 520.0, 620.0, 730.0, 850.0, 975.0, 1110.0, 1890.0],
    'Theory [TYPE=BSM]' : [220.0, 270.0, 340.0, 425.0, 520.0, 620.0, 730.0, 850.0, 975.0, 1110.0, 1890.0],
    'SM as BG [TYPE=BSM]' : [220.0, 270.0, 340.0, 425.0, 520.0, 620.0, 730.0, 850.0, 975.0, 1110.0, 1890.0],
}
xedges = {
    'ATLAS Data' : [200.0, 240.0, 300.0, 380.0, 470.0, 570.0, 670.0, 790.0, 910.0, 1040.0, 1180.0, 2600.0],
    'Theory [TYPE=BSM]' : [200.0, 240.0, 300.0, 380.0, 470.0, 570.0, 670.0, 790.0, 910.0, 1040.0, 1180.0, 2600.0],
    'SM as BG [TYPE=BSM]' : [200.0, 240.0, 300.0, 380.0, 470.0, 570.0, 670.0, 790.0, 910.0, 1040.0, 1180.0, 2600.0],
}
ref_xerrs = [
  [abs(xpoints['ATLAS Data'][i]   - xedges['ATLAS Data'][i]) for i in range(len(xpoints['ATLAS Data']))],
  [abs(xedges['ATLAS Data'][i+1] - xpoints['ATLAS Data'][i]) for i in range(len(xpoints['ATLAS Data']))]
]

yvals = {
    'ATLAS Data' : [52.473, 20.966, 6.7509, 2.0017, 0.60513, 0.20769, 0.075562, 0.024213, 0.0087403, 0.0044597, 0.00019865],
    'Theory [TYPE=BSM]' : [48.183, 19.135, 5.9648, 1.7146, 0.51065, 0.16713, 0.057047, 0.019804, 0.0074006, 0.0027205, 0.00017772],
    'SM as BG [TYPE=BSM]' : [48.1831261191, 19.13504203971, 5.964863059560001, 1.7146, 0.51065, 0.16715522382, 0.05706801985, 0.019804, 0.0074006, 0.0027205, 0.00017772],
}
xerrs = {
    'ATLAS Data' : [
        [20.0, 30.0, 40.0, 45.0, 50.0, 50.0, 60.0, 60.0, 65.0, 70.0, 710.0],
        [20.0, 30.0, 40.0, 45.0, 50.0, 50.0, 60.0, 60.0, 65.0, 70.0, 710.0],
    ],
    'Theory [TYPE=BSM]' : [
        [20.0, 30.0, 40.0, 45.0, 50.0, 50.0, 60.0, 60.0, 65.0, 70.0, 710.0],
        [20.0, 30.0, 40.0, 45.0, 50.0, 50.0, 60.0, 60.0, 65.0, 70.0, 710.0],
    ],
    'SM as BG [TYPE=BSM]' : [
        [20.0, 30.0, 40.0, 45.0, 50.0, 50.0, 60.0, 60.0, 65.0, 70.0, 710.0],
        [20.0, 30.0, 40.0, 45.0, 50.0, 50.0, 60.0, 60.0, 65.0, 70.0, 710.0],
    ],
}
yerrs = {
    'ATLAS Data' : [
        [3.1851507636968304, 1.0745346058616017, 0.2966424071032049, 0.0778100988493306, 0.025146706315224584, 0.007356724792402938, 0.003396496778670105, 0.0015528753951235877, 0.0011604196341699438, 0.0005730150710407029, 3.9494501073075554e-05],
        [3.1851507636968304, 1.0745346058616017, 0.2966424071032049, 0.0778100988493306, 0.025146706315224584, 0.007356724792402938, 0.003396496778670105, 0.0015528753951235877, 0.0011604196341699438, 0.0005730150710407029, 3.9494501073075554e-05],
    ],
    'Theory [TYPE=BSM]' : [
        [13.63705, 5.093598, 1.452094, 0.3774603, 0.1019104, 0.03189539, 0.01075577, 0.003697126, 0.00143614, 0.0005682859, 4.000418e-05],
        [13.63705, 5.093598, 1.452094, 0.3774603, 0.1019104, 0.03189539, 0.01075577, 0.003697126, 0.00143614, 0.0005682859, 4.000418e-05],
    ],
    'SM as BG [TYPE=BSM]' : [
        [13.637050000291596, 5.093598000173486, 1.4520940006846161, 0.3774603, 0.1019104, 0.031895399973870774, 0.010755790539378963, 0.003697126, 0.00143614, 0.0005682859, 4.000418e-05],
        [13.637050000291596, 5.093598000173486, 1.4520940006846161, 0.3774603, 0.1019104, 0.031895399973870774, 0.010755790539378963, 0.003697126, 0.00143614, 0.0005682859, 4.000418e-05],
    ],
}
variation_yvals = {
}


# lists for ratio plot
ratio0_yvals = {
    'ATLAS Data' : [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],
    'Theory [TYPE=BSM]' : [-1.3468750204529818, -1.703993514970917, -2.6499919808380845, -3.6897524131916724, -3.757152082489579, -5.5133229996431385, -5.451204934529493, -2.8392490561994532, -1.154496149971037, -3.0351732230031683, -0.5299471934402671],
    'SM as BG [TYPE=BSM]' : [-1.3468354244936822, -1.7039543913263455, -2.649779403140188, -3.6897524131916724, -3.757152082489579, -5.509894324422604, -5.445016249136943, -2.8392490561994532, -1.154496149971037, -3.0351732230031683, -0.5299471934402671],
}
ratio0_yerrs = {
    'ATLAS Data' : [
        [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
        [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
    ],
    'Theory [TYPE=BSM]' : [
        [4.2814456871021775, 4.74028288359849, 4.895099167310902, 4.85104511601899, 4.052634119256418, 4.335542092445457, 3.166724628607306, 2.3808259256408393, 1.2376040164360722, 0.9917468644723185, 1.0129050605293481],
        [4.2814456871021775, 4.74028288359849, 4.895099167310902, 4.85104511601899, 4.052634119256418, 4.335542092445457, 3.166724628607306, 2.3808259256408393, 1.2376040164360722, 0.9917468644723185, 1.0129050605293481],
    ],
    'SM as BG [TYPE=BSM]' : [
        [4.281445687193726, 4.740282883759942, 4.895099169618786, 4.85104511601899, 4.052634119256418, 4.335543448194252, 3.1667306758319325, 2.3808259256408393, 1.2376040164360722, 0.9917468644723185, 1.0129050605293481],
        [4.281445687193726, 4.740282883759942, 4.895099169618786, 4.85104511601899, 4.052634119256418, 4.335543448194252, 3.1667306758319325, 2.3808259256408393, 1.2376040164360722, 0.9917468644723185, 1.0129050605293481],
    ],
}
ratio0_variation_vals = {
}
ratio_band_edges = {
    'ratio0_ATLAS Data_1sigma-band_dn' : [-1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0],
    'ratio0_ATLAS Data_1sigma-band_up' : [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
    'ratio0_Theory [TYPE=BSM]_1sigma-band_dn' : [-5.62832070755516, -5.62832070755516, -6.444276398569407, -7.545091148148987, -8.540797529210662, -7.8097862017459985, -9.848865092088595, -8.617929563136798, -5.220074981840293, -2.392100166407109, -4.026920087475487, -1.5428522539696152],
    'ratio0_Theory [TYPE=BSM]_1sigma-band_up' : [2.9345706666491953, 2.9345706666491953, 3.036289368627573, 2.245107186472818, 1.1612927028273177, 0.2954820367668393, -1.177780907197682, -2.284480305922187, -0.4584231305586141, 0.0831078664650353, -2.04342635853085, 0.48295786708908106],
    'ratio0_SM as BG [TYPE=BSM]_1sigma-band_dn' : [-5.628281111687407, -5.628281111687407, -6.444237275086288, -7.544878572758974, -8.540797529210662, -7.8097862017459985, -9.845437772616856, -8.611746924968875, -5.220074981840293, -2.392100166407109, -4.026920087475487, -1.5428522539696152],
    'ratio0_SM as BG [TYPE=BSM]_1sigma-band_up' : [2.9346102627000437, 2.9346102627000437, 3.0363284924335967, 2.245319766478598, 1.1612927028273177, 0.2954820367668393, -1.1743508762283528, -2.278285573305011, -0.4584231305586141, 0.0831078664650353, -2.04342635853085, 0.48295786708908106],
}