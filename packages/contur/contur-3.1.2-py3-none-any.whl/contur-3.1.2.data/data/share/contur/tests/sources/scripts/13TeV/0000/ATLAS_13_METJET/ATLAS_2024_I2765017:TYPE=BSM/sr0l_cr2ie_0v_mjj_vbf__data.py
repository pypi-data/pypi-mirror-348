
import numpy as np
from numpy import nan

add_legend_handle = [
    'ATLAS Data',
    'Theory [TYPE=BSM]',
    'SM as BG [TYPE=BSM]'
]

xpoints = {
    'ATLAS Data' : [235.0, 325.0, 445.0, 585.0, 750.0, 940.0, 1155.0, 1395.0, 1665.0, 2010.0, 2450.0, 2950.0, 3490.0, 5985.0],
    'Theory [TYPE=BSM]' : [235.0, 325.0, 445.0, 585.0, 750.0, 940.0, 1155.0, 1395.0, 1665.0, 2010.0, 2450.0, 2950.0, 3490.0, 5985.0],
    'SM as BG [TYPE=BSM]' : [235.0, 325.0, 445.0, 585.0, 750.0, 940.0, 1155.0, 1395.0, 1665.0, 2010.0, 2450.0, 2950.0, 3490.0, 5985.0],
}
xedges = {
    'ATLAS Data' : [200.0, 270.0, 380.0, 510.0, 660.0, 840.0, 1040.0, 1270.0, 1520.0, 1810.0, 2210.0, 2690.0, 3210.0, 3770.0, 8200.0],
    'Theory [TYPE=BSM]' : [200.0, 270.0, 380.0, 510.0, 660.0, 840.0, 1040.0, 1270.0, 1520.0, 1810.0, 2210.0, 2690.0, 3210.0, 3770.0, 8200.0],
    'SM as BG [TYPE=BSM]' : [200.0, 270.0, 380.0, 510.0, 660.0, 840.0, 1040.0, 1270.0, 1520.0, 1810.0, 2210.0, 2690.0, 3210.0, 3770.0, 8200.0],
}
ref_xerrs = [
  [abs(xpoints['ATLAS Data'][i]   - xedges['ATLAS Data'][i]) for i in range(len(xpoints['ATLAS Data']))],
  [abs(xedges['ATLAS Data'][i+1] - xpoints['ATLAS Data'][i]) for i in range(len(xpoints['ATLAS Data']))]
]

yvals = {
    'ATLAS Data' : [0.86285, 0.756, 0.52155, 0.30338, 0.16326, 0.085357, 0.042953, 0.023154, 0.012865, 0.0068827, 0.0027914, 0.0013154, 0.00057035, 6.6903e-05],
    'Theory [TYPE=BSM]' : [0.87776, 0.82058, 0.56678, 0.33338, 0.18179, 0.094718, 0.049237, 0.025044, 0.012953, 0.0063169, 0.0026081, 0.001077, 0.00042879, 3.819e-05],
    'SM as BG [TYPE=BSM]' : [0.87776, 0.82058, 0.56678, 0.33338, 0.18180401324, 0.094718, 0.049237, 0.025044, 0.012953, 0.0063169, 0.0026081, 0.001077, 0.00042879, 3.819e-05],
}
xerrs = {
    'ATLAS Data' : [
        [35.0, 55.0, 65.0, 75.0, 90.0, 100.0, 115.0, 125.0, 145.0, 200.0, 240.0, 260.0, 280.0, 2215.0],
        [35.0, 55.0, 65.0, 75.0, 90.0, 100.0, 115.0, 125.0, 145.0, 200.0, 240.0, 260.0, 280.0, 2215.0],
    ],
    'Theory [TYPE=BSM]' : [
        [35.0, 55.0, 65.0, 75.0, 90.0, 100.0, 115.0, 125.0, 145.0, 200.0, 240.0, 260.0, 280.0, 2215.0],
        [35.0, 55.0, 65.0, 75.0, 90.0, 100.0, 115.0, 125.0, 145.0, 200.0, 240.0, 260.0, 280.0, 2215.0],
    ],
    'SM as BG [TYPE=BSM]' : [
        [35.0, 55.0, 65.0, 75.0, 90.0, 100.0, 115.0, 125.0, 145.0, 200.0, 240.0, 260.0, 280.0, 2215.0],
        [35.0, 55.0, 65.0, 75.0, 90.0, 100.0, 115.0, 125.0, 145.0, 200.0, 240.0, 260.0, 280.0, 2215.0],
    ],
}
yerrs = {
    'ATLAS Data' : [
        [0.06414444006291727, 0.044846479466049936, 0.02806318997065083, 0.015744061863433446, 0.009819525713469399, 0.00433909276124576, 0.0024917846253153437, 0.0017616026772449924, 0.00115925258217805, 0.0006340315756304956, 0.0003450378931320322, 0.00019724973593094236, 0.00012623092988716167, 1.6311845726512825e-05],
        [0.06414444006291727, 0.044846479466049936, 0.02806318997065083, 0.015744061863433446, 0.009819525713469399, 0.00433909276124576, 0.0024917846253153437, 0.0017616026772449924, 0.00115925258217805, 0.0006340315756304956, 0.0003450378931320322, 0.00019724973593094236, 0.00012623092988716167, 1.6311845726512825e-05],
    ],
    'Theory [TYPE=BSM]' : [
        [0.1798408, 0.169897, 0.1178654, 0.06852096, 0.03675715, 0.01851616, 0.009211972, 0.004375885, 0.002094844, 0.0009661709, 0.0003741546, 0.0001576995, 6.807349e-05, 7.532768e-06],
        [0.1798408, 0.169897, 0.1178654, 0.06852096, 0.03675715, 0.01851616, 0.009211972, 0.004375885, 0.002094844, 0.0009661709, 0.0003741546, 0.0001576995, 6.807349e-05, 7.532768e-06],
    ],
    'SM as BG [TYPE=BSM]' : [
        [0.1798408, 0.169897, 0.1178654, 0.06852096, 0.03675715267119306, 0.01851616, 0.009211972, 0.004375885, 0.002094844, 0.0009661709, 0.0003741546, 0.0001576995, 6.807349e-05, 7.532768e-06],
        [0.1798408, 0.169897, 0.1178654, 0.06852096, 0.03675715267119306, 0.01851616, 0.009211972, 0.004375885, 0.002094844, 0.0009661709, 0.0003741546, 0.0001576995, 6.807349e-05, 7.532768e-06],
    ],
}
variation_yvals = {
}


# lists for ratio plot
ratio0_yvals = {
    'ATLAS Data' : [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],
    'Theory [TYPE=BSM]' : [0.23244415237509639, 1.4400238495619009, 1.6117198382401514, 1.9054803176095791, 1.887056517870563, 2.1573634202077847, 2.5218872996315818, 1.0728866528267373, 0.07591098036172722, -0.892384577909003, -0.5312459983340391, -1.2086201224799835, -1.121436720196397, -1.7602545096003874],
    'SM as BG [TYPE=BSM]' : [0.23244415237509639, 1.4400238495619009, 1.6117198382401514, 1.9054803176095791, 1.8884835969789537, 2.1573634202077847, 2.5218872996315818, 1.0728866528267373, 0.07591098036172722, -0.892384577909003, -0.5312459983340391, -1.2086201224799835, -1.121436720196397, -1.7602545096003874],
}
ratio0_yerrs = {
    'ATLAS Data' : [
        [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
        [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
    ],
    'Theory [TYPE=BSM]' : [
        [2.8036849308155127, 3.7884133163366114, 4.200000075660198, 4.352178020790439, 3.7432714239528275, 4.267288352389126, 3.6969374906686387, 2.4840363020130845, 1.8070643380100333, 1.5238529706335484, 1.0843869831329684, 0.7994915646184236, 0.5392774184651192, 0.46179740332857894],
        [2.8036849308155127, 3.7884133163366114, 4.200000075660198, 4.352178020790439, 3.7432714239528275, 4.267288352389126, 3.6969374906686387, 2.4840363020130845, 1.8070643380100333, 1.5238529706335484, 1.0843869831329684, 0.7994915646184236, 0.5392774184651192, 0.46179740332857894],
    ],
    'SM as BG [TYPE=BSM]' : [
        [2.8036849308155127, 3.7884133163366114, 4.200000075660198, 4.352178020790439, 3.7432716959815524, 4.267288352389126, 3.6969374906686387, 2.4840363020130845, 1.8070643380100333, 1.5238529706335484, 1.0843869831329684, 0.7994915646184236, 0.5392774184651192, 0.46179740332857894],
        [2.8036849308155127, 3.7884133163366114, 4.200000075660198, 4.352178020790439, 3.7432716959815524, 4.267288352389126, 3.6969374906686387, 2.4840363020130845, 1.8070643380100333, 1.5238529706335484, 1.0843869831329684, 0.7994915646184236, 0.5392774184651192, 0.46179740332857894],
    ],
}
ratio0_variation_vals = {
}
ratio_band_edges = {
    'ratio0_ATLAS Data_1sigma-band_dn' : [-1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0],
    'ratio0_ATLAS Data_1sigma-band_up' : [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
    'ratio0_Theory [TYPE=BSM]_1sigma-band_dn' : [-2.571240778440416, -2.571240778440416, -2.3483894667747105, -2.588280237420047, -2.4466977031808597, -1.8562149060822648, -2.1099249321813405, -1.1750501910370568, -1.411149649186347, -1.731153357648306, -2.4162375485425516, -1.6156329814670076, -2.008111687098407, -1.6607141386615163, -2.2220519129289666],
    'ratio0_Theory [TYPE=BSM]_1sigma-band_up' : [3.036129083190609, 3.036129083190609, 5.228437165898512, 5.81171991390035, 6.257658338400018, 5.63032794182339, 6.42465177259691, 6.2188247903002205, 3.556922954839822, 1.8829753183717606, 0.6314683927245452, 0.5531409847989294, -0.40912855786155977, -0.5821593017312778, -1.2984571062718084],
    'ratio0_SM as BG [TYPE=BSM]_1sigma-band_dn' : [-2.571240778440416, -2.571240778440416, -2.3483894667747105, -2.588280237420047, -2.4466977031808597, -1.8547880990025987, -2.1099249321813405, -1.1750501910370568, -1.411149649186347, -1.731153357648306, -2.4162375485425516, -1.6156329814670076, -2.008111687098407, -1.6607141386615163, -2.2220519129289666],
    'ratio0_SM as BG [TYPE=BSM]_1sigma-band_up' : [3.036129083190609, 3.036129083190609, 5.228437165898512, 5.81171991390035, 6.257658338400018, 5.631755292960507, 6.42465177259691, 6.2188247903002205, 3.556922954839822, 1.8829753183717606, 0.6314683927245452, 0.5531409847989294, -0.40912855786155977, -0.5821593017312778, -1.2984571062718084],
}