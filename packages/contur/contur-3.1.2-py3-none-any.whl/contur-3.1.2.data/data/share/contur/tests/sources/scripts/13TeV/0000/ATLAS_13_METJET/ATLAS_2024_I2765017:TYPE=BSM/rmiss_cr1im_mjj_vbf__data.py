
import numpy as np
from numpy import nan

add_legend_handle = [
    'ATLAS Data',
    'Theory [TYPE=BSM]',
    'SM as BG [TYPE=BSM]'
]

xpoints = {
    'ATLAS Data' : [235.0, 325.0, 445.0, 585.0, 750.0, 940.0, 1155.0, 1395.0, 1665.0, 2010.0, 2450.0, 2950.0, 3490.0, 5985.0],
    'Theory [TYPE=BSM]' : [235.0, 325.0, 445.0, 585.0, 750.0, 940.0, 1155.0, 1395.0, 1665.0, 2010.0, 2450.0, 2950.0, 3490.0, 5985.0],
    'SM as BG [TYPE=BSM]' : [235.0, 325.0, 445.0, 585.0, 750.0, 940.0, 1155.0, 1395.0, 1665.0, 2010.0, 2450.0, 2950.0, 3490.0, 5985.0],
}
xedges = {
    'ATLAS Data' : [200.0, 270.0, 380.0, 510.0, 660.0, 840.0, 1040.0, 1270.0, 1520.0, 1810.0, 2210.0, 2690.0, 3210.0, 3770.0, 8200.0],
    'Theory [TYPE=BSM]' : [200.0, 270.0, 380.0, 510.0, 660.0, 840.0, 1040.0, 1270.0, 1520.0, 1810.0, 2210.0, 2690.0, 3210.0, 3770.0, 8200.0],
    'SM as BG [TYPE=BSM]' : [200.0, 270.0, 380.0, 510.0, 660.0, 840.0, 1040.0, 1270.0, 1520.0, 1810.0, 2210.0, 2690.0, 3210.0, 3770.0, 8200.0],
}
ref_xerrs = [
  [abs(xpoints['ATLAS Data'][i]   - xedges['ATLAS Data'][i]) for i in range(len(xpoints['ATLAS Data']))],
  [abs(xedges['ATLAS Data'][i+1] - xpoints['ATLAS Data'][i]) for i in range(len(xpoints['ATLAS Data']))]
]

yvals = {
    'ATLAS Data' : [1.1064, 1.0949, 1.0686, 1.051, 1.0886, 1.1174, 1.1072, 1.0975, 1.0874, 1.0286, 1.0612, 1.0232, 0.93222, 0.83487],
    'Theory [TYPE=BSM]' : [1.017134, 1.012442, 1.002357, 1.004338, 1.010862, 1.018878, 1.022472, 1.023969, 1.023673, 1.012338, 0.9830898, 0.955111, 0.9053109, 0.8319624],
    'SM as BG [TYPE=BSM]' : [1.017134, 1.012439, 1.002343, 1.004328, 1.010827, 1.018762, 1.022306, 1.023845, 1.023424, 1.012192, 0.982958, 0.955111, 0.9046911, 0.8321319],
}
xerrs = {
    'ATLAS Data' : [
        [35.0, 55.0, 65.0, 75.0, 90.0, 100.0, 115.0, 125.0, 145.0, 200.0, 240.0, 260.0, 280.0, 2215.0],
        [35.0, 55.0, 65.0, 75.0, 90.0, 100.0, 115.0, 125.0, 145.0, 200.0, 240.0, 260.0, 280.0, 2215.0],
    ],
    'Theory [TYPE=BSM]' : [
        [35.0, 55.0, 65.0, 75.0, 90.0, 100.0, 115.0, 125.0, 145.0, 200.0, 240.0, 260.0, 280.0, 2215.0],
        [35.0, 55.0, 65.0, 75.0, 90.0, 100.0, 115.0, 125.0, 145.0, 200.0, 240.0, 260.0, 280.0, 2215.0],
    ],
    'SM as BG [TYPE=BSM]' : [
        [35.0, 55.0, 65.0, 75.0, 90.0, 100.0, 115.0, 125.0, 145.0, 200.0, 240.0, 260.0, 280.0, 2215.0],
        [35.0, 55.0, 65.0, 75.0, 90.0, 100.0, 115.0, 125.0, 145.0, 200.0, 240.0, 260.0, 280.0, 2215.0],
    ],
}
yerrs = {
    'ATLAS Data' : [
        [0.024051439212485808, 0.02905702429901073, 0.04297261900900153, 0.03424691142188859, 0.033285480101616326, 0.03823334799161219, 0.039987979088031374, 0.04176361868072841, 0.06057748585227436, 0.05363787509427865, 0.06444446710171005, 0.0707863439162576, 0.08923334443748727, 0.0970832182925171],
        [0.024051439212485808, 0.02905702429901073, 0.04297261900900153, 0.03424691142188859, 0.033285480101616326, 0.03823334799161219, 0.039987979088031374, 0.04176361868072841, 0.06057748585227436, 0.05363787509427865, 0.06444446710171005, 0.0707863439162576, 0.08923334443748727, 0.0970832182925171],
    ],
    'Theory [TYPE=BSM]' : [
        [0.03180856, 0.03158326, 0.03273418, 0.03200131, 0.02982817, 0.02905684, 0.02819118, 0.03032356, 0.03002794, 0.03170268, 0.0355486, 0.04528621, 0.04171012, 0.04595821],
        [0.03180856, 0.03158326, 0.03273418, 0.03200131, 0.02982817, 0.02905684, 0.02819118, 0.03032356, 0.03002794, 0.03170268, 0.0355486, 0.04528621, 0.04171012, 0.04595821],
    ],
    'SM as BG [TYPE=BSM]' : [
        [0.03181009216366074, 0.03158488093055957, 0.03273570343082532, 0.03200293691515518, 0.029829926683694025, 0.029058398207145727, 0.028189190786167898, 0.030311967101158542, 0.029976563148328788, 0.03158222107080752, 0.03535718008838694, 0.045054899113876334, 0.04114764635841085, 0.04550457752591252],
        [0.03181009216366074, 0.03158488093055957, 0.03273570343082532, 0.03200293691515518, 0.029829926683694025, 0.029058398207145727, 0.028189190786167898, 0.030311967101158542, 0.029976563148328788, 0.03158222107080752, 0.03535718008838694, 0.045054899113876334, 0.04114764635841085, 0.04550457752591252],
    ],
}
variation_yvals = {
}


# lists for ratio plot
ratio0_yvals = {
    'ATLAS Data' : [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],
    'Theory [TYPE=BSM]' : [-3.711461888470253, -2.8377991893274244, -1.541516470897993, -1.3625170289130484, -2.3354928263818304, -2.576860389563954, -2.1188367587538197, -1.7606472408946328, -1.0519914965669916, -0.30318128694353524, -1.2120544014542287, -0.9618945722151073, -0.30155879699041516, -0.029949563386323375],
    'SM as BG [TYPE=BSM]' : [-3.711461888470253, -2.83790243458644, -1.5418422597450034, -1.3628090260475243, -2.3365443359257263, -2.579894390144428, -2.1229880062983546, -1.7636163322693041, -1.0561019345704337, -0.3059032441378379, -1.214099573148984, -0.9618945722151073, -0.30850463101588155, -0.028203638570673654],
}
ratio0_yerrs = {
    'ATLAS Data' : [
        [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
        [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
    ],
    'Theory [TYPE=BSM]' : [
        [1.3225221043523767, 1.0869406197617861, 0.7617450542901081, 0.9344290819623127, 0.8961315837698121, 0.7599868054028286, 0.7049913659787268, 0.7260759713332179, 0.49569472185139574, 0.591050259621146, 0.551616012960354, 0.6397591328289954, 0.4674275100068694, 0.4733898485063131],
        [1.3225221043523767, 1.0869406197617861, 0.7617450542901081, 0.9344290819623127, 0.8961315837698121, 0.7599868054028286, 0.7049913659787268, 0.7260759713332179, 0.49569472185139574, 0.591050259621146, 0.551616012960354, 0.6397591328289954, 0.4674275100068694, 0.4733898485063131],
    ],
    'SM as BG [TYPE=BSM]' : [
        [1.3225858079689132, 1.0869964042269429, 0.7617805054881138, 0.9344765874186485, 0.896184360046094, 0.7600275605871789, 0.7049416206833288, 0.7257983876561404, 0.4948466039252655, 0.5888044784640672, 0.5486457050313436, 0.6364913996289687, 0.4611241080091644, 0.4687172337942559],
        [1.3225858079689132, 1.0869964042269429, 0.7617805054881138, 0.9344765874186485, 0.896184360046094, 0.7600275605871789, 0.7049416206833288, 0.7257983876561404, 0.4948466039252655, 0.5888044784640672, 0.5486457050313436, 0.6364913996289687, 0.4611241080091644, 0.4687172337942559],
    ],
}
ratio0_variation_vals = {
}
ratio_band_edges = {
    'ratio0_ATLAS Data_1sigma-band_dn' : [-1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0],
    'ratio0_ATLAS Data_1sigma-band_up' : [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
    'ratio0_Theory [TYPE=BSM]_1sigma-band_dn' : [-5.0339839928226295, -5.0339839928226295, -3.9247398090892105, -2.303261525188101, -2.296946110875361, -3.2316244101516425, -3.3368471949667824, -2.8238281247325463, -2.4867232122278504, -1.5476862184183873, -0.8942315465646813, -1.7636704144145827, -1.6016537050441026, -0.7689863069972845, -0.5033394118926365],
    'ratio0_Theory [TYPE=BSM]_1sigma-band_up' : [-2.388939784117876, -2.388939784117876, -1.7508585695656382, -0.779771416607885, -0.42808794695073554, -1.4393612426120184, -1.8168735841611252, -1.413845392775093, -1.0345712695614149, -0.5562967747155958, 0.28786897267761075, -0.6604383884938747, -0.32213543938611183, 0.16586871301645417, 0.44344028511998973],
    'ratio0_SM as BG [TYPE=BSM]_1sigma-band_dn' : [-5.034047696439166, -5.034047696439166, -3.924898838813383, -2.3036227652331176, -2.2972856134661725, -3.2327286959718204, -3.3399219507316067, -2.8279296269816836, -2.4894147199254446, -1.5509485384956994, -0.8947077226019051, -1.762745278180328, -1.598385971844076, -0.7696287390250459, -0.49692087236492954],
    'ratio0_SM as BG [TYPE=BSM]_1sigma-band_up' : [-2.3888760805013396, -2.3888760805013396, -1.750906030359497, -0.7800617542568895, -0.4283324386288758, -1.4403599758796322, -1.8198668295572487, -1.4180463856150258, -1.0378179446131637, -0.5612553306451681, 0.28290123432622927, -0.6654538681176405, -0.3254031725861386, 0.15261947699328285, 0.44051359522358224],
}