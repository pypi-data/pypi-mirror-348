
import numpy as np
from numpy import nan

add_legend_handle = [
    'ATLAS Data',
    'Theory [TYPE=BSM]',
    'SM as BG [TYPE=BSM]'
]

xpoints = {
    'ATLAS Data' : [220.0, 270.0, 340.0, 425.0, 520.0, 620.0, 730.0, 850.0, 975.0, 1110.0, 1890.0],
    'Theory [TYPE=BSM]' : [220.0, 270.0, 340.0, 425.0, 520.0, 620.0, 730.0, 850.0, 975.0, 1110.0, 1890.0],
    'SM as BG [TYPE=BSM]' : [220.0, 270.0, 340.0, 425.0, 520.0, 620.0, 730.0, 850.0, 975.0, 1110.0, 1890.0],
}
xedges = {
    'ATLAS Data' : [200.0, 240.0, 300.0, 380.0, 470.0, 570.0, 670.0, 790.0, 910.0, 1040.0, 1180.0, 2600.0],
    'Theory [TYPE=BSM]' : [200.0, 240.0, 300.0, 380.0, 470.0, 570.0, 670.0, 790.0, 910.0, 1040.0, 1180.0, 2600.0],
    'SM as BG [TYPE=BSM]' : [200.0, 240.0, 300.0, 380.0, 470.0, 570.0, 670.0, 790.0, 910.0, 1040.0, 1180.0, 2600.0],
}
ref_xerrs = [
  [abs(xpoints['ATLAS Data'][i]   - xedges['ATLAS Data'][i]) for i in range(len(xpoints['ATLAS Data']))],
  [abs(xedges['ATLAS Data'][i+1] - xpoints['ATLAS Data'][i]) for i in range(len(xpoints['ATLAS Data']))]
]

yvals = {
    'ATLAS Data' : [1.1853, 1.0519, 0.96991, 0.89007, 0.81301, 0.82209, 0.84579, 0.65156, 0.6829, 1.1274, 0.57913],
    'Theory [TYPE=BSM]' : [1.0828, 0.99573, 0.90389, 0.83314, 0.78264, 0.74577, 0.70848, 0.67796, 0.66972, 0.61876, 0.58949],
    'SM as BG [TYPE=BSM]' : [1.083764, 0.99666, 0.9048423, 0.8339267, 0.7835409, 0.746456, 0.7096328, 0.6777304, 0.6647436, 0.6110232, 0.5572739],
}
xerrs = {
    'ATLAS Data' : [
        [20.0, 30.0, 40.0, 45.0, 50.0, 50.0, 60.0, 60.0, 65.0, 70.0, 710.0],
        [20.0, 30.0, 40.0, 45.0, 50.0, 50.0, 60.0, 60.0, 65.0, 70.0, 710.0],
    ],
    'Theory [TYPE=BSM]' : [
        [20.0, 30.0, 40.0, 45.0, 50.0, 50.0, 60.0, 60.0, 65.0, 70.0, 710.0],
        [20.0, 30.0, 40.0, 45.0, 50.0, 50.0, 60.0, 60.0, 65.0, 70.0, 710.0],
    ],
    'SM as BG [TYPE=BSM]' : [
        [20.0, 30.0, 40.0, 45.0, 50.0, 50.0, 60.0, 60.0, 65.0, 70.0, 710.0],
        [20.0, 30.0, 40.0, 45.0, 50.0, 50.0, 60.0, 60.0, 65.0, 70.0, 710.0],
    ],
}
yerrs = {
    'ATLAS Data' : [
        [0.041346333435293404, 0.024862868846169554, 0.015095256706957152, 0.01635994588211908, 0.02431825777950676, 0.027728748104482906, 0.04051228743385902, 0.047925936229386276, 0.10659477984463099, 0.21866840777955518, 0.15558538788140258],
        [0.041346333435293404, 0.024862868846169554, 0.015095256706957152, 0.01635994588211908, 0.02431825777950676, 0.027728748104482906, 0.04051228743385902, 0.047925936229386276, 0.10659477984463099, 0.21866840777955518, 0.15558538788140258],
    ],
    'Theory [TYPE=BSM]' : [
        [0.04422429, 0.03546919, 0.02817303, 0.02308924, 0.02346164, 0.02794169, 0.03385998, 0.04542753, 0.05198003, 0.08226297, 0.07619107],
        [0.04422429, 0.03546919, 0.02817303, 0.02308924, 0.02346164, 0.02794169, 0.03385998, 0.04542753, 0.05198003, 0.08226297, 0.07619107],
    ],
    'SM as BG [TYPE=BSM]' : [
        [0.044224408213029885, 0.03546932782464323, 0.02817329819001524, 0.02308958988178175, 0.0234612709832488, 0.02793789613034342, 0.03385159290578364, 0.045466144797587336, 0.05195416227708582, 0.08226967851096935, 0.07645759143510993],
        [0.044224408213029885, 0.03546932782464323, 0.02817329819001524, 0.02308958988178175, 0.0234612709832488, 0.02793789613034342, 0.03385159290578364, 0.045466144797587336, 0.05195416227708582, 0.08226967851096935, 0.07645759143510993],
    ],
}
variation_yvals = {
}


# lists for ratio plot
ratio0_yvals = {
    'ATLAS Data' : [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],
    'Theory [TYPE=BSM]' : [-2.479058999521965, -2.259192225464109, -4.373559276376702, -3.479840361955157, -1.248855912103749, -2.752378135227147, -3.3893420662601303, 0.5508499588540651, -0.12364582974148171, -2.326079039788738, 0.06658722995180626],
    'SM as BG [TYPE=BSM]' : [-2.45574375195573, -2.221787048863048, -4.310473234285008, -3.431753405820426, -1.2118096726827994, -2.727638468026338, -3.3608865019604837, 0.5460592334543333, -0.1703310427252078, -2.361460465384518, -0.140476559512518],
}
ratio0_yerrs = {
    'ATLAS Data' : [
        [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
        [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
    ],
    'Theory [TYPE=BSM]' : [
        [1.0696060889948216, 1.4265928127382808, 1.8663498439887758, 1.4113274069711828, 0.9647747060141519, 1.0076794630148727, 0.8357953140829265, 0.9478694330053723, 0.48764142180099596, 0.37619961125308626, 0.48970582030542514],
        [1.0696060889948216, 1.4265928127382808, 1.8663498439887758, 1.4113274069711828, 0.9647747060141519, 1.0076794630148727, 0.8357953140829265, 0.9478694330053723, 0.48764142180099596, 0.37619961125308626, 0.48970582030542514],
    ],
    'SM as BG [TYPE=BSM]' : [
        [1.069608948088242, 1.426598356130883, 1.8663676104978484, 1.4113487934589053, 0.9647595315409416, 1.007542642209177, 0.8355882881471521, 0.9486751511743928, 0.4873987483515842, 0.37623029017482656, 0.4914188438659222],
        [1.069608948088242, 1.426598356130883, 1.8663676104978484, 1.4113487934589053, 0.9647595315409416, 1.007542642209177, 0.8355882881471521, 0.9486751511743928, 0.4873987483515842, 0.37623029017482656, 0.4914188438659222],
    ],
}
ratio0_variation_vals = {
}
ratio_band_edges = {
    'ratio0_ATLAS Data_1sigma-band_dn' : [-1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0],
    'ratio0_ATLAS Data_1sigma-band_up' : [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
    'ratio0_Theory [TYPE=BSM]_1sigma-band_dn' : [-3.5486650885167865, -3.5486650885167865, -3.6857850382023893, -6.2399091203654775, -4.89116776892634, -2.213630618117901, -3.7600575982420197, -4.225137380343058, -0.3970194741513072, -0.6112872515424778, -2.7022786510418246, -0.4231185903536189],
    'ratio0_Theory [TYPE=BSM]_1sigma-band_up' : [-1.4094529105271434, -1.4094529105271434, -0.8325994127258279, -2.5072094323879264, -2.0685129549839743, -0.28408120608959714, -1.7446986722122741, -2.553546752177204, 1.4987193918594373, 0.36399559205951426, -1.949879428535652, 0.5562930502572314],
    'ratio0_SM as BG [TYPE=BSM]_1sigma-band_dn' : [-3.525352700043972, -3.525352700043972, -3.648385404993931, -6.176840844782856, -4.843102199279332, -2.176569204223741, -3.7351811102355152, -4.196474790107636, -0.4026159177200596, -0.6577297910767921, -2.7376907555593446, -0.6318954033784402],
    'ratio0_SM as BG [TYPE=BSM]_1sigma-band_up' : [-1.386134803867488, -1.386134803867488, -0.7951886927321649, -2.44410562378716, -2.0204046123615207, -0.24705014114185772, -1.7200958258171608, -2.5252982138133313, 1.4947343846287262, 0.3170677056263764, -1.9852301752096917, 0.35094228435340424],
}